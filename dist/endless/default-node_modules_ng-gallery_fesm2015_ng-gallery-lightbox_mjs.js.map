{"version":3,"file":"default-node_modules_ng-gallery_fesm2015_ng-gallery-lightbox_mjs.js","mappings":"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","sources":["./node_modules/@angular/cdk/fesm2015/a11y.mjs","./node_modules/@angular/cdk/fesm2015/observers.mjs","./node_modules/ng-gallery/fesm2015/ng-gallery-lightbox.mjs","./node_modules/ng-gallery/fesm2015/ng-gallery.mjs"],"sourcesContent":["import { DOCUMENT } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { inject, APP_ID, Injectable, Inject, QueryList, Directive, Input, InjectionToken, Optional, EventEmitter, Output, NgModule } from '@angular/core';\nimport * as i1 from '@angular/cdk/platform';\nimport { _getFocusedElementPierceShadowDom, normalizePassiveListenerOptions, _getEventTarget, _getShadowRoot } from '@angular/cdk/platform';\nimport { Subject, Subscription, BehaviorSubject, of } from 'rxjs';\nimport { hasModifierKey, A, Z, ZERO, NINE, END, HOME, LEFT_ARROW, RIGHT_ARROW, UP_ARROW, DOWN_ARROW, TAB, ALT, CONTROL, MAC_META, META, SHIFT } from '@angular/cdk/keycodes';\nimport { tap, debounceTime, filter, map, take, skip, distinctUntilChanged, takeUntil } from 'rxjs/operators';\nimport { coerceBooleanProperty, coerceElement } from '@angular/cdk/coercion';\nimport * as i1$1 from '@angular/cdk/observers';\nimport { ObserversModule } from '@angular/cdk/observers';\nimport { BreakpointObserver } from '@angular/cdk/layout';\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** IDs are delimited by an empty space, as per the spec. */\nconst ID_DELIMITER = ' ';\n/**\n * Adds the given ID to the specified ARIA attribute on an element.\n * Used for attributes such as aria-labelledby, aria-owns, etc.\n */\nfunction addAriaReferencedId(el, attr, id) {\n    const ids = getAriaReferenceIds(el, attr);\n    if (ids.some(existingId => existingId.trim() == id.trim())) {\n        return;\n    }\n    ids.push(id.trim());\n    el.setAttribute(attr, ids.join(ID_DELIMITER));\n}\n/**\n * Removes the given ID from the specified ARIA attribute on an element.\n * Used for attributes such as aria-labelledby, aria-owns, etc.\n */\nfunction removeAriaReferencedId(el, attr, id) {\n    const ids = getAriaReferenceIds(el, attr);\n    const filteredIds = ids.filter(val => val != id.trim());\n    if (filteredIds.length) {\n        el.setAttribute(attr, filteredIds.join(ID_DELIMITER));\n    }\n    else {\n        el.removeAttribute(attr);\n    }\n}\n/**\n * Gets the list of IDs referenced by the given ARIA attribute on an element.\n * Used for attributes such as aria-labelledby, aria-owns, etc.\n */\nfunction getAriaReferenceIds(el, attr) {\n    // Get string array of all individual ids (whitespace delimited) in the attribute value\n    return (el.getAttribute(attr) || '').match(/\\S+/g) || [];\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * ID used for the body container where all messages are appended.\n * @deprecated No longer being used. To be removed.\n * @breaking-change 14.0.0\n */\nconst MESSAGES_CONTAINER_ID = 'cdk-describedby-message-container';\n/**\n * ID prefix used for each created message element.\n * @deprecated To be turned into a private variable.\n * @breaking-change 14.0.0\n */\nconst CDK_DESCRIBEDBY_ID_PREFIX = 'cdk-describedby-message';\n/**\n * Attribute given to each host element that is described by a message element.\n * @deprecated To be turned into a private variable.\n * @breaking-change 14.0.0\n */\nconst CDK_DESCRIBEDBY_HOST_ATTRIBUTE = 'cdk-describedby-host';\n/** Global incremental identifier for each registered message element. */\nlet nextId = 0;\n/**\n * Utility that creates visually hidden elements with a message content. Useful for elements that\n * want to use aria-describedby to further describe themselves without adding additional visual\n * content.\n */\nclass AriaDescriber {\n    constructor(_document, \n    /**\n     * @deprecated To be turned into a required parameter.\n     * @breaking-change 14.0.0\n     */\n    _platform) {\n        this._platform = _platform;\n        /** Map of all registered message elements that have been placed into the document. */\n        this._messageRegistry = new Map();\n        /** Container for all registered messages. */\n        this._messagesContainer = null;\n        /** Unique ID for the service. */\n        this._id = `${nextId++}`;\n        this._document = _document;\n        this._id = inject(APP_ID) + '-' + nextId++;\n    }\n    describe(hostElement, message, role) {\n        if (!this._canBeDescribed(hostElement, message)) {\n            return;\n        }\n        const key = getKey(message, role);\n        if (typeof message !== 'string') {\n            // We need to ensure that the element has an ID.\n            setMessageId(message, this._id);\n            this._messageRegistry.set(key, { messageElement: message, referenceCount: 0 });\n        }\n        else if (!this._messageRegistry.has(key)) {\n            this._createMessageElement(message, role);\n        }\n        if (!this._isElementDescribedByMessage(hostElement, key)) {\n            this._addMessageReference(hostElement, key);\n        }\n    }\n    removeDescription(hostElement, message, role) {\n        var _a;\n        if (!message || !this._isElementNode(hostElement)) {\n            return;\n        }\n        const key = getKey(message, role);\n        if (this._isElementDescribedByMessage(hostElement, key)) {\n            this._removeMessageReference(hostElement, key);\n        }\n        // If the message is a string, it means that it's one that we created for the\n        // consumer so we can remove it safely, otherwise we should leave it in place.\n        if (typeof message === 'string') {\n            const registeredMessage = this._messageRegistry.get(key);\n            if (registeredMessage && registeredMessage.referenceCount === 0) {\n                this._deleteMessageElement(key);\n            }\n        }\n        if (((_a = this._messagesContainer) === null || _a === void 0 ? void 0 : _a.childNodes.length) === 0) {\n            this._messagesContainer.remove();\n            this._messagesContainer = null;\n        }\n    }\n    /** Unregisters all created message elements and removes the message container. */\n    ngOnDestroy() {\n        var _a;\n        const describedElements = this._document.querySelectorAll(`[${CDK_DESCRIBEDBY_HOST_ATTRIBUTE}=\"${this._id}\"]`);\n        for (let i = 0; i < describedElements.length; i++) {\n            this._removeCdkDescribedByReferenceIds(describedElements[i]);\n            describedElements[i].removeAttribute(CDK_DESCRIBEDBY_HOST_ATTRIBUTE);\n        }\n        (_a = this._messagesContainer) === null || _a === void 0 ? void 0 : _a.remove();\n        this._messagesContainer = null;\n        this._messageRegistry.clear();\n    }\n    /**\n     * Creates a new element in the visually hidden message container element with the message\n     * as its content and adds it to the message registry.\n     */\n    _createMessageElement(message, role) {\n        const messageElement = this._document.createElement('div');\n        setMessageId(messageElement, this._id);\n        messageElement.textContent = message;\n        if (role) {\n            messageElement.setAttribute('role', role);\n        }\n        this._createMessagesContainer();\n        this._messagesContainer.appendChild(messageElement);\n        this._messageRegistry.set(getKey(message, role), { messageElement, referenceCount: 0 });\n    }\n    /** Deletes the message element from the global messages container. */\n    _deleteMessageElement(key) {\n        var _a, _b;\n        (_b = (_a = this._messageRegistry.get(key)) === null || _a === void 0 ? void 0 : _a.messageElement) === null || _b === void 0 ? void 0 : _b.remove();\n        this._messageRegistry.delete(key);\n    }\n    /** Creates the global container for all aria-describedby messages. */\n    _createMessagesContainer() {\n        if (this._messagesContainer) {\n            return;\n        }\n        const containerClassName = 'cdk-describedby-message-container';\n        const serverContainers = this._document.querySelectorAll(`.${containerClassName}[platform=\"server\"]`);\n        for (let i = 0; i < serverContainers.length; i++) {\n            // When going from the server to the client, we may end up in a situation where there's\n            // already a container on the page, but we don't have a reference to it. Clear the\n            // old container so we don't get duplicates. Doing this, instead of emptying the previous\n            // container, should be slightly faster.\n            serverContainers[i].remove();\n        }\n        const messagesContainer = this._document.createElement('div');\n        // We add `visibility: hidden` in order to prevent text in this container from\n        // being searchable by the browser's Ctrl + F functionality.\n        // Screen-readers will still read the description for elements with aria-describedby even\n        // when the description element is not visible.\n        messagesContainer.style.visibility = 'hidden';\n        // Even though we use `visibility: hidden`, we still apply `cdk-visually-hidden` so that\n        // the description element doesn't impact page layout.\n        messagesContainer.classList.add(containerClassName);\n        messagesContainer.classList.add('cdk-visually-hidden');\n        // @breaking-change 14.0.0 Remove null check for `_platform`.\n        if (this._platform && !this._platform.isBrowser) {\n            messagesContainer.setAttribute('platform', 'server');\n        }\n        this._document.body.appendChild(messagesContainer);\n        this._messagesContainer = messagesContainer;\n    }\n    /** Removes all cdk-describedby messages that are hosted through the element. */\n    _removeCdkDescribedByReferenceIds(element) {\n        // Remove all aria-describedby reference IDs that are prefixed by CDK_DESCRIBEDBY_ID_PREFIX\n        const originalReferenceIds = getAriaReferenceIds(element, 'aria-describedby').filter(id => id.indexOf(CDK_DESCRIBEDBY_ID_PREFIX) != 0);\n        element.setAttribute('aria-describedby', originalReferenceIds.join(' '));\n    }\n    /**\n     * Adds a message reference to the element using aria-describedby and increments the registered\n     * message's reference count.\n     */\n    _addMessageReference(element, key) {\n        const registeredMessage = this._messageRegistry.get(key);\n        // Add the aria-describedby reference and set the\n        // describedby_host attribute to mark the element.\n        addAriaReferencedId(element, 'aria-describedby', registeredMessage.messageElement.id);\n        element.setAttribute(CDK_DESCRIBEDBY_HOST_ATTRIBUTE, this._id);\n        registeredMessage.referenceCount++;\n    }\n    /**\n     * Removes a message reference from the element using aria-describedby\n     * and decrements the registered message's reference count.\n     */\n    _removeMessageReference(element, key) {\n        const registeredMessage = this._messageRegistry.get(key);\n        registeredMessage.referenceCount--;\n        removeAriaReferencedId(element, 'aria-describedby', registeredMessage.messageElement.id);\n        element.removeAttribute(CDK_DESCRIBEDBY_HOST_ATTRIBUTE);\n    }\n    /** Returns true if the element has been described by the provided message ID. */\n    _isElementDescribedByMessage(element, key) {\n        const referenceIds = getAriaReferenceIds(element, 'aria-describedby');\n        const registeredMessage = this._messageRegistry.get(key);\n        const messageId = registeredMessage && registeredMessage.messageElement.id;\n        return !!messageId && referenceIds.indexOf(messageId) != -1;\n    }\n    /** Determines whether a message can be described on a particular element. */\n    _canBeDescribed(element, message) {\n        if (!this._isElementNode(element)) {\n            return false;\n        }\n        if (message && typeof message === 'object') {\n            // We'd have to make some assumptions about the description element's text, if the consumer\n            // passed in an element. Assume that if an element is passed in, the consumer has verified\n            // that it can be used as a description.\n            return true;\n        }\n        const trimmedMessage = message == null ? '' : `${message}`.trim();\n        const ariaLabel = element.getAttribute('aria-label');\n        // We shouldn't set descriptions if they're exactly the same as the `aria-label` of the\n        // element, because screen readers will end up reading out the same text twice in a row.\n        return trimmedMessage ? !ariaLabel || ariaLabel.trim() !== trimmedMessage : false;\n    }\n    /** Checks whether a node is an Element node. */\n    _isElementNode(element) {\n        return element.nodeType === this._document.ELEMENT_NODE;\n    }\n}\nAriaDescriber.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: AriaDescriber, deps: [{ token: DOCUMENT }, { token: i1.Platform }], target: i0.FactoryTarget.Injectable });\nAriaDescriber.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: AriaDescriber, providedIn: 'root' });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: AriaDescriber, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }], ctorParameters: function () {\n        return [{ type: undefined, decorators: [{\n                        type: Inject,\n                        args: [DOCUMENT]\n                    }] }, { type: i1.Platform }];\n    } });\n/** Gets a key that can be used to look messages up in the registry. */\nfunction getKey(message, role) {\n    return typeof message === 'string' ? `${role || ''}/${message}` : message;\n}\n/** Assigns a unique ID to an element, if it doesn't have one already. */\nfunction setMessageId(element, serviceId) {\n    if (!element.id) {\n        element.id = `${CDK_DESCRIBEDBY_ID_PREFIX}-${serviceId}-${nextId++}`;\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * This class manages keyboard events for selectable lists. If you pass it a query list\n * of items, it will set the active item correctly when arrow events occur.\n */\nclass ListKeyManager {\n    constructor(_items) {\n        this._items = _items;\n        this._activeItemIndex = -1;\n        this._activeItem = null;\n        this._wrap = false;\n        this._letterKeyStream = new Subject();\n        this._typeaheadSubscription = Subscription.EMPTY;\n        this._vertical = true;\n        this._allowedModifierKeys = [];\n        this._homeAndEnd = false;\n        /**\n         * Predicate function that can be used to check whether an item should be skipped\n         * by the key manager. By default, disabled items are skipped.\n         */\n        this._skipPredicateFn = (item) => item.disabled;\n        // Buffer for the letters that the user has pressed when the typeahead option is turned on.\n        this._pressedLetters = [];\n        /**\n         * Stream that emits any time the TAB key is pressed, so components can react\n         * when focus is shifted off of the list.\n         */\n        this.tabOut = new Subject();\n        /** Stream that emits whenever the active item of the list manager changes. */\n        this.change = new Subject();\n        // We allow for the items to be an array because, in some cases, the consumer may\n        // not have access to a QueryList of the items they want to manage (e.g. when the\n        // items aren't being collected via `ViewChildren` or `ContentChildren`).\n        if (_items instanceof QueryList) {\n            _items.changes.subscribe((newItems) => {\n                if (this._activeItem) {\n                    const itemArray = newItems.toArray();\n                    const newIndex = itemArray.indexOf(this._activeItem);\n                    if (newIndex > -1 && newIndex !== this._activeItemIndex) {\n                        this._activeItemIndex = newIndex;\n                    }\n                }\n            });\n        }\n    }\n    /**\n     * Sets the predicate function that determines which items should be skipped by the\n     * list key manager.\n     * @param predicate Function that determines whether the given item should be skipped.\n     */\n    skipPredicate(predicate) {\n        this._skipPredicateFn = predicate;\n        return this;\n    }\n    /**\n     * Configures wrapping mode, which determines whether the active item will wrap to\n     * the other end of list when there are no more items in the given direction.\n     * @param shouldWrap Whether the list should wrap when reaching the end.\n     */\n    withWrap(shouldWrap = true) {\n        this._wrap = shouldWrap;\n        return this;\n    }\n    /**\n     * Configures whether the key manager should be able to move the selection vertically.\n     * @param enabled Whether vertical selection should be enabled.\n     */\n    withVerticalOrientation(enabled = true) {\n        this._vertical = enabled;\n        return this;\n    }\n    /**\n     * Configures the key manager to move the selection horizontally.\n     * Passing in `null` will disable horizontal movement.\n     * @param direction Direction in which the selection can be moved.\n     */\n    withHorizontalOrientation(direction) {\n        this._horizontal = direction;\n        return this;\n    }\n    /**\n     * Modifier keys which are allowed to be held down and whose default actions will be prevented\n     * as the user is pressing the arrow keys. Defaults to not allowing any modifier keys.\n     */\n    withAllowedModifierKeys(keys) {\n        this._allowedModifierKeys = keys;\n        return this;\n    }\n    /**\n     * Turns on typeahead mode which allows users to set the active item by typing.\n     * @param debounceInterval Time to wait after the last keystroke before setting the active item.\n     */\n    withTypeAhead(debounceInterval = 200) {\n        if ((typeof ngDevMode === 'undefined' || ngDevMode) &&\n            this._items.length &&\n            this._items.some(item => typeof item.getLabel !== 'function')) {\n            throw Error('ListKeyManager items in typeahead mode must implement the `getLabel` method.');\n        }\n        this._typeaheadSubscription.unsubscribe();\n        // Debounce the presses of non-navigational keys, collect the ones that correspond to letters\n        // and convert those letters back into a string. Afterwards find the first item that starts\n        // with that string and select it.\n        this._typeaheadSubscription = this._letterKeyStream\n            .pipe(tap(letter => this._pressedLetters.push(letter)), debounceTime(debounceInterval), filter(() => this._pressedLetters.length > 0), map(() => this._pressedLetters.join('')))\n            .subscribe(inputString => {\n            const items = this._getItemsArray();\n            // Start at 1 because we want to start searching at the item immediately\n            // following the current active item.\n            for (let i = 1; i < items.length + 1; i++) {\n                const index = (this._activeItemIndex + i) % items.length;\n                const item = items[index];\n                if (!this._skipPredicateFn(item) &&\n                    item.getLabel().toUpperCase().trim().indexOf(inputString) === 0) {\n                    this.setActiveItem(index);\n                    break;\n                }\n            }\n            this._pressedLetters = [];\n        });\n        return this;\n    }\n    /**\n     * Configures the key manager to activate the first and last items\n     * respectively when the Home or End key is pressed.\n     * @param enabled Whether pressing the Home or End key activates the first/last item.\n     */\n    withHomeAndEnd(enabled = true) {\n        this._homeAndEnd = enabled;\n        return this;\n    }\n    setActiveItem(item) {\n        const previousActiveItem = this._activeItem;\n        this.updateActiveItem(item);\n        if (this._activeItem !== previousActiveItem) {\n            this.change.next(this._activeItemIndex);\n        }\n    }\n    /**\n     * Sets the active item depending on the key event passed in.\n     * @param event Keyboard event to be used for determining which element should be active.\n     */\n    onKeydown(event) {\n        const keyCode = event.keyCode;\n        const modifiers = ['altKey', 'ctrlKey', 'metaKey', 'shiftKey'];\n        const isModifierAllowed = modifiers.every(modifier => {\n            return !event[modifier] || this._allowedModifierKeys.indexOf(modifier) > -1;\n        });\n        switch (keyCode) {\n            case TAB:\n                this.tabOut.next();\n                return;\n            case DOWN_ARROW:\n                if (this._vertical && isModifierAllowed) {\n                    this.setNextItemActive();\n                    break;\n                }\n                else {\n                    return;\n                }\n            case UP_ARROW:\n                if (this._vertical && isModifierAllowed) {\n                    this.setPreviousItemActive();\n                    break;\n                }\n                else {\n                    return;\n                }\n            case RIGHT_ARROW:\n                if (this._horizontal && isModifierAllowed) {\n                    this._horizontal === 'rtl' ? this.setPreviousItemActive() : this.setNextItemActive();\n                    break;\n                }\n                else {\n                    return;\n                }\n            case LEFT_ARROW:\n                if (this._horizontal && isModifierAllowed) {\n                    this._horizontal === 'rtl' ? this.setNextItemActive() : this.setPreviousItemActive();\n                    break;\n                }\n                else {\n                    return;\n                }\n            case HOME:\n                if (this._homeAndEnd && isModifierAllowed) {\n                    this.setFirstItemActive();\n                    break;\n                }\n                else {\n                    return;\n                }\n            case END:\n                if (this._homeAndEnd && isModifierAllowed) {\n                    this.setLastItemActive();\n                    break;\n                }\n                else {\n                    return;\n                }\n            default:\n                if (isModifierAllowed || hasModifierKey(event, 'shiftKey')) {\n                    // Attempt to use the `event.key` which also maps it to the user's keyboard language,\n                    // otherwise fall back to resolving alphanumeric characters via the keyCode.\n                    if (event.key && event.key.length === 1) {\n                        this._letterKeyStream.next(event.key.toLocaleUpperCase());\n                    }\n                    else if ((keyCode >= A && keyCode <= Z) || (keyCode >= ZERO && keyCode <= NINE)) {\n                        this._letterKeyStream.next(String.fromCharCode(keyCode));\n                    }\n                }\n                // Note that we return here, in order to avoid preventing\n                // the default action of non-navigational keys.\n                return;\n        }\n        this._pressedLetters = [];\n        event.preventDefault();\n    }\n    /** Index of the currently active item. */\n    get activeItemIndex() {\n        return this._activeItemIndex;\n    }\n    /** The active item. */\n    get activeItem() {\n        return this._activeItem;\n    }\n    /** Gets whether the user is currently typing into the manager using the typeahead feature. */\n    isTyping() {\n        return this._pressedLetters.length > 0;\n    }\n    /** Sets the active item to the first enabled item in the list. */\n    setFirstItemActive() {\n        this._setActiveItemByIndex(0, 1);\n    }\n    /** Sets the active item to the last enabled item in the list. */\n    setLastItemActive() {\n        this._setActiveItemByIndex(this._items.length - 1, -1);\n    }\n    /** Sets the active item to the next enabled item in the list. */\n    setNextItemActive() {\n        this._activeItemIndex < 0 ? this.setFirstItemActive() : this._setActiveItemByDelta(1);\n    }\n    /** Sets the active item to a previous enabled item in the list. */\n    setPreviousItemActive() {\n        this._activeItemIndex < 0 && this._wrap\n            ? this.setLastItemActive()\n            : this._setActiveItemByDelta(-1);\n    }\n    updateActiveItem(item) {\n        const itemArray = this._getItemsArray();\n        const index = typeof item === 'number' ? item : itemArray.indexOf(item);\n        const activeItem = itemArray[index];\n        // Explicitly check for `null` and `undefined` because other falsy values are valid.\n        this._activeItem = activeItem == null ? null : activeItem;\n        this._activeItemIndex = index;\n    }\n    /**\n     * This method sets the active item, given a list of items and the delta between the\n     * currently active item and the new active item. It will calculate differently\n     * depending on whether wrap mode is turned on.\n     */\n    _setActiveItemByDelta(delta) {\n        this._wrap ? this._setActiveInWrapMode(delta) : this._setActiveInDefaultMode(delta);\n    }\n    /**\n     * Sets the active item properly given \"wrap\" mode. In other words, it will continue to move\n     * down the list until it finds an item that is not disabled, and it will wrap if it\n     * encounters either end of the list.\n     */\n    _setActiveInWrapMode(delta) {\n        const items = this._getItemsArray();\n        for (let i = 1; i <= items.length; i++) {\n            const index = (this._activeItemIndex + delta * i + items.length) % items.length;\n            const item = items[index];\n            if (!this._skipPredicateFn(item)) {\n                this.setActiveItem(index);\n                return;\n            }\n        }\n    }\n    /**\n     * Sets the active item properly given the default mode. In other words, it will\n     * continue to move down the list until it finds an item that is not disabled. If\n     * it encounters either end of the list, it will stop and not wrap.\n     */\n    _setActiveInDefaultMode(delta) {\n        this._setActiveItemByIndex(this._activeItemIndex + delta, delta);\n    }\n    /**\n     * Sets the active item to the first enabled item starting at the index specified. If the\n     * item is disabled, it will move in the fallbackDelta direction until it either\n     * finds an enabled item or encounters the end of the list.\n     */\n    _setActiveItemByIndex(index, fallbackDelta) {\n        const items = this._getItemsArray();\n        if (!items[index]) {\n            return;\n        }\n        while (this._skipPredicateFn(items[index])) {\n            index += fallbackDelta;\n            if (!items[index]) {\n                return;\n            }\n        }\n        this.setActiveItem(index);\n    }\n    /** Returns the items as an array. */\n    _getItemsArray() {\n        return this._items instanceof QueryList ? this._items.toArray() : this._items;\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nclass ActiveDescendantKeyManager extends ListKeyManager {\n    setActiveItem(index) {\n        if (this.activeItem) {\n            this.activeItem.setInactiveStyles();\n        }\n        super.setActiveItem(index);\n        if (this.activeItem) {\n            this.activeItem.setActiveStyles();\n        }\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nclass FocusKeyManager extends ListKeyManager {\n    constructor() {\n        super(...arguments);\n        this._origin = 'program';\n    }\n    /**\n     * Sets the focus origin that will be passed in to the items for any subsequent `focus` calls.\n     * @param origin Focus origin to be used when focusing items.\n     */\n    setFocusOrigin(origin) {\n        this._origin = origin;\n        return this;\n    }\n    setActiveItem(item) {\n        super.setActiveItem(item);\n        if (this.activeItem) {\n            this.activeItem.focus(this._origin);\n        }\n    }\n}\n\n/**\n * Configuration for the isFocusable method.\n */\nclass IsFocusableConfig {\n    constructor() {\n        /**\n         * Whether to count an element as focusable even if it is not currently visible.\n         */\n        this.ignoreVisibility = false;\n    }\n}\n// The InteractivityChecker leans heavily on the ally.js accessibility utilities.\n// Methods like `isTabbable` are only covering specific edge-cases for the browsers which are\n// supported.\n/**\n * Utility for checking the interactivity of an element, such as whether is is focusable or\n * tabbable.\n */\nclass InteractivityChecker {\n    constructor(_platform) {\n        this._platform = _platform;\n    }\n    /**\n     * Gets whether an element is disabled.\n     *\n     * @param element Element to be checked.\n     * @returns Whether the element is disabled.\n     */\n    isDisabled(element) {\n        // This does not capture some cases, such as a non-form control with a disabled attribute or\n        // a form control inside of a disabled form, but should capture the most common cases.\n        return element.hasAttribute('disabled');\n    }\n    /**\n     * Gets whether an element is visible for the purposes of interactivity.\n     *\n     * This will capture states like `display: none` and `visibility: hidden`, but not things like\n     * being clipped by an `overflow: hidden` parent or being outside the viewport.\n     *\n     * @returns Whether the element is visible.\n     */\n    isVisible(element) {\n        return hasGeometry(element) && getComputedStyle(element).visibility === 'visible';\n    }\n    /**\n     * Gets whether an element can be reached via Tab key.\n     * Assumes that the element has already been checked with isFocusable.\n     *\n     * @param element Element to be checked.\n     * @returns Whether the element is tabbable.\n     */\n    isTabbable(element) {\n        // Nothing is tabbable on the server \n        if (!this._platform.isBrowser) {\n            return false;\n        }\n        const frameElement = getFrameElement(getWindow(element));\n        if (frameElement) {\n            // Frame elements inherit their tabindex onto all child elements.\n            if (getTabIndexValue(frameElement) === -1) {\n                return false;\n            }\n            // Browsers disable tabbing to an element inside of an invisible frame.\n            if (!this.isVisible(frameElement)) {\n                return false;\n            }\n        }\n        let nodeName = element.nodeName.toLowerCase();\n        let tabIndexValue = getTabIndexValue(element);\n        if (element.hasAttribute('contenteditable')) {\n            return tabIndexValue !== -1;\n        }\n        if (nodeName === 'iframe' || nodeName === 'object') {\n            // The frame or object's content may be tabbable depending on the content, but it's\n            // not possibly to reliably detect the content of the frames. We always consider such\n            // elements as non-tabbable.\n            return false;\n        }\n        // In iOS, the browser only considers some specific elements as tabbable.\n        if (this._platform.WEBKIT && this._platform.IOS && !isPotentiallyTabbableIOS(element)) {\n            return false;\n        }\n        if (nodeName === 'audio') {\n            // Audio elements without controls enabled are never tabbable, regardless\n            // of the tabindex attribute explicitly being set.\n            if (!element.hasAttribute('controls')) {\n                return false;\n            }\n            // Audio elements with controls are by default tabbable unless the\n            // tabindex attribute is set to `-1` explicitly.\n            return tabIndexValue !== -1;\n        }\n        if (nodeName === 'video') {\n            // For all video elements, if the tabindex attribute is set to `-1`, the video\n            // is not tabbable. Note: We cannot rely on the default `HTMLElement.tabIndex`\n            // property as that one is set to `-1` in Chrome, Edge and Safari v13.1. The\n            // tabindex attribute is the source of truth here.\n            if (tabIndexValue === -1) {\n                return false;\n            }\n            // If the tabindex is explicitly set, and not `-1` (as per check before), the\n            // video element is always tabbable (regardless of whether it has controls or not).\n            if (tabIndexValue !== null) {\n                return true;\n            }\n            // Otherwise (when no explicit tabindex is set), a video is only tabbable if it\n            // has controls enabled. Firefox is special as videos are always tabbable regardless\n            // of whether there are controls or not.\n            return this._platform.FIREFOX || element.hasAttribute('controls');\n        }\n        return element.tabIndex >= 0;\n    }\n    /**\n     * Gets whether an element can be focused by the user.\n     *\n     * @param element Element to be checked.\n     * @param config The config object with options to customize this method's behavior\n     * @returns Whether the element is focusable.\n     */\n    isFocusable(element, config) {\n        // Perform checks in order of left to most expensive.\n        // Again, naive approach that does not capture many edge cases and browser quirks.\n        return (isPotentiallyFocusable(element) &&\n            !this.isDisabled(element) &&\n            ((config === null || config === void 0 ? void 0 : config.ignoreVisibility) || this.isVisible(element)));\n    }\n}\nInteractivityChecker.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: InteractivityChecker, deps: [{ token: i1.Platform }], target: i0.FactoryTarget.Injectable });\nInteractivityChecker.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: InteractivityChecker, providedIn: 'root' });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: InteractivityChecker, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }], ctorParameters: function () { return [{ type: i1.Platform }]; } });\n/**\n * Returns the frame element from a window object. Since browsers like MS Edge throw errors if\n * the frameElement property is being accessed from a different host address, this property\n * should be accessed carefully.\n */\nfunction getFrameElement(window) {\n    try {\n        return window.frameElement;\n    }\n    catch (_a) {\n        return null;\n    }\n}\n/** Checks whether the specified element has any geometry / rectangles. */\nfunction hasGeometry(element) {\n    // Use logic from jQuery to check for an invisible element.\n    // See https://github.com/jquery/jquery/blob/master/src/css/hiddenVisibleSelectors.js#L12\n    return !!(element.offsetWidth ||\n        element.offsetHeight ||\n        (typeof element.getClientRects === 'function' && element.getClientRects().length));\n}\n/** Gets whether an element's  */\nfunction isNativeFormElement(element) {\n    let nodeName = element.nodeName.toLowerCase();\n    return (nodeName === 'input' ||\n        nodeName === 'select' ||\n        nodeName === 'button' ||\n        nodeName === 'textarea');\n}\n/** Gets whether an element is an `<input type=\"hidden\">`. */\nfunction isHiddenInput(element) {\n    return isInputElement(element) && element.type == 'hidden';\n}\n/** Gets whether an element is an anchor that has an href attribute. */\nfunction isAnchorWithHref(element) {\n    return isAnchorElement(element) && element.hasAttribute('href');\n}\n/** Gets whether an element is an input element. */\nfunction isInputElement(element) {\n    return element.nodeName.toLowerCase() == 'input';\n}\n/** Gets whether an element is an anchor element. */\nfunction isAnchorElement(element) {\n    return element.nodeName.toLowerCase() == 'a';\n}\n/** Gets whether an element has a valid tabindex. */\nfunction hasValidTabIndex(element) {\n    if (!element.hasAttribute('tabindex') || element.tabIndex === undefined) {\n        return false;\n    }\n    let tabIndex = element.getAttribute('tabindex');\n    return !!(tabIndex && !isNaN(parseInt(tabIndex, 10)));\n}\n/**\n * Returns the parsed tabindex from the element attributes instead of returning the\n * evaluated tabindex from the browsers defaults.\n */\nfunction getTabIndexValue(element) {\n    if (!hasValidTabIndex(element)) {\n        return null;\n    }\n    // See browser issue in Gecko https://bugzilla.mozilla.org/show_bug.cgi?id=1128054\n    const tabIndex = parseInt(element.getAttribute('tabindex') || '', 10);\n    return isNaN(tabIndex) ? -1 : tabIndex;\n}\n/** Checks whether the specified element is potentially tabbable on iOS */\nfunction isPotentiallyTabbableIOS(element) {\n    let nodeName = element.nodeName.toLowerCase();\n    let inputType = nodeName === 'input' && element.type;\n    return (inputType === 'text' ||\n        inputType === 'password' ||\n        nodeName === 'select' ||\n        nodeName === 'textarea');\n}\n/**\n * Gets whether an element is potentially focusable without taking current visible/disabled state\n * into account.\n */\nfunction isPotentiallyFocusable(element) {\n    // Inputs are potentially focusable *unless* they're type=\"hidden\".\n    if (isHiddenInput(element)) {\n        return false;\n    }\n    return (isNativeFormElement(element) ||\n        isAnchorWithHref(element) ||\n        element.hasAttribute('contenteditable') ||\n        hasValidTabIndex(element));\n}\n/** Gets the parent window of a DOM node with regards of being inside of an iframe. */\nfunction getWindow(node) {\n    // ownerDocument is null if `node` itself *is* a document.\n    return (node.ownerDocument && node.ownerDocument.defaultView) || window;\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Class that allows for trapping focus within a DOM element.\n *\n * This class currently uses a relatively simple approach to focus trapping.\n * It assumes that the tab order is the same as DOM order, which is not necessarily true.\n * Things like `tabIndex > 0`, flex `order`, and shadow roots can cause the two to be misaligned.\n *\n * @deprecated Use `ConfigurableFocusTrap` instead.\n * @breaking-change 11.0.0\n */\nclass FocusTrap {\n    constructor(_element, _checker, _ngZone, _document, deferAnchors = false) {\n        this._element = _element;\n        this._checker = _checker;\n        this._ngZone = _ngZone;\n        this._document = _document;\n        this._hasAttached = false;\n        // Event listeners for the anchors. Need to be regular functions so that we can unbind them later.\n        this.startAnchorListener = () => this.focusLastTabbableElement();\n        this.endAnchorListener = () => this.focusFirstTabbableElement();\n        this._enabled = true;\n        if (!deferAnchors) {\n            this.attachAnchors();\n        }\n    }\n    /** Whether the focus trap is active. */\n    get enabled() {\n        return this._enabled;\n    }\n    set enabled(value) {\n        this._enabled = value;\n        if (this._startAnchor && this._endAnchor) {\n            this._toggleAnchorTabIndex(value, this._startAnchor);\n            this._toggleAnchorTabIndex(value, this._endAnchor);\n        }\n    }\n    /** Destroys the focus trap by cleaning up the anchors. */\n    destroy() {\n        const startAnchor = this._startAnchor;\n        const endAnchor = this._endAnchor;\n        if (startAnchor) {\n            startAnchor.removeEventListener('focus', this.startAnchorListener);\n            startAnchor.remove();\n        }\n        if (endAnchor) {\n            endAnchor.removeEventListener('focus', this.endAnchorListener);\n            endAnchor.remove();\n        }\n        this._startAnchor = this._endAnchor = null;\n        this._hasAttached = false;\n    }\n    /**\n     * Inserts the anchors into the DOM. This is usually done automatically\n     * in the constructor, but can be deferred for cases like directives with `*ngIf`.\n     * @returns Whether the focus trap managed to attach successfully. This may not be the case\n     * if the target element isn't currently in the DOM.\n     */\n    attachAnchors() {\n        // If we're not on the browser, there can be no focus to trap.\n        if (this._hasAttached) {\n            return true;\n        }\n        this._ngZone.runOutsideAngular(() => {\n            if (!this._startAnchor) {\n                this._startAnchor = this._createAnchor();\n                this._startAnchor.addEventListener('focus', this.startAnchorListener);\n            }\n            if (!this._endAnchor) {\n                this._endAnchor = this._createAnchor();\n                this._endAnchor.addEventListener('focus', this.endAnchorListener);\n            }\n        });\n        if (this._element.parentNode) {\n            this._element.parentNode.insertBefore(this._startAnchor, this._element);\n            this._element.parentNode.insertBefore(this._endAnchor, this._element.nextSibling);\n            this._hasAttached = true;\n        }\n        return this._hasAttached;\n    }\n    /**\n     * Waits for the zone to stabilize, then focuses the first tabbable element.\n     * @returns Returns a promise that resolves with a boolean, depending\n     * on whether focus was moved successfully.\n     */\n    focusInitialElementWhenReady(options) {\n        return new Promise(resolve => {\n            this._executeOnStable(() => resolve(this.focusInitialElement(options)));\n        });\n    }\n    /**\n     * Waits for the zone to stabilize, then focuses\n     * the first tabbable element within the focus trap region.\n     * @returns Returns a promise that resolves with a boolean, depending\n     * on whether focus was moved successfully.\n     */\n    focusFirstTabbableElementWhenReady(options) {\n        return new Promise(resolve => {\n            this._executeOnStable(() => resolve(this.focusFirstTabbableElement(options)));\n        });\n    }\n    /**\n     * Waits for the zone to stabilize, then focuses\n     * the last tabbable element within the focus trap region.\n     * @returns Returns a promise that resolves with a boolean, depending\n     * on whether focus was moved successfully.\n     */\n    focusLastTabbableElementWhenReady(options) {\n        return new Promise(resolve => {\n            this._executeOnStable(() => resolve(this.focusLastTabbableElement(options)));\n        });\n    }\n    /**\n     * Get the specified boundary element of the trapped region.\n     * @param bound The boundary to get (start or end of trapped region).\n     * @returns The boundary element.\n     */\n    _getRegionBoundary(bound) {\n        // Contains the deprecated version of selector, for temporary backwards comparability.\n        const markers = this._element.querySelectorAll(`[cdk-focus-region-${bound}], ` + `[cdkFocusRegion${bound}], ` + `[cdk-focus-${bound}]`);\n        if (typeof ngDevMode === 'undefined' || ngDevMode) {\n            for (let i = 0; i < markers.length; i++) {\n                // @breaking-change 8.0.0\n                if (markers[i].hasAttribute(`cdk-focus-${bound}`)) {\n                    console.warn(`Found use of deprecated attribute 'cdk-focus-${bound}', ` +\n                        `use 'cdkFocusRegion${bound}' instead. The deprecated ` +\n                        `attribute will be removed in 8.0.0.`, markers[i]);\n                }\n                else if (markers[i].hasAttribute(`cdk-focus-region-${bound}`)) {\n                    console.warn(`Found use of deprecated attribute 'cdk-focus-region-${bound}', ` +\n                        `use 'cdkFocusRegion${bound}' instead. The deprecated attribute ` +\n                        `will be removed in 8.0.0.`, markers[i]);\n                }\n            }\n        }\n        if (bound == 'start') {\n            return markers.length ? markers[0] : this._getFirstTabbableElement(this._element);\n        }\n        return markers.length\n            ? markers[markers.length - 1]\n            : this._getLastTabbableElement(this._element);\n    }\n    /**\n     * Focuses the element that should be focused when the focus trap is initialized.\n     * @returns Whether focus was moved successfully.\n     */\n    focusInitialElement(options) {\n        // Contains the deprecated version of selector, for temporary backwards comparability.\n        const redirectToElement = this._element.querySelector(`[cdk-focus-initial], ` + `[cdkFocusInitial]`);\n        if (redirectToElement) {\n            // @breaking-change 8.0.0\n            if ((typeof ngDevMode === 'undefined' || ngDevMode) &&\n                redirectToElement.hasAttribute(`cdk-focus-initial`)) {\n                console.warn(`Found use of deprecated attribute 'cdk-focus-initial', ` +\n                    `use 'cdkFocusInitial' instead. The deprecated attribute ` +\n                    `will be removed in 8.0.0`, redirectToElement);\n            }\n            // Warn the consumer if the element they've pointed to\n            // isn't focusable, when not in production mode.\n            if ((typeof ngDevMode === 'undefined' || ngDevMode) &&\n                !this._checker.isFocusable(redirectToElement)) {\n                console.warn(`Element matching '[cdkFocusInitial]' is not focusable.`, redirectToElement);\n            }\n            if (!this._checker.isFocusable(redirectToElement)) {\n                const focusableChild = this._getFirstTabbableElement(redirectToElement);\n                focusableChild === null || focusableChild === void 0 ? void 0 : focusableChild.focus(options);\n                return !!focusableChild;\n            }\n            redirectToElement.focus(options);\n            return true;\n        }\n        return this.focusFirstTabbableElement(options);\n    }\n    /**\n     * Focuses the first tabbable element within the focus trap region.\n     * @returns Whether focus was moved successfully.\n     */\n    focusFirstTabbableElement(options) {\n        const redirectToElement = this._getRegionBoundary('start');\n        if (redirectToElement) {\n            redirectToElement.focus(options);\n        }\n        return !!redirectToElement;\n    }\n    /**\n     * Focuses the last tabbable element within the focus trap region.\n     * @returns Whether focus was moved successfully.\n     */\n    focusLastTabbableElement(options) {\n        const redirectToElement = this._getRegionBoundary('end');\n        if (redirectToElement) {\n            redirectToElement.focus(options);\n        }\n        return !!redirectToElement;\n    }\n    /**\n     * Checks whether the focus trap has successfully been attached.\n     */\n    hasAttached() {\n        return this._hasAttached;\n    }\n    /** Get the first tabbable element from a DOM subtree (inclusive). */\n    _getFirstTabbableElement(root) {\n        if (this._checker.isFocusable(root) && this._checker.isTabbable(root)) {\n            return root;\n        }\n        const children = root.children;\n        for (let i = 0; i < children.length; i++) {\n            const tabbableChild = children[i].nodeType === this._document.ELEMENT_NODE\n                ? this._getFirstTabbableElement(children[i])\n                : null;\n            if (tabbableChild) {\n                return tabbableChild;\n            }\n        }\n        return null;\n    }\n    /** Get the last tabbable element from a DOM subtree (inclusive). */\n    _getLastTabbableElement(root) {\n        if (this._checker.isFocusable(root) && this._checker.isTabbable(root)) {\n            return root;\n        }\n        // Iterate in reverse DOM order.\n        const children = root.children;\n        for (let i = children.length - 1; i >= 0; i--) {\n            const tabbableChild = children[i].nodeType === this._document.ELEMENT_NODE\n                ? this._getLastTabbableElement(children[i])\n                : null;\n            if (tabbableChild) {\n                return tabbableChild;\n            }\n        }\n        return null;\n    }\n    /** Creates an anchor element. */\n    _createAnchor() {\n        const anchor = this._document.createElement('div');\n        this._toggleAnchorTabIndex(this._enabled, anchor);\n        anchor.classList.add('cdk-visually-hidden');\n        anchor.classList.add('cdk-focus-trap-anchor');\n        anchor.setAttribute('aria-hidden', 'true');\n        return anchor;\n    }\n    /**\n     * Toggles the `tabindex` of an anchor, based on the enabled state of the focus trap.\n     * @param isEnabled Whether the focus trap is enabled.\n     * @param anchor Anchor on which to toggle the tabindex.\n     */\n    _toggleAnchorTabIndex(isEnabled, anchor) {\n        // Remove the tabindex completely, rather than setting it to -1, because if the\n        // element has a tabindex, the user might still hit it when navigating with the arrow keys.\n        isEnabled ? anchor.setAttribute('tabindex', '0') : anchor.removeAttribute('tabindex');\n    }\n    /**\n     * Toggles the`tabindex` of both anchors to either trap Tab focus or allow it to escape.\n     * @param enabled: Whether the anchors should trap Tab.\n     */\n    toggleAnchors(enabled) {\n        if (this._startAnchor && this._endAnchor) {\n            this._toggleAnchorTabIndex(enabled, this._startAnchor);\n            this._toggleAnchorTabIndex(enabled, this._endAnchor);\n        }\n    }\n    /** Executes a function when the zone is stable. */\n    _executeOnStable(fn) {\n        if (this._ngZone.isStable) {\n            fn();\n        }\n        else {\n            this._ngZone.onStable.pipe(take(1)).subscribe(fn);\n        }\n    }\n}\n/**\n * Factory that allows easy instantiation of focus traps.\n * @deprecated Use `ConfigurableFocusTrapFactory` instead.\n * @breaking-change 11.0.0\n */\nclass FocusTrapFactory {\n    constructor(_checker, _ngZone, _document) {\n        this._checker = _checker;\n        this._ngZone = _ngZone;\n        this._document = _document;\n    }\n    /**\n     * Creates a focus-trapped region around the given element.\n     * @param element The element around which focus will be trapped.\n     * @param deferCaptureElements Defers the creation of focus-capturing elements to be done\n     *     manually by the user.\n     * @returns The created focus trap instance.\n     */\n    create(element, deferCaptureElements = false) {\n        return new FocusTrap(element, this._checker, this._ngZone, this._document, deferCaptureElements);\n    }\n}\nFocusTrapFactory.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: FocusTrapFactory, deps: [{ token: InteractivityChecker }, { token: i0.NgZone }, { token: DOCUMENT }], target: i0.FactoryTarget.Injectable });\nFocusTrapFactory.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: FocusTrapFactory, providedIn: 'root' });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: FocusTrapFactory, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }], ctorParameters: function () {\n        return [{ type: InteractivityChecker }, { type: i0.NgZone }, { type: undefined, decorators: [{\n                        type: Inject,\n                        args: [DOCUMENT]\n                    }] }];\n    } });\n/** Directive for trapping focus within a region. */\nclass CdkTrapFocus {\n    constructor(_elementRef, _focusTrapFactory, \n    /**\n     * @deprecated No longer being used. To be removed.\n     * @breaking-change 13.0.0\n     */\n    _document) {\n        this._elementRef = _elementRef;\n        this._focusTrapFactory = _focusTrapFactory;\n        /** Previously focused element to restore focus to upon destroy when using autoCapture. */\n        this._previouslyFocusedElement = null;\n        this.focusTrap = this._focusTrapFactory.create(this._elementRef.nativeElement, true);\n    }\n    /** Whether the focus trap is active. */\n    get enabled() {\n        return this.focusTrap.enabled;\n    }\n    set enabled(value) {\n        this.focusTrap.enabled = coerceBooleanProperty(value);\n    }\n    /**\n     * Whether the directive should automatically move focus into the trapped region upon\n     * initialization and return focus to the previous activeElement upon destruction.\n     */\n    get autoCapture() {\n        return this._autoCapture;\n    }\n    set autoCapture(value) {\n        this._autoCapture = coerceBooleanProperty(value);\n    }\n    ngOnDestroy() {\n        this.focusTrap.destroy();\n        // If we stored a previously focused element when using autoCapture, return focus to that\n        // element now that the trapped region is being destroyed.\n        if (this._previouslyFocusedElement) {\n            this._previouslyFocusedElement.focus();\n            this._previouslyFocusedElement = null;\n        }\n    }\n    ngAfterContentInit() {\n        this.focusTrap.attachAnchors();\n        if (this.autoCapture) {\n            this._captureFocus();\n        }\n    }\n    ngDoCheck() {\n        if (!this.focusTrap.hasAttached()) {\n            this.focusTrap.attachAnchors();\n        }\n    }\n    ngOnChanges(changes) {\n        const autoCaptureChange = changes['autoCapture'];\n        if (autoCaptureChange &&\n            !autoCaptureChange.firstChange &&\n            this.autoCapture &&\n            this.focusTrap.hasAttached()) {\n            this._captureFocus();\n        }\n    }\n    _captureFocus() {\n        this._previouslyFocusedElement = _getFocusedElementPierceShadowDom();\n        this.focusTrap.focusInitialElementWhenReady();\n    }\n}\nCdkTrapFocus.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: CdkTrapFocus, deps: [{ token: i0.ElementRef }, { token: FocusTrapFactory }, { token: DOCUMENT }], target: i0.FactoryTarget.Directive });\nCdkTrapFocus.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.0.1\", type: CdkTrapFocus, selector: \"[cdkTrapFocus]\", inputs: { enabled: [\"cdkTrapFocus\", \"enabled\"], autoCapture: [\"cdkTrapFocusAutoCapture\", \"autoCapture\"] }, exportAs: [\"cdkTrapFocus\"], usesOnChanges: true, ngImport: i0 });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: CdkTrapFocus, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[cdkTrapFocus]',\n                    exportAs: 'cdkTrapFocus',\n                }]\n        }], ctorParameters: function () {\n        return [{ type: i0.ElementRef }, { type: FocusTrapFactory }, { type: undefined, decorators: [{\n                        type: Inject,\n                        args: [DOCUMENT]\n                    }] }];\n    }, propDecorators: { enabled: [{\n                type: Input,\n                args: ['cdkTrapFocus']\n            }], autoCapture: [{\n                type: Input,\n                args: ['cdkTrapFocusAutoCapture']\n            }] } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Class that allows for trapping focus within a DOM element.\n *\n * This class uses a strategy pattern that determines how it traps focus.\n * See FocusTrapInertStrategy.\n */\nclass ConfigurableFocusTrap extends FocusTrap {\n    constructor(_element, _checker, _ngZone, _document, _focusTrapManager, _inertStrategy, config) {\n        super(_element, _checker, _ngZone, _document, config.defer);\n        this._focusTrapManager = _focusTrapManager;\n        this._inertStrategy = _inertStrategy;\n        this._focusTrapManager.register(this);\n    }\n    /** Whether the FocusTrap is enabled. */\n    get enabled() {\n        return this._enabled;\n    }\n    set enabled(value) {\n        this._enabled = value;\n        if (this._enabled) {\n            this._focusTrapManager.register(this);\n        }\n        else {\n            this._focusTrapManager.deregister(this);\n        }\n    }\n    /** Notifies the FocusTrapManager that this FocusTrap will be destroyed. */\n    destroy() {\n        this._focusTrapManager.deregister(this);\n        super.destroy();\n    }\n    /** @docs-private Implemented as part of ManagedFocusTrap. */\n    _enable() {\n        this._inertStrategy.preventFocus(this);\n        this.toggleAnchors(true);\n    }\n    /** @docs-private Implemented as part of ManagedFocusTrap. */\n    _disable() {\n        this._inertStrategy.allowFocus(this);\n        this.toggleAnchors(false);\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** The injection token used to specify the inert strategy. */\nconst FOCUS_TRAP_INERT_STRATEGY = new InjectionToken('FOCUS_TRAP_INERT_STRATEGY');\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Lightweight FocusTrapInertStrategy that adds a document focus event\n * listener to redirect focus back inside the FocusTrap.\n */\nclass EventListenerFocusTrapInertStrategy {\n    constructor() {\n        /** Focus event handler. */\n        this._listener = null;\n    }\n    /** Adds a document event listener that keeps focus inside the FocusTrap. */\n    preventFocus(focusTrap) {\n        // Ensure there's only one listener per document\n        if (this._listener) {\n            focusTrap._document.removeEventListener('focus', this._listener, true);\n        }\n        this._listener = (e) => this._trapFocus(focusTrap, e);\n        focusTrap._ngZone.runOutsideAngular(() => {\n            focusTrap._document.addEventListener('focus', this._listener, true);\n        });\n    }\n    /** Removes the event listener added in preventFocus. */\n    allowFocus(focusTrap) {\n        if (!this._listener) {\n            return;\n        }\n        focusTrap._document.removeEventListener('focus', this._listener, true);\n        this._listener = null;\n    }\n    /**\n     * Refocuses the first element in the FocusTrap if the focus event target was outside\n     * the FocusTrap.\n     *\n     * This is an event listener callback. The event listener is added in runOutsideAngular,\n     * so all this code runs outside Angular as well.\n     */\n    _trapFocus(focusTrap, event) {\n        var _a;\n        const target = event.target;\n        const focusTrapRoot = focusTrap._element;\n        // Don't refocus if target was in an overlay, because the overlay might be associated\n        // with an element inside the FocusTrap, ex. mat-select.\n        if (target && !focusTrapRoot.contains(target) && !((_a = target.closest) === null || _a === void 0 ? void 0 : _a.call(target, 'div.cdk-overlay-pane'))) {\n            // Some legacy FocusTrap usages have logic that focuses some element on the page\n            // just before FocusTrap is destroyed. For backwards compatibility, wait\n            // to be sure FocusTrap is still enabled before refocusing.\n            setTimeout(() => {\n                // Check whether focus wasn't put back into the focus trap while the timeout was pending.\n                if (focusTrap.enabled && !focusTrapRoot.contains(focusTrap._document.activeElement)) {\n                    focusTrap.focusFirstTabbableElement();\n                }\n            });\n        }\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Injectable that ensures only the most recently enabled FocusTrap is active. */\nclass FocusTrapManager {\n    constructor() {\n        // A stack of the FocusTraps on the page. Only the FocusTrap at the\n        // top of the stack is active.\n        this._focusTrapStack = [];\n    }\n    /**\n     * Disables the FocusTrap at the top of the stack, and then pushes\n     * the new FocusTrap onto the stack.\n     */\n    register(focusTrap) {\n        // Dedupe focusTraps that register multiple times.\n        this._focusTrapStack = this._focusTrapStack.filter(ft => ft !== focusTrap);\n        let stack = this._focusTrapStack;\n        if (stack.length) {\n            stack[stack.length - 1]._disable();\n        }\n        stack.push(focusTrap);\n        focusTrap._enable();\n    }\n    /**\n     * Removes the FocusTrap from the stack, and activates the\n     * FocusTrap that is the new top of the stack.\n     */\n    deregister(focusTrap) {\n        focusTrap._disable();\n        const stack = this._focusTrapStack;\n        const i = stack.indexOf(focusTrap);\n        if (i !== -1) {\n            stack.splice(i, 1);\n            if (stack.length) {\n                stack[stack.length - 1]._enable();\n            }\n        }\n    }\n}\nFocusTrapManager.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: FocusTrapManager, deps: [], target: i0.FactoryTarget.Injectable });\nFocusTrapManager.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: FocusTrapManager, providedIn: 'root' });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: FocusTrapManager, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }] });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Factory that allows easy instantiation of configurable focus traps. */\nclass ConfigurableFocusTrapFactory {\n    constructor(_checker, _ngZone, _focusTrapManager, _document, _inertStrategy) {\n        this._checker = _checker;\n        this._ngZone = _ngZone;\n        this._focusTrapManager = _focusTrapManager;\n        this._document = _document;\n        // TODO split up the strategies into different modules, similar to DateAdapter.\n        this._inertStrategy = _inertStrategy || new EventListenerFocusTrapInertStrategy();\n    }\n    create(element, config = { defer: false }) {\n        let configObject;\n        if (typeof config === 'boolean') {\n            configObject = { defer: config };\n        }\n        else {\n            configObject = config;\n        }\n        return new ConfigurableFocusTrap(element, this._checker, this._ngZone, this._document, this._focusTrapManager, this._inertStrategy, configObject);\n    }\n}\nConfigurableFocusTrapFactory.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: ConfigurableFocusTrapFactory, deps: [{ token: InteractivityChecker }, { token: i0.NgZone }, { token: FocusTrapManager }, { token: DOCUMENT }, { token: FOCUS_TRAP_INERT_STRATEGY, optional: true }], target: i0.FactoryTarget.Injectable });\nConfigurableFocusTrapFactory.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: ConfigurableFocusTrapFactory, providedIn: 'root' });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: ConfigurableFocusTrapFactory, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }], ctorParameters: function () {\n        return [{ type: InteractivityChecker }, { type: i0.NgZone }, { type: FocusTrapManager }, { type: undefined, decorators: [{\n                        type: Inject,\n                        args: [DOCUMENT]\n                    }] }, { type: undefined, decorators: [{\n                        type: Optional\n                    }, {\n                        type: Inject,\n                        args: [FOCUS_TRAP_INERT_STRATEGY]\n                    }] }];\n    } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Gets whether an event could be a faked `mousedown` event dispatched by a screen reader. */\nfunction isFakeMousedownFromScreenReader(event) {\n    // Some screen readers will dispatch a fake `mousedown` event when pressing enter or space on\n    // a clickable element. We can distinguish these events when both `offsetX` and `offsetY` are\n    // zero or `event.buttons` is zero, depending on the browser:\n    // - `event.buttons` works on Firefox, but fails on Chrome.\n    // - `offsetX` and `offsetY` work on Chrome, but fail on Firefox.\n    // Note that there's an edge case where the user could click the 0x0 spot of the\n    // screen themselves, but that is unlikely to contain interactive elements.\n    return event.buttons === 0 || (event.offsetX === 0 && event.offsetY === 0);\n}\n/** Gets whether an event could be a faked `touchstart` event dispatched by a screen reader. */\nfunction isFakeTouchstartFromScreenReader(event) {\n    const touch = (event.touches && event.touches[0]) || (event.changedTouches && event.changedTouches[0]);\n    // A fake `touchstart` can be distinguished from a real one by looking at the `identifier`\n    // which is typically >= 0 on a real device versus -1 from a screen reader. Just to be safe,\n    // we can also look at `radiusX` and `radiusY`. This behavior was observed against a Windows 10\n    // device with a touch screen running NVDA v2020.4 and Firefox 85 or Chrome 88.\n    return (!!touch &&\n        touch.identifier === -1 &&\n        (touch.radiusX == null || touch.radiusX === 1) &&\n        (touch.radiusY == null || touch.radiusY === 1));\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Injectable options for the InputModalityDetector. These are shallowly merged with the default\n * options.\n */\nconst INPUT_MODALITY_DETECTOR_OPTIONS = new InjectionToken('cdk-input-modality-detector-options');\n/**\n * Default options for the InputModalityDetector.\n *\n * Modifier keys are ignored by default (i.e. when pressed won't cause the service to detect\n * keyboard input modality) for two reasons:\n *\n * 1. Modifier keys are commonly used with mouse to perform actions such as 'right click' or 'open\n *    in new tab', and are thus less representative of actual keyboard interaction.\n * 2. VoiceOver triggers some keyboard events when linearly navigating with Control + Option (but\n *    confusingly not with Caps Lock). Thus, to have parity with other screen readers, we ignore\n *    these keys so as to not update the input modality.\n *\n * Note that we do not by default ignore the right Meta key on Safari because it has the same key\n * code as the ContextMenu key on other browsers. When we switch to using event.key, we can\n * distinguish between the two.\n */\nconst INPUT_MODALITY_DETECTOR_DEFAULT_OPTIONS = {\n    ignoreKeys: [ALT, CONTROL, MAC_META, META, SHIFT],\n};\n/**\n * The amount of time needed to pass after a touchstart event in order for a subsequent mousedown\n * event to be attributed as mouse and not touch.\n *\n * This is the value used by AngularJS Material. Through trial and error (on iPhone 6S) they found\n * that a value of around 650ms seems appropriate.\n */\nconst TOUCH_BUFFER_MS = 650;\n/**\n * Event listener options that enable capturing and also mark the listener as passive if the browser\n * supports it.\n */\nconst modalityEventListenerOptions = normalizePassiveListenerOptions({\n    passive: true,\n    capture: true,\n});\n/**\n * Service that detects the user's input modality.\n *\n * This service does not update the input modality when a user navigates with a screen reader\n * (e.g. linear navigation with VoiceOver, object navigation / browse mode with NVDA, virtual PC\n * cursor mode with JAWS). This is in part due to technical limitations (i.e. keyboard events do not\n * fire as expected in these modes) but is also arguably the correct behavior. Navigating with a\n * screen reader is akin to visually scanning a page, and should not be interpreted as actual user\n * input interaction.\n *\n * When a user is not navigating but *interacting* with a screen reader, this service attempts to\n * update the input modality to keyboard, but in general this service's behavior is largely\n * undefined.\n */\nclass InputModalityDetector {\n    constructor(_platform, ngZone, document, options) {\n        this._platform = _platform;\n        /**\n         * The most recently detected input modality event target. Is null if no input modality has been\n         * detected or if the associated event target is null for some unknown reason.\n         */\n        this._mostRecentTarget = null;\n        /** The underlying BehaviorSubject that emits whenever an input modality is detected. */\n        this._modality = new BehaviorSubject(null);\n        /**\n         * The timestamp of the last touch input modality. Used to determine whether mousedown events\n         * should be attributed to mouse or touch.\n         */\n        this._lastTouchMs = 0;\n        /**\n         * Handles keydown events. Must be an arrow function in order to preserve the context when it gets\n         * bound.\n         */\n        this._onKeydown = (event) => {\n            var _a, _b;\n            // If this is one of the keys we should ignore, then ignore it and don't update the input\n            // modality to keyboard.\n            if ((_b = (_a = this._options) === null || _a === void 0 ? void 0 : _a.ignoreKeys) === null || _b === void 0 ? void 0 : _b.some(keyCode => keyCode === event.keyCode)) {\n                return;\n            }\n            this._modality.next('keyboard');\n            this._mostRecentTarget = _getEventTarget(event);\n        };\n        /**\n         * Handles mousedown events. Must be an arrow function in order to preserve the context when it\n         * gets bound.\n         */\n        this._onMousedown = (event) => {\n            // Touches trigger both touch and mouse events, so we need to distinguish between mouse events\n            // that were triggered via mouse vs touch. To do so, check if the mouse event occurs closely\n            // after the previous touch event.\n            if (Date.now() - this._lastTouchMs < TOUCH_BUFFER_MS) {\n                return;\n            }\n            // Fake mousedown events are fired by some screen readers when controls are activated by the\n            // screen reader. Attribute them to keyboard input modality.\n            this._modality.next(isFakeMousedownFromScreenReader(event) ? 'keyboard' : 'mouse');\n            this._mostRecentTarget = _getEventTarget(event);\n        };\n        /**\n         * Handles touchstart events. Must be an arrow function in order to preserve the context when it\n         * gets bound.\n         */\n        this._onTouchstart = (event) => {\n            // Same scenario as mentioned in _onMousedown, but on touch screen devices, fake touchstart\n            // events are fired. Again, attribute to keyboard input modality.\n            if (isFakeTouchstartFromScreenReader(event)) {\n                this._modality.next('keyboard');\n                return;\n            }\n            // Store the timestamp of this touch event, as it's used to distinguish between mouse events\n            // triggered via mouse vs touch.\n            this._lastTouchMs = Date.now();\n            this._modality.next('touch');\n            this._mostRecentTarget = _getEventTarget(event);\n        };\n        this._options = Object.assign(Object.assign({}, INPUT_MODALITY_DETECTOR_DEFAULT_OPTIONS), options);\n        // Skip the first emission as it's null.\n        this.modalityDetected = this._modality.pipe(skip(1));\n        this.modalityChanged = this.modalityDetected.pipe(distinctUntilChanged());\n        // If we're not in a browser, this service should do nothing, as there's no relevant input\n        // modality to detect.\n        if (_platform.isBrowser) {\n            ngZone.runOutsideAngular(() => {\n                document.addEventListener('keydown', this._onKeydown, modalityEventListenerOptions);\n                document.addEventListener('mousedown', this._onMousedown, modalityEventListenerOptions);\n                document.addEventListener('touchstart', this._onTouchstart, modalityEventListenerOptions);\n            });\n        }\n    }\n    /** The most recently detected input modality. */\n    get mostRecentModality() {\n        return this._modality.value;\n    }\n    ngOnDestroy() {\n        this._modality.complete();\n        if (this._platform.isBrowser) {\n            document.removeEventListener('keydown', this._onKeydown, modalityEventListenerOptions);\n            document.removeEventListener('mousedown', this._onMousedown, modalityEventListenerOptions);\n            document.removeEventListener('touchstart', this._onTouchstart, modalityEventListenerOptions);\n        }\n    }\n}\nInputModalityDetector.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: InputModalityDetector, deps: [{ token: i1.Platform }, { token: i0.NgZone }, { token: DOCUMENT }, { token: INPUT_MODALITY_DETECTOR_OPTIONS, optional: true }], target: i0.FactoryTarget.Injectable });\nInputModalityDetector.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: InputModalityDetector, providedIn: 'root' });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: InputModalityDetector, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }], ctorParameters: function () {\n        return [{ type: i1.Platform }, { type: i0.NgZone }, { type: Document, decorators: [{\n                        type: Inject,\n                        args: [DOCUMENT]\n                    }] }, { type: undefined, decorators: [{\n                        type: Optional\n                    }, {\n                        type: Inject,\n                        args: [INPUT_MODALITY_DETECTOR_OPTIONS]\n                    }] }];\n    } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nconst LIVE_ANNOUNCER_ELEMENT_TOKEN = new InjectionToken('liveAnnouncerElement', {\n    providedIn: 'root',\n    factory: LIVE_ANNOUNCER_ELEMENT_TOKEN_FACTORY,\n});\n/** @docs-private */\nfunction LIVE_ANNOUNCER_ELEMENT_TOKEN_FACTORY() {\n    return null;\n}\n/** Injection token that can be used to configure the default options for the LiveAnnouncer. */\nconst LIVE_ANNOUNCER_DEFAULT_OPTIONS = new InjectionToken('LIVE_ANNOUNCER_DEFAULT_OPTIONS');\n\nclass LiveAnnouncer {\n    constructor(elementToken, _ngZone, _document, _defaultOptions) {\n        this._ngZone = _ngZone;\n        this._defaultOptions = _defaultOptions;\n        // We inject the live element and document as `any` because the constructor signature cannot\n        // reference browser globals (HTMLElement, Document) on non-browser environments, since having\n        // a class decorator causes TypeScript to preserve the constructor signature types.\n        this._document = _document;\n        this._liveElement = elementToken || this._createLiveElement();\n    }\n    announce(message, ...args) {\n        const defaultOptions = this._defaultOptions;\n        let politeness;\n        let duration;\n        if (args.length === 1 && typeof args[0] === 'number') {\n            duration = args[0];\n        }\n        else {\n            [politeness, duration] = args;\n        }\n        this.clear();\n        clearTimeout(this._previousTimeout);\n        if (!politeness) {\n            politeness =\n                defaultOptions && defaultOptions.politeness ? defaultOptions.politeness : 'polite';\n        }\n        if (duration == null && defaultOptions) {\n            duration = defaultOptions.duration;\n        }\n        // TODO: ensure changing the politeness works on all environments we support.\n        this._liveElement.setAttribute('aria-live', politeness);\n        // This 100ms timeout is necessary for some browser + screen-reader combinations:\n        // - Both JAWS and NVDA over IE11 will not announce anything without a non-zero timeout.\n        // - With Chrome and IE11 with NVDA or JAWS, a repeated (identical) message won't be read a\n        //   second time without clearing and then using a non-zero delay.\n        // (using JAWS 17 at time of this writing).\n        return this._ngZone.runOutsideAngular(() => {\n            if (!this._currentPromise) {\n                this._currentPromise = new Promise(resolve => (this._currentResolve = resolve));\n            }\n            clearTimeout(this._previousTimeout);\n            this._previousTimeout = setTimeout(() => {\n                this._liveElement.textContent = message;\n                if (typeof duration === 'number') {\n                    this._previousTimeout = setTimeout(() => this.clear(), duration);\n                }\n                this._currentResolve();\n                this._currentPromise = this._currentResolve = undefined;\n            }, 100);\n            return this._currentPromise;\n        });\n    }\n    /**\n     * Clears the current text from the announcer element. Can be used to prevent\n     * screen readers from reading the text out again while the user is going\n     * through the page landmarks.\n     */\n    clear() {\n        if (this._liveElement) {\n            this._liveElement.textContent = '';\n        }\n    }\n    ngOnDestroy() {\n        var _a, _b;\n        clearTimeout(this._previousTimeout);\n        (_a = this._liveElement) === null || _a === void 0 ? void 0 : _a.remove();\n        this._liveElement = null;\n        (_b = this._currentResolve) === null || _b === void 0 ? void 0 : _b.call(this);\n        this._currentPromise = this._currentResolve = undefined;\n    }\n    _createLiveElement() {\n        const elementClass = 'cdk-live-announcer-element';\n        const previousElements = this._document.getElementsByClassName(elementClass);\n        const liveEl = this._document.createElement('div');\n        // Remove any old containers. This can happen when coming in from a server-side-rendered page.\n        for (let i = 0; i < previousElements.length; i++) {\n            previousElements[i].remove();\n        }\n        liveEl.classList.add(elementClass);\n        liveEl.classList.add('cdk-visually-hidden');\n        liveEl.setAttribute('aria-atomic', 'true');\n        liveEl.setAttribute('aria-live', 'polite');\n        this._document.body.appendChild(liveEl);\n        return liveEl;\n    }\n}\nLiveAnnouncer.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: LiveAnnouncer, deps: [{ token: LIVE_ANNOUNCER_ELEMENT_TOKEN, optional: true }, { token: i0.NgZone }, { token: DOCUMENT }, { token: LIVE_ANNOUNCER_DEFAULT_OPTIONS, optional: true }], target: i0.FactoryTarget.Injectable });\nLiveAnnouncer.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: LiveAnnouncer, providedIn: 'root' });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: LiveAnnouncer, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }], ctorParameters: function () {\n        return [{ type: undefined, decorators: [{\n                        type: Optional\n                    }, {\n                        type: Inject,\n                        args: [LIVE_ANNOUNCER_ELEMENT_TOKEN]\n                    }] }, { type: i0.NgZone }, { type: undefined, decorators: [{\n                        type: Inject,\n                        args: [DOCUMENT]\n                    }] }, { type: undefined, decorators: [{\n                        type: Optional\n                    }, {\n                        type: Inject,\n                        args: [LIVE_ANNOUNCER_DEFAULT_OPTIONS]\n                    }] }];\n    } });\n/**\n * A directive that works similarly to aria-live, but uses the LiveAnnouncer to ensure compatibility\n * with a wider range of browsers and screen readers.\n */\nclass CdkAriaLive {\n    constructor(_elementRef, _liveAnnouncer, _contentObserver, _ngZone) {\n        this._elementRef = _elementRef;\n        this._liveAnnouncer = _liveAnnouncer;\n        this._contentObserver = _contentObserver;\n        this._ngZone = _ngZone;\n        this._politeness = 'polite';\n    }\n    /** The aria-live politeness level to use when announcing messages. */\n    get politeness() {\n        return this._politeness;\n    }\n    set politeness(value) {\n        this._politeness = value === 'off' || value === 'assertive' ? value : 'polite';\n        if (this._politeness === 'off') {\n            if (this._subscription) {\n                this._subscription.unsubscribe();\n                this._subscription = null;\n            }\n        }\n        else if (!this._subscription) {\n            this._subscription = this._ngZone.runOutsideAngular(() => {\n                return this._contentObserver.observe(this._elementRef).subscribe(() => {\n                    // Note that we use textContent here, rather than innerText, in order to avoid a reflow.\n                    const elementText = this._elementRef.nativeElement.textContent;\n                    // The `MutationObserver` fires also for attribute\n                    // changes which we don't want to announce.\n                    if (elementText !== this._previousAnnouncedText) {\n                        this._liveAnnouncer.announce(elementText, this._politeness, this.duration);\n                        this._previousAnnouncedText = elementText;\n                    }\n                });\n            });\n        }\n    }\n    ngOnDestroy() {\n        if (this._subscription) {\n            this._subscription.unsubscribe();\n        }\n    }\n}\nCdkAriaLive.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: CdkAriaLive, deps: [{ token: i0.ElementRef }, { token: LiveAnnouncer }, { token: i1$1.ContentObserver }, { token: i0.NgZone }], target: i0.FactoryTarget.Directive });\nCdkAriaLive.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.0.1\", type: CdkAriaLive, selector: \"[cdkAriaLive]\", inputs: { politeness: [\"cdkAriaLive\", \"politeness\"], duration: [\"cdkAriaLiveDuration\", \"duration\"] }, exportAs: [\"cdkAriaLive\"], ngImport: i0 });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: CdkAriaLive, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[cdkAriaLive]',\n                    exportAs: 'cdkAriaLive',\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: LiveAnnouncer }, { type: i1$1.ContentObserver }, { type: i0.NgZone }]; }, propDecorators: { politeness: [{\n                type: Input,\n                args: ['cdkAriaLive']\n            }], duration: [{\n                type: Input,\n                args: ['cdkAriaLiveDuration']\n            }] } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** InjectionToken for FocusMonitorOptions. */\nconst FOCUS_MONITOR_DEFAULT_OPTIONS = new InjectionToken('cdk-focus-monitor-default-options');\n/**\n * Event listener options that enable capturing and also\n * mark the listener as passive if the browser supports it.\n */\nconst captureEventListenerOptions = normalizePassiveListenerOptions({\n    passive: true,\n    capture: true,\n});\n/** Monitors mouse and keyboard events to determine the cause of focus events. */\nclass FocusMonitor {\n    constructor(_ngZone, _platform, _inputModalityDetector, \n    /** @breaking-change 11.0.0 make document required */\n    document, options) {\n        this._ngZone = _ngZone;\n        this._platform = _platform;\n        this._inputModalityDetector = _inputModalityDetector;\n        /** The focus origin that the next focus event is a result of. */\n        this._origin = null;\n        /** Whether the window has just been focused. */\n        this._windowFocused = false;\n        /**\n         * Whether the origin was determined via a touch interaction. Necessary as properly attributing\n         * focus events to touch interactions requires special logic.\n         */\n        this._originFromTouchInteraction = false;\n        /** Map of elements being monitored to their info. */\n        this._elementInfo = new Map();\n        /** The number of elements currently being monitored. */\n        this._monitoredElementCount = 0;\n        /**\n         * Keeps track of the root nodes to which we've currently bound a focus/blur handler,\n         * as well as the number of monitored elements that they contain. We have to treat focus/blur\n         * handlers differently from the rest of the events, because the browser won't emit events\n         * to the document when focus moves inside of a shadow root.\n         */\n        this._rootNodeFocusListenerCount = new Map();\n        /**\n         * Event listener for `focus` events on the window.\n         * Needs to be an arrow function in order to preserve the context when it gets bound.\n         */\n        this._windowFocusListener = () => {\n            // Make a note of when the window regains focus, so we can\n            // restore the origin info for the focused element.\n            this._windowFocused = true;\n            this._windowFocusTimeoutId = window.setTimeout(() => (this._windowFocused = false));\n        };\n        /** Subject for stopping our InputModalityDetector subscription. */\n        this._stopInputModalityDetector = new Subject();\n        /**\n         * Event listener for `focus` and 'blur' events on the document.\n         * Needs to be an arrow function in order to preserve the context when it gets bound.\n         */\n        this._rootNodeFocusAndBlurListener = (event) => {\n            const target = _getEventTarget(event);\n            // We need to walk up the ancestor chain in order to support `checkChildren`.\n            for (let element = target; element; element = element.parentElement) {\n                if (event.type === 'focus') {\n                    this._onFocus(event, element);\n                }\n                else {\n                    this._onBlur(event, element);\n                }\n            }\n        };\n        this._document = document;\n        this._detectionMode = (options === null || options === void 0 ? void 0 : options.detectionMode) || 0 /* FocusMonitorDetectionMode.IMMEDIATE */;\n    }\n    monitor(element, checkChildren = false) {\n        const nativeElement = coerceElement(element);\n        // Do nothing if we're not on the browser platform or the passed in node isn't an element.\n        if (!this._platform.isBrowser || nativeElement.nodeType !== 1) {\n            return of(null);\n        }\n        // If the element is inside the shadow DOM, we need to bind our focus/blur listeners to\n        // the shadow root, rather than the `document`, because the browser won't emit focus events\n        // to the `document`, if focus is moving within the same shadow root.\n        const rootNode = _getShadowRoot(nativeElement) || this._getDocument();\n        const cachedInfo = this._elementInfo.get(nativeElement);\n        // Check if we're already monitoring this element.\n        if (cachedInfo) {\n            if (checkChildren) {\n                // TODO(COMP-318): this can be problematic, because it'll turn all non-checkChildren\n                // observers into ones that behave as if `checkChildren` was turned on. We need a more\n                // robust solution.\n                cachedInfo.checkChildren = true;\n            }\n            return cachedInfo.subject;\n        }\n        // Create monitored element info.\n        const info = {\n            checkChildren: checkChildren,\n            subject: new Subject(),\n            rootNode,\n        };\n        this._elementInfo.set(nativeElement, info);\n        this._registerGlobalListeners(info);\n        return info.subject;\n    }\n    stopMonitoring(element) {\n        const nativeElement = coerceElement(element);\n        const elementInfo = this._elementInfo.get(nativeElement);\n        if (elementInfo) {\n            elementInfo.subject.complete();\n            this._setClasses(nativeElement);\n            this._elementInfo.delete(nativeElement);\n            this._removeGlobalListeners(elementInfo);\n        }\n    }\n    focusVia(element, origin, options) {\n        const nativeElement = coerceElement(element);\n        const focusedElement = this._getDocument().activeElement;\n        // If the element is focused already, calling `focus` again won't trigger the event listener\n        // which means that the focus classes won't be updated. If that's the case, update the classes\n        // directly without waiting for an event.\n        if (nativeElement === focusedElement) {\n            this._getClosestElementsInfo(nativeElement).forEach(([currentElement, info]) => this._originChanged(currentElement, origin, info));\n        }\n        else {\n            this._setOrigin(origin);\n            // `focus` isn't available on the server\n            if (typeof nativeElement.focus === 'function') {\n                nativeElement.focus(options);\n            }\n        }\n    }\n    ngOnDestroy() {\n        this._elementInfo.forEach((_info, element) => this.stopMonitoring(element));\n    }\n    /** Access injected document if available or fallback to global document reference */\n    _getDocument() {\n        return this._document || document;\n    }\n    /** Use defaultView of injected document if available or fallback to global window reference */\n    _getWindow() {\n        const doc = this._getDocument();\n        return doc.defaultView || window;\n    }\n    _getFocusOrigin(focusEventTarget) {\n        if (this._origin) {\n            // If the origin was realized via a touch interaction, we need to perform additional checks\n            // to determine whether the focus origin should be attributed to touch or program.\n            if (this._originFromTouchInteraction) {\n                return this._shouldBeAttributedToTouch(focusEventTarget) ? 'touch' : 'program';\n            }\n            else {\n                return this._origin;\n            }\n        }\n        // If the window has just regained focus, we can restore the most recent origin from before the\n        // window blurred. Otherwise, we've reached the point where we can't identify the source of the\n        // focus. This typically means one of two things happened:\n        //\n        // 1) The element was programmatically focused, or\n        // 2) The element was focused via screen reader navigation (which generally doesn't fire\n        //    events).\n        //\n        // Because we can't distinguish between these two cases, we default to setting `program`.\n        if (this._windowFocused && this._lastFocusOrigin) {\n            return this._lastFocusOrigin;\n        }\n        // If the interaction is coming from an input label, we consider it a mouse interactions.\n        // This is a special case where focus moves on `click`, rather than `mousedown` which breaks\n        // our detection, because all our assumptions are for `mousedown`. We need to handle this\n        // special case, because it's very common for checkboxes and radio buttons.\n        if (focusEventTarget && this._isLastInteractionFromInputLabel(focusEventTarget)) {\n            return 'mouse';\n        }\n        return 'program';\n    }\n    /**\n     * Returns whether the focus event should be attributed to touch. Recall that in IMMEDIATE mode, a\n     * touch origin isn't immediately reset at the next tick (see _setOrigin). This means that when we\n     * handle a focus event following a touch interaction, we need to determine whether (1) the focus\n     * event was directly caused by the touch interaction or (2) the focus event was caused by a\n     * subsequent programmatic focus call triggered by the touch interaction.\n     * @param focusEventTarget The target of the focus event under examination.\n     */\n    _shouldBeAttributedToTouch(focusEventTarget) {\n        // Please note that this check is not perfect. Consider the following edge case:\n        //\n        // <div #parent tabindex=\"0\">\n        //   <div #child tabindex=\"0\" (click)=\"#parent.focus()\"></div>\n        // </div>\n        //\n        // Suppose there is a FocusMonitor in IMMEDIATE mode attached to #parent. When the user touches\n        // #child, #parent is programmatically focused. This code will attribute the focus to touch\n        // instead of program. This is a relatively minor edge-case that can be worked around by using\n        // focusVia(parent, 'program') to focus #parent.\n        return (this._detectionMode === 1 /* FocusMonitorDetectionMode.EVENTUAL */ ||\n            !!(focusEventTarget === null || focusEventTarget === void 0 ? void 0 : focusEventTarget.contains(this._inputModalityDetector._mostRecentTarget)));\n    }\n    /**\n     * Sets the focus classes on the element based on the given focus origin.\n     * @param element The element to update the classes on.\n     * @param origin The focus origin.\n     */\n    _setClasses(element, origin) {\n        element.classList.toggle('cdk-focused', !!origin);\n        element.classList.toggle('cdk-touch-focused', origin === 'touch');\n        element.classList.toggle('cdk-keyboard-focused', origin === 'keyboard');\n        element.classList.toggle('cdk-mouse-focused', origin === 'mouse');\n        element.classList.toggle('cdk-program-focused', origin === 'program');\n    }\n    /**\n     * Updates the focus origin. If we're using immediate detection mode, we schedule an async\n     * function to clear the origin at the end of a timeout. The duration of the timeout depends on\n     * the origin being set.\n     * @param origin The origin to set.\n     * @param isFromInteraction Whether we are setting the origin from an interaction event.\n     */\n    _setOrigin(origin, isFromInteraction = false) {\n        this._ngZone.runOutsideAngular(() => {\n            this._origin = origin;\n            this._originFromTouchInteraction = origin === 'touch' && isFromInteraction;\n            // If we're in IMMEDIATE mode, reset the origin at the next tick (or in `TOUCH_BUFFER_MS` ms\n            // for a touch event). We reset the origin at the next tick because Firefox focuses one tick\n            // after the interaction event. We wait `TOUCH_BUFFER_MS` ms before resetting the origin for\n            // a touch event because when a touch event is fired, the associated focus event isn't yet in\n            // the event queue. Before doing so, clear any pending timeouts.\n            if (this._detectionMode === 0 /* FocusMonitorDetectionMode.IMMEDIATE */) {\n                clearTimeout(this._originTimeoutId);\n                const ms = this._originFromTouchInteraction ? TOUCH_BUFFER_MS : 1;\n                this._originTimeoutId = setTimeout(() => (this._origin = null), ms);\n            }\n        });\n    }\n    /**\n     * Handles focus events on a registered element.\n     * @param event The focus event.\n     * @param element The monitored element.\n     */\n    _onFocus(event, element) {\n        // NOTE(mmalerba): We currently set the classes based on the focus origin of the most recent\n        // focus event affecting the monitored element. If we want to use the origin of the first event\n        // instead we should check for the cdk-focused class here and return if the element already has\n        // it. (This only matters for elements that have includesChildren = true).\n        // If we are not counting child-element-focus as focused, make sure that the event target is the\n        // monitored element itself.\n        const elementInfo = this._elementInfo.get(element);\n        const focusEventTarget = _getEventTarget(event);\n        if (!elementInfo || (!elementInfo.checkChildren && element !== focusEventTarget)) {\n            return;\n        }\n        this._originChanged(element, this._getFocusOrigin(focusEventTarget), elementInfo);\n    }\n    /**\n     * Handles blur events on a registered element.\n     * @param event The blur event.\n     * @param element The monitored element.\n     */\n    _onBlur(event, element) {\n        // If we are counting child-element-focus as focused, make sure that we aren't just blurring in\n        // order to focus another child of the monitored element.\n        const elementInfo = this._elementInfo.get(element);\n        if (!elementInfo ||\n            (elementInfo.checkChildren &&\n                event.relatedTarget instanceof Node &&\n                element.contains(event.relatedTarget))) {\n            return;\n        }\n        this._setClasses(element);\n        this._emitOrigin(elementInfo, null);\n    }\n    _emitOrigin(info, origin) {\n        if (info.subject.observers.length) {\n            this._ngZone.run(() => info.subject.next(origin));\n        }\n    }\n    _registerGlobalListeners(elementInfo) {\n        if (!this._platform.isBrowser) {\n            return;\n        }\n        const rootNode = elementInfo.rootNode;\n        const rootNodeFocusListeners = this._rootNodeFocusListenerCount.get(rootNode) || 0;\n        if (!rootNodeFocusListeners) {\n            this._ngZone.runOutsideAngular(() => {\n                rootNode.addEventListener('focus', this._rootNodeFocusAndBlurListener, captureEventListenerOptions);\n                rootNode.addEventListener('blur', this._rootNodeFocusAndBlurListener, captureEventListenerOptions);\n            });\n        }\n        this._rootNodeFocusListenerCount.set(rootNode, rootNodeFocusListeners + 1);\n        // Register global listeners when first element is monitored.\n        if (++this._monitoredElementCount === 1) {\n            // Note: we listen to events in the capture phase so we\n            // can detect them even if the user stops propagation.\n            this._ngZone.runOutsideAngular(() => {\n                const window = this._getWindow();\n                window.addEventListener('focus', this._windowFocusListener);\n            });\n            // The InputModalityDetector is also just a collection of global listeners.\n            this._inputModalityDetector.modalityDetected\n                .pipe(takeUntil(this._stopInputModalityDetector))\n                .subscribe(modality => {\n                this._setOrigin(modality, true /* isFromInteraction */);\n            });\n        }\n    }\n    _removeGlobalListeners(elementInfo) {\n        const rootNode = elementInfo.rootNode;\n        if (this._rootNodeFocusListenerCount.has(rootNode)) {\n            const rootNodeFocusListeners = this._rootNodeFocusListenerCount.get(rootNode);\n            if (rootNodeFocusListeners > 1) {\n                this._rootNodeFocusListenerCount.set(rootNode, rootNodeFocusListeners - 1);\n            }\n            else {\n                rootNode.removeEventListener('focus', this._rootNodeFocusAndBlurListener, captureEventListenerOptions);\n                rootNode.removeEventListener('blur', this._rootNodeFocusAndBlurListener, captureEventListenerOptions);\n                this._rootNodeFocusListenerCount.delete(rootNode);\n            }\n        }\n        // Unregister global listeners when last element is unmonitored.\n        if (!--this._monitoredElementCount) {\n            const window = this._getWindow();\n            window.removeEventListener('focus', this._windowFocusListener);\n            // Equivalently, stop our InputModalityDetector subscription.\n            this._stopInputModalityDetector.next();\n            // Clear timeouts for all potentially pending timeouts to prevent the leaks.\n            clearTimeout(this._windowFocusTimeoutId);\n            clearTimeout(this._originTimeoutId);\n        }\n    }\n    /** Updates all the state on an element once its focus origin has changed. */\n    _originChanged(element, origin, elementInfo) {\n        this._setClasses(element, origin);\n        this._emitOrigin(elementInfo, origin);\n        this._lastFocusOrigin = origin;\n    }\n    /**\n     * Collects the `MonitoredElementInfo` of a particular element and\n     * all of its ancestors that have enabled `checkChildren`.\n     * @param element Element from which to start the search.\n     */\n    _getClosestElementsInfo(element) {\n        const results = [];\n        this._elementInfo.forEach((info, currentElement) => {\n            if (currentElement === element || (info.checkChildren && currentElement.contains(element))) {\n                results.push([currentElement, info]);\n            }\n        });\n        return results;\n    }\n    /**\n     * Returns whether an interaction is likely to have come from the user clicking the `label` of\n     * an `input` or `textarea` in order to focus it.\n     * @param focusEventTarget Target currently receiving focus.\n     */\n    _isLastInteractionFromInputLabel(focusEventTarget) {\n        const { _mostRecentTarget: mostRecentTarget, mostRecentModality } = this._inputModalityDetector;\n        // If the last interaction used the mouse on an element contained by one of the labels\n        // of an `input`/`textarea` that is currently focused, it is very likely that the\n        // user redirected focus using the label.\n        if (mostRecentModality !== 'mouse' ||\n            !mostRecentTarget ||\n            mostRecentTarget === focusEventTarget ||\n            (focusEventTarget.nodeName !== 'INPUT' && focusEventTarget.nodeName !== 'TEXTAREA') ||\n            focusEventTarget.disabled) {\n            return false;\n        }\n        const labels = focusEventTarget.labels;\n        if (labels) {\n            for (let i = 0; i < labels.length; i++) {\n                if (labels[i].contains(mostRecentTarget)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n}\nFocusMonitor.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: FocusMonitor, deps: [{ token: i0.NgZone }, { token: i1.Platform }, { token: InputModalityDetector }, { token: DOCUMENT, optional: true }, { token: FOCUS_MONITOR_DEFAULT_OPTIONS, optional: true }], target: i0.FactoryTarget.Injectable });\nFocusMonitor.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: FocusMonitor, providedIn: 'root' });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: FocusMonitor, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }], ctorParameters: function () {\n        return [{ type: i0.NgZone }, { type: i1.Platform }, { type: InputModalityDetector }, { type: undefined, decorators: [{\n                        type: Optional\n                    }, {\n                        type: Inject,\n                        args: [DOCUMENT]\n                    }] }, { type: undefined, decorators: [{\n                        type: Optional\n                    }, {\n                        type: Inject,\n                        args: [FOCUS_MONITOR_DEFAULT_OPTIONS]\n                    }] }];\n    } });\n/**\n * Directive that determines how a particular element was focused (via keyboard, mouse, touch, or\n * programmatically) and adds corresponding classes to the element.\n *\n * There are two variants of this directive:\n * 1) cdkMonitorElementFocus: does not consider an element to be focused if one of its children is\n *    focused.\n * 2) cdkMonitorSubtreeFocus: considers an element focused if it or any of its children are focused.\n */\nclass CdkMonitorFocus {\n    constructor(_elementRef, _focusMonitor) {\n        this._elementRef = _elementRef;\n        this._focusMonitor = _focusMonitor;\n        this.cdkFocusChange = new EventEmitter();\n    }\n    ngAfterViewInit() {\n        const element = this._elementRef.nativeElement;\n        this._monitorSubscription = this._focusMonitor\n            .monitor(element, element.nodeType === 1 && element.hasAttribute('cdkMonitorSubtreeFocus'))\n            .subscribe(origin => this.cdkFocusChange.emit(origin));\n    }\n    ngOnDestroy() {\n        this._focusMonitor.stopMonitoring(this._elementRef);\n        if (this._monitorSubscription) {\n            this._monitorSubscription.unsubscribe();\n        }\n    }\n}\nCdkMonitorFocus.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: CdkMonitorFocus, deps: [{ token: i0.ElementRef }, { token: FocusMonitor }], target: i0.FactoryTarget.Directive });\nCdkMonitorFocus.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.0.1\", type: CdkMonitorFocus, selector: \"[cdkMonitorElementFocus], [cdkMonitorSubtreeFocus]\", outputs: { cdkFocusChange: \"cdkFocusChange\" }, ngImport: i0 });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: CdkMonitorFocus, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[cdkMonitorElementFocus], [cdkMonitorSubtreeFocus]',\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: FocusMonitor }]; }, propDecorators: { cdkFocusChange: [{\n                type: Output\n            }] } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** CSS class applied to the document body when in black-on-white high-contrast mode. */\nconst BLACK_ON_WHITE_CSS_CLASS = 'cdk-high-contrast-black-on-white';\n/** CSS class applied to the document body when in white-on-black high-contrast mode. */\nconst WHITE_ON_BLACK_CSS_CLASS = 'cdk-high-contrast-white-on-black';\n/** CSS class applied to the document body when in high-contrast mode. */\nconst HIGH_CONTRAST_MODE_ACTIVE_CSS_CLASS = 'cdk-high-contrast-active';\n/**\n * Service to determine whether the browser is currently in a high-contrast-mode environment.\n *\n * Microsoft Windows supports an accessibility feature called \"High Contrast Mode\". This mode\n * changes the appearance of all applications, including web applications, to dramatically increase\n * contrast.\n *\n * IE, Edge, and Firefox currently support this mode. Chrome does not support Windows High Contrast\n * Mode. This service does not detect high-contrast mode as added by the Chrome \"High Contrast\"\n * browser extension.\n */\nclass HighContrastModeDetector {\n    constructor(_platform, document) {\n        this._platform = _platform;\n        this._document = document;\n        this._breakpointSubscription = inject(BreakpointObserver)\n            .observe('(forced-colors: active)')\n            .subscribe(() => {\n            if (this._hasCheckedHighContrastMode) {\n                this._hasCheckedHighContrastMode = false;\n                this._applyBodyHighContrastModeCssClasses();\n            }\n        });\n    }\n    /** Gets the current high-contrast-mode for the page. */\n    getHighContrastMode() {\n        if (!this._platform.isBrowser) {\n            return 0 /* HighContrastMode.NONE */;\n        }\n        // Create a test element with an arbitrary background-color that is neither black nor\n        // white; high-contrast mode will coerce the color to either black or white. Also ensure that\n        // appending the test element to the DOM does not affect layout by absolutely positioning it\n        const testElement = this._document.createElement('div');\n        testElement.style.backgroundColor = 'rgb(1,2,3)';\n        testElement.style.position = 'absolute';\n        this._document.body.appendChild(testElement);\n        // Get the computed style for the background color, collapsing spaces to normalize between\n        // browsers. Once we get this color, we no longer need the test element. Access the `window`\n        // via the document so we can fake it in tests. Note that we have extra null checks, because\n        // this logic will likely run during app bootstrap and throwing can break the entire app.\n        const documentWindow = this._document.defaultView || window;\n        const computedStyle = documentWindow && documentWindow.getComputedStyle\n            ? documentWindow.getComputedStyle(testElement)\n            : null;\n        const computedColor = ((computedStyle && computedStyle.backgroundColor) || '').replace(/ /g, '');\n        testElement.remove();\n        switch (computedColor) {\n            case 'rgb(0,0,0)':\n                return 2 /* HighContrastMode.WHITE_ON_BLACK */;\n            case 'rgb(255,255,255)':\n                return 1 /* HighContrastMode.BLACK_ON_WHITE */;\n        }\n        return 0 /* HighContrastMode.NONE */;\n    }\n    ngOnDestroy() {\n        this._breakpointSubscription.unsubscribe();\n    }\n    /** Applies CSS classes indicating high-contrast mode to document body (browser-only). */\n    _applyBodyHighContrastModeCssClasses() {\n        if (!this._hasCheckedHighContrastMode && this._platform.isBrowser && this._document.body) {\n            const bodyClasses = this._document.body.classList;\n            bodyClasses.remove(HIGH_CONTRAST_MODE_ACTIVE_CSS_CLASS, BLACK_ON_WHITE_CSS_CLASS, WHITE_ON_BLACK_CSS_CLASS);\n            this._hasCheckedHighContrastMode = true;\n            const mode = this.getHighContrastMode();\n            if (mode === 1 /* HighContrastMode.BLACK_ON_WHITE */) {\n                bodyClasses.add(HIGH_CONTRAST_MODE_ACTIVE_CSS_CLASS, BLACK_ON_WHITE_CSS_CLASS);\n            }\n            else if (mode === 2 /* HighContrastMode.WHITE_ON_BLACK */) {\n                bodyClasses.add(HIGH_CONTRAST_MODE_ACTIVE_CSS_CLASS, WHITE_ON_BLACK_CSS_CLASS);\n            }\n        }\n    }\n}\nHighContrastModeDetector.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: HighContrastModeDetector, deps: [{ token: i1.Platform }, { token: DOCUMENT }], target: i0.FactoryTarget.Injectable });\nHighContrastModeDetector.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: HighContrastModeDetector, providedIn: 'root' });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: HighContrastModeDetector, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }], ctorParameters: function () {\n        return [{ type: i1.Platform }, { type: undefined, decorators: [{\n                        type: Inject,\n                        args: [DOCUMENT]\n                    }] }];\n    } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nclass A11yModule {\n    constructor(highContrastModeDetector) {\n        highContrastModeDetector._applyBodyHighContrastModeCssClasses();\n    }\n}\nA11yModule.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: A11yModule, deps: [{ token: HighContrastModeDetector }], target: i0.FactoryTarget.NgModule });\nA11yModule.mod = i0.ngDeclareNgModule({ minVersion: \"14.0.0\", version: \"14.0.1\", ngImport: i0, type: A11yModule, declarations: [CdkAriaLive, CdkTrapFocus, CdkMonitorFocus], imports: [ObserversModule], exports: [CdkAriaLive, CdkTrapFocus, CdkMonitorFocus] });\nA11yModule.inj = i0.ngDeclareInjector({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: A11yModule, imports: [ObserversModule] });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: A11yModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [ObserversModule],\n                    declarations: [CdkAriaLive, CdkTrapFocus, CdkMonitorFocus],\n                    exports: [CdkAriaLive, CdkTrapFocus, CdkMonitorFocus],\n                }]\n        }], ctorParameters: function () { return [{ type: HighContrastModeDetector }]; } });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { A11yModule, ActiveDescendantKeyManager, AriaDescriber, CDK_DESCRIBEDBY_HOST_ATTRIBUTE, CDK_DESCRIBEDBY_ID_PREFIX, CdkAriaLive, CdkMonitorFocus, CdkTrapFocus, ConfigurableFocusTrap, ConfigurableFocusTrapFactory, EventListenerFocusTrapInertStrategy, FOCUS_MONITOR_DEFAULT_OPTIONS, FOCUS_TRAP_INERT_STRATEGY, FocusKeyManager, FocusMonitor, FocusTrap, FocusTrapFactory, HighContrastModeDetector, INPUT_MODALITY_DETECTOR_DEFAULT_OPTIONS, INPUT_MODALITY_DETECTOR_OPTIONS, InputModalityDetector, InteractivityChecker, IsFocusableConfig, LIVE_ANNOUNCER_DEFAULT_OPTIONS, LIVE_ANNOUNCER_ELEMENT_TOKEN, LIVE_ANNOUNCER_ELEMENT_TOKEN_FACTORY, ListKeyManager, LiveAnnouncer, MESSAGES_CONTAINER_ID, isFakeMousedownFromScreenReader, isFakeTouchstartFromScreenReader };\n","import { coerceElement, coerceBooleanProperty, coerceNumberProperty } from '@angular/cdk/coercion';\nimport * as i0 from '@angular/core';\nimport { Injectable, EventEmitter, Directive, Output, Input, NgModule } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Factory that creates a new MutationObserver and allows us to stub it out in unit tests.\n * @docs-private\n */\nclass MutationObserverFactory {\n    create(callback) {\n        return typeof MutationObserver === 'undefined' ? null : new MutationObserver(callback);\n    }\n}\nMutationObserverFactory.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: MutationObserverFactory, deps: [], target: i0.FactoryTarget.Injectable });\nMutationObserverFactory.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: MutationObserverFactory, providedIn: 'root' });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: MutationObserverFactory, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }] });\n/** An injectable service that allows watching elements for changes to their content. */\nclass ContentObserver {\n    constructor(_mutationObserverFactory) {\n        this._mutationObserverFactory = _mutationObserverFactory;\n        /** Keeps track of the existing MutationObservers so they can be reused. */\n        this._observedElements = new Map();\n    }\n    ngOnDestroy() {\n        this._observedElements.forEach((_, element) => this._cleanupObserver(element));\n    }\n    observe(elementOrRef) {\n        const element = coerceElement(elementOrRef);\n        return new Observable((observer) => {\n            const stream = this._observeElement(element);\n            const subscription = stream.subscribe(observer);\n            return () => {\n                subscription.unsubscribe();\n                this._unobserveElement(element);\n            };\n        });\n    }\n    /**\n     * Observes the given element by using the existing MutationObserver if available, or creating a\n     * new one if not.\n     */\n    _observeElement(element) {\n        if (!this._observedElements.has(element)) {\n            const stream = new Subject();\n            const observer = this._mutationObserverFactory.create(mutations => stream.next(mutations));\n            if (observer) {\n                observer.observe(element, {\n                    characterData: true,\n                    childList: true,\n                    subtree: true,\n                });\n            }\n            this._observedElements.set(element, { observer, stream, count: 1 });\n        }\n        else {\n            this._observedElements.get(element).count++;\n        }\n        return this._observedElements.get(element).stream;\n    }\n    /**\n     * Un-observes the given element and cleans up the underlying MutationObserver if nobody else is\n     * observing this element.\n     */\n    _unobserveElement(element) {\n        if (this._observedElements.has(element)) {\n            this._observedElements.get(element).count--;\n            if (!this._observedElements.get(element).count) {\n                this._cleanupObserver(element);\n            }\n        }\n    }\n    /** Clean up the underlying MutationObserver for the specified element. */\n    _cleanupObserver(element) {\n        if (this._observedElements.has(element)) {\n            const { observer, stream } = this._observedElements.get(element);\n            if (observer) {\n                observer.disconnect();\n            }\n            stream.complete();\n            this._observedElements.delete(element);\n        }\n    }\n}\nContentObserver.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: ContentObserver, deps: [{ token: MutationObserverFactory }], target: i0.FactoryTarget.Injectable });\nContentObserver.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: ContentObserver, providedIn: 'root' });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: ContentObserver, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }], ctorParameters: function () { return [{ type: MutationObserverFactory }]; } });\n/**\n * Directive that triggers a callback whenever the content of\n * its associated element has changed.\n */\nclass CdkObserveContent {\n    constructor(_contentObserver, _elementRef, _ngZone) {\n        this._contentObserver = _contentObserver;\n        this._elementRef = _elementRef;\n        this._ngZone = _ngZone;\n        /** Event emitted for each change in the element's content. */\n        this.event = new EventEmitter();\n        this._disabled = false;\n        this._currentSubscription = null;\n    }\n    /**\n     * Whether observing content is disabled. This option can be used\n     * to disconnect the underlying MutationObserver until it is needed.\n     */\n    get disabled() {\n        return this._disabled;\n    }\n    set disabled(value) {\n        this._disabled = coerceBooleanProperty(value);\n        this._disabled ? this._unsubscribe() : this._subscribe();\n    }\n    /** Debounce interval for emitting the changes. */\n    get debounce() {\n        return this._debounce;\n    }\n    set debounce(value) {\n        this._debounce = coerceNumberProperty(value);\n        this._subscribe();\n    }\n    ngAfterContentInit() {\n        if (!this._currentSubscription && !this.disabled) {\n            this._subscribe();\n        }\n    }\n    ngOnDestroy() {\n        this._unsubscribe();\n    }\n    _subscribe() {\n        this._unsubscribe();\n        const stream = this._contentObserver.observe(this._elementRef);\n        // TODO(mmalerba): We shouldn't be emitting on this @Output() outside the zone.\n        // Consider brining it back inside the zone next time we're making breaking changes.\n        // Bringing it back inside can cause things like infinite change detection loops and changed\n        // after checked errors if people's code isn't handling it properly.\n        this._ngZone.runOutsideAngular(() => {\n            this._currentSubscription = (this.debounce ? stream.pipe(debounceTime(this.debounce)) : stream).subscribe(this.event);\n        });\n    }\n    _unsubscribe() {\n        var _a;\n        (_a = this._currentSubscription) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n    }\n}\nCdkObserveContent.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: CdkObserveContent, deps: [{ token: ContentObserver }, { token: i0.ElementRef }, { token: i0.NgZone }], target: i0.FactoryTarget.Directive });\nCdkObserveContent.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.0.1\", type: CdkObserveContent, selector: \"[cdkObserveContent]\", inputs: { disabled: [\"cdkObserveContentDisabled\", \"disabled\"], debounce: \"debounce\" }, outputs: { event: \"cdkObserveContent\" }, exportAs: [\"cdkObserveContent\"], ngImport: i0 });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: CdkObserveContent, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[cdkObserveContent]',\n                    exportAs: 'cdkObserveContent',\n                }]\n        }], ctorParameters: function () { return [{ type: ContentObserver }, { type: i0.ElementRef }, { type: i0.NgZone }]; }, propDecorators: { event: [{\n                type: Output,\n                args: ['cdkObserveContent']\n            }], disabled: [{\n                type: Input,\n                args: ['cdkObserveContentDisabled']\n            }], debounce: [{\n                type: Input\n            }] } });\nclass ObserversModule {\n}\nObserversModule.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: ObserversModule, deps: [], target: i0.FactoryTarget.NgModule });\nObserversModule.mod = i0.ngDeclareNgModule({ minVersion: \"14.0.0\", version: \"14.0.1\", ngImport: i0, type: ObserversModule, declarations: [CdkObserveContent], exports: [CdkObserveContent] });\nObserversModule.inj = i0.ngDeclareInjector({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: ObserversModule, providers: [MutationObserverFactory] });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.1\", ngImport: i0, type: ObserversModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    exports: [CdkObserveContent],\n                    declarations: [CdkObserveContent],\n                    providers: [MutationObserverFactory],\n                }]\n        }] });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CdkObserveContent, ContentObserver, MutationObserverFactory, ObserversModule };\n","import * as i0 from '@angular/core';\nimport { InjectionToken, Component, ChangeDetectionStrategy, Optional, Inject, Injectable, PLATFORM_ID, Directive, Host, Self, Input, NgModule } from '@angular/core';\nimport { DOCUMENT, isPlatformBrowser } from '@angular/common';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport * as i1 from '@angular/cdk/a11y';\nimport { A11yModule } from '@angular/cdk/a11y';\nimport * as i2 from '@angular/platform-browser';\nimport * as i1$1 from 'ng-gallery';\nimport { ImageItem, GalleryModule } from 'ng-gallery';\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport { ESCAPE, RIGHT_ARROW, LEFT_ARROW } from '@angular/cdk/keycodes';\nimport { Subject, from, EMPTY, Subscription, fromEvent } from 'rxjs';\nimport * as i2$1 from '@angular/cdk/overlay';\nimport { OverlayModule } from '@angular/cdk/overlay';\nimport { debounceTime, switchMap, map, tap, finalize } from 'rxjs/operators';\n\nconst LIGHTBOX_CONFIG = new InjectionToken('LIGHTBOX_CONFIG');\n\nconst lightboxAnimation = trigger('lightbox', [\r\n    state('void, exit', style({ opacity: 0, transform: 'scale(0.7)' })),\r\n    state('enter', style({ transform: 'none' })),\r\n    transition('* => enter', animate('{{startAnimationTime}}ms cubic-bezier(0, 0, 0.2, 1)', style({ transform: 'none', opacity: 1 }))),\r\n    transition('* => void, * => exit', animate('{{exitAnimationTime}}ms cubic-bezier(0.4, 0.0, 0.2, 1)', style({ opacity: 0 }))),\r\n]);\n\nclass LightboxComponent {\r\n    constructor(_document, _focusTrapFactory, _elementRef, sanitizer) {\r\n        this._document = _document;\r\n        this._focusTrapFactory = _focusTrapFactory;\r\n        this._elementRef = _elementRef;\r\n        this.sanitizer = sanitizer;\r\n        /** State of the lightbox animation. */\r\n        this.state = 'enter';\r\n        this._savePreviouslyFocusedElement();\r\n    }\r\n    /** Callback, invoked whenever an animation on the host completes. */\r\n    onAnimationDone(event) {\r\n        if (event.toState === 'enter') {\r\n            this._trapFocus();\r\n        }\r\n        else {\r\n            this.overlayRef.dispose();\r\n            this._restoreFocus();\r\n        }\r\n    }\r\n    /** Moves the focus inside the focus trap. */\r\n    _trapFocus() {\r\n        if (!this._focusTrap) {\r\n            this._focusTrap = this._focusTrapFactory.create(this._elementRef.nativeElement);\r\n        }\r\n        // If were to attempt to focus immediately, then the content of the lightbox would not yet be\r\n        // ready in instances where change detection has to run first. To deal with this, we simply\r\n        // wait for the microtask queue to be empty.\r\n        this._focusTrap.focusInitialElementWhenReady();\r\n    }\r\n    /** Saves a reference to the element that was focused before the lightbox was opened. */\r\n    _savePreviouslyFocusedElement() {\r\n        if (this._document) {\r\n            this._elementFocusedBeforeDialogWasOpened = this._document.activeElement;\r\n            // Note that there is no focus method when rendering on the server.\r\n            if (this._elementRef.nativeElement.focus) {\r\n                // Move focus onto the lightbox immediately in order to prevent the user from accidentally\r\n                // opening multiple dialogs at the same time. Needs to be async, because the element\r\n                // may not be focusable immediately.\r\n                Promise.resolve().then(() => this._elementRef.nativeElement.focus());\r\n            }\r\n        }\r\n    }\r\n    /** Restores focus to the element that was focused before the lightbox opened. */\r\n    _restoreFocus() {\r\n        const toFocus = this._elementFocusedBeforeDialogWasOpened;\r\n        // We need the extra check, because IE can set the `activeElement` to null in some cases.\r\n        if (toFocus && typeof toFocus.focus === 'function') {\r\n            toFocus.focus();\r\n        }\r\n        if (this._focusTrap) {\r\n            this._focusTrap.destroy();\r\n        }\r\n    }\r\n}\r\nLightboxComponent.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: LightboxComponent, deps: [{ token: DOCUMENT, optional: true }, { token: i1.ConfigurableFocusTrapFactory }, { token: i0.ElementRef }, { token: i2.DomSanitizer }], target: i0.FactoryTarget.Component });\r\nLightboxComponent.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.0\", type: LightboxComponent, selector: \"lightbox\", host: { attributes: { \"tabindex\": \"-1\", \"aria-modal\": \"true\" }, listeners: { \"@lightbox.done\": \"onAnimationDone($event)\" }, properties: { \"attr.id\": \"\\\"lightbox-\\\" + id\", \"attr.role\": \"role\", \"attr.aria-labelledby\": \"ariaLabel ? null : ariaLabelledBy\", \"attr.aria-label\": \"ariaLabel\", \"attr.aria-describedby\": \"ariaDescribedBy || null\", \"@lightbox\": \"{ value: state, params: { startAnimationTime: startAnimationTime, exitAnimationTime: exitAnimationTime } }\" } }, ngImport: i0, template: `\r\n    <gallery [id]=\"id\" [destroyRef]=\"false\" [skipInitConfig]=\"true\">\r\n      <i class=\"g-btn-close\" aria-label=\"Close\" (click)=\"overlayRef.detach()\"\r\n         [innerHTML]=\"sanitizer.bypassSecurityTrustHtml(closeIcon)\"></i>\r\n    </gallery>\r\n  `, isInline: true, styles: [\"::ng-deep lightbox{position:relative;display:block;width:1100px;height:800px;max-width:94vw;max-height:90vh;border-radius:4px;overflow:hidden;box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}::ng-deep lightbox:focus{outline:none}::ng-deep lightbox gallery{overflow:hidden;margin:0;display:block;width:100%;height:100%}::ng-deep .g-backdrop{background-color:#00000052}::ng-deep .fullscreen{width:100%}::ng-deep .fullscreen ::ng-deep lightbox{max-width:initial;max-height:initial;position:fixed;top:0;left:0;bottom:0;right:0;height:100%;width:100%;border-radius:0}::ng-deep .g-overlay{margin:auto}@media only screen and (max-width: 480px){::ng-deep .g-overlay{width:100%}::ng-deep .g-overlay ::ng-deep lightbox{max-width:initial;max-height:initial;position:fixed;top:0;left:0;bottom:0;right:0;height:100%;width:100%;border-radius:0}}::ng-deep .g-btn-close{position:absolute;right:.9em;top:.9em;z-index:60;cursor:pointer;width:20px;height:20px}@media only screen and (max-width: 480px){::ng-deep .g-btn-close{right:.7em;top:.7em}}\\n\"], dependencies: [{ kind: \"component\", type: i1$1.GalleryComponent, selector: \"gallery\", inputs: [\"id\", \"items\", \"nav\", \"dots\", \"loop\", \"thumb\", \"zoomOut\", \"counter\", \"dotsSize\", \"autoPlay\", \"gestures\", \"thumbWidth\", \"thumbHeight\", \"disableThumb\", \"panSensitivity\", \"playerInterval\", \"itemTemplate\", \"thumbTemplate\", \"thumbMode\", \"imageSize\", \"dotsPosition\", \"counterPosition\", \"slidingDirection\", \"loadingStrategy\", \"thumbPosition\", \"thumbView\", \"destroyRef\", \"skipInitConfig\"], outputs: [\"itemClick\", \"thumbClick\", \"playingChange\", \"indexChange\", \"itemsChange\", \"error\"] }], animations: [lightboxAnimation], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: LightboxComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'lightbox', changeDetection: ChangeDetectionStrategy.OnPush, animations: [lightboxAnimation], template: `\r\n    <gallery [id]=\"id\" [destroyRef]=\"false\" [skipInitConfig]=\"true\">\r\n      <i class=\"g-btn-close\" aria-label=\"Close\" (click)=\"overlayRef.detach()\"\r\n         [innerHTML]=\"sanitizer.bypassSecurityTrustHtml(closeIcon)\"></i>\r\n    </gallery>\r\n  `, host: {\r\n                        'tabindex': '-1',\r\n                        'aria-modal': 'true',\r\n                        '[attr.id]': '\"lightbox-\" + id',\r\n                        '[attr.role]': 'role',\r\n                        '[attr.aria-labelledby]': 'ariaLabel ? null : ariaLabelledBy',\r\n                        '[attr.aria-label]': 'ariaLabel',\r\n                        '[attr.aria-describedby]': 'ariaDescribedBy || null',\r\n                        '[@lightbox]': '{ value: state, params: { startAnimationTime: startAnimationTime, exitAnimationTime: exitAnimationTime } }',\r\n                        '(@lightbox.done)': 'onAnimationDone($event)',\r\n                    }, styles: [\"::ng-deep lightbox{position:relative;display:block;width:1100px;height:800px;max-width:94vw;max-height:90vh;border-radius:4px;overflow:hidden;box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}::ng-deep lightbox:focus{outline:none}::ng-deep lightbox gallery{overflow:hidden;margin:0;display:block;width:100%;height:100%}::ng-deep .g-backdrop{background-color:#00000052}::ng-deep .fullscreen{width:100%}::ng-deep .fullscreen ::ng-deep lightbox{max-width:initial;max-height:initial;position:fixed;top:0;left:0;bottom:0;right:0;height:100%;width:100%;border-radius:0}::ng-deep .g-overlay{margin:auto}@media only screen and (max-width: 480px){::ng-deep .g-overlay{width:100%}::ng-deep .g-overlay ::ng-deep lightbox{max-width:initial;max-height:initial;position:fixed;top:0;left:0;bottom:0;right:0;height:100%;width:100%;border-radius:0}}::ng-deep .g-btn-close{position:absolute;right:.9em;top:.9em;z-index:60;cursor:pointer;width:20px;height:20px}@media only screen and (max-width: 480px){::ng-deep .g-btn-close{right:.7em;top:.7em}}\\n\"] }]\r\n        }], ctorParameters: function () {\r\n        return [{ type: undefined, decorators: [{\r\n                        type: Optional\r\n                    }, {\r\n                        type: Inject,\r\n                        args: [DOCUMENT]\r\n                    }] }, { type: i1.ConfigurableFocusTrapFactory }, { type: i0.ElementRef }, { type: i2.DomSanitizer }];\r\n    } });\n\nconst defaultConfig = {\r\n    backdropClass: 'g-backdrop',\r\n    panelClass: 'g-overlay',\r\n    hasBackdrop: true,\r\n    keyboardShortcuts: true,\r\n    role: 'lightbox',\r\n    startAnimationTime: 150,\r\n    exitAnimationTime: 75,\r\n    closeIcon: `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<svg width=\"512px\" height=\"512px\" enable-background=\"new 0 0 47.971 47.971\" version=\"1.1\" viewBox=\"0 0 47.971 47.971\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t<path d=\"M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88   c-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242   C1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879   s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z\" fill=\"#fff\"/>\r\n</svg>\r\n`\r\n};\n\nclass Lightbox {\r\n    constructor(config, _gallery, _overlay) {\r\n        this._gallery = _gallery;\r\n        this._overlay = _overlay;\r\n        /** Stream that emits when lightbox is opened */\r\n        this.opened = new Subject();\r\n        /** Stream that emits when lightbox is closed */\r\n        this.closed = new Subject();\r\n        this._config = config ? Object.assign(Object.assign({}, defaultConfig), config) : defaultConfig;\r\n    }\r\n    /**\r\n     * Set Lightbox Config\r\n     * @param config - LightboxConfig\r\n     */\r\n    setConfig(config) {\r\n        this._config = Object.assign(Object.assign({}, this._config), config);\r\n    }\r\n    /**\r\n     * Open Lightbox Overlay\r\n     * @param i - Current Index\r\n     * @param id - Gallery ID\r\n     * @param config - Lightbox Config\r\n     */\r\n    open(i = 0, id = 'lightbox', config) {\r\n        const _config = config ? Object.assign(Object.assign({}, this._config), config) : this._config;\r\n        const overlayConfig = {\r\n            backdropClass: _config.backdropClass,\r\n            panelClass: _config.panelClass,\r\n            hasBackdrop: _config.hasBackdrop,\r\n            positionStrategy: this._overlay.position().global().centerHorizontally().centerVertically(),\r\n            scrollStrategy: this._overlay.scrollStrategies.block(),\r\n            disposeOnNavigation: true\r\n        };\r\n        const galleryRef = this._gallery.ref(id);\r\n        galleryRef.set(i);\r\n        this._overlayRef = this._overlay.create(overlayConfig);\r\n        // overlay opened event\r\n        this._overlayRef.attachments().subscribe(() => this.opened.next(id));\r\n        // overlay closed event\r\n        this._overlayRef.detachments().subscribe(() => this.closed.next(id));\r\n        // Attach gallery to the overlay\r\n        const galleryPortal = new ComponentPortal(LightboxComponent);\r\n        const lightboxRef = this._overlayRef.attach(galleryPortal);\r\n        lightboxRef.instance.id = id;\r\n        lightboxRef.instance.overlayRef = this._overlayRef;\r\n        lightboxRef.instance.closeIcon = this._config.closeIcon;\r\n        lightboxRef.instance.role = this._config.role;\r\n        lightboxRef.instance.ariaLabel = this._config.ariaLabel;\r\n        lightboxRef.instance.ariaLabelledBy = this._config.ariaLabelledBy;\r\n        lightboxRef.instance.ariaDescribedBy = this._config.ariaDescribedBy;\r\n        lightboxRef.instance.startAnimationTime = this._config.startAnimationTime;\r\n        lightboxRef.instance.exitAnimationTime = this._config.exitAnimationTime;\r\n        if (_config.hasBackdrop) {\r\n            this._overlayRef.backdropClick().subscribe(() => this.close());\r\n        }\r\n        // Add keyboard shortcuts\r\n        if (_config.keyboardShortcuts) {\r\n            this._overlayRef.keydownEvents().subscribe((event) => {\r\n                switch (event.keyCode) {\r\n                    case LEFT_ARROW:\r\n                        galleryRef.prev();\r\n                        break;\r\n                    case RIGHT_ARROW:\r\n                        galleryRef.next();\r\n                        break;\r\n                    case ESCAPE:\r\n                        this.close();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Close Lightbox Overlay\r\n     */\r\n    close() {\r\n        if (this._overlayRef.hasAttached()) {\r\n            this._overlayRef.detach();\r\n        }\r\n    }\r\n}\r\nLightbox.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: Lightbox, deps: [{ token: LIGHTBOX_CONFIG, optional: true }, { token: i1$1.Gallery }, { token: i2$1.Overlay }], target: i0.FactoryTarget.Injectable });\r\nLightbox.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: Lightbox });\r\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: Lightbox, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () {\r\n        return [{ type: undefined, decorators: [{\r\n                        type: Optional\r\n                    }, {\r\n                        type: Inject,\r\n                        args: [LIGHTBOX_CONFIG]\r\n                    }] }, { type: i1$1.Gallery }, { type: i2$1.Overlay }];\r\n    } });\n\nclass GallerizeDirective {\r\n    constructor(_zone, _el, _gallery, _lightbox, _renderer, platform, _document, _galleryCmp) {\r\n        this._zone = _zone;\r\n        this._el = _el;\r\n        this._gallery = _gallery;\r\n        this._lightbox = _lightbox;\r\n        this._renderer = _renderer;\r\n        this._document = _document;\r\n        this._galleryCmp = _galleryCmp;\r\n        /** Default gallery id */\r\n        this._galleryId = 'lightbox';\r\n        /** The selector used to query images elements */\r\n        this.selector = 'img';\r\n        // Set gallerize mode\r\n        if (isPlatformBrowser(platform)) {\r\n            this._mode = _galleryCmp ? \"gallery\" /* GallerizeMode.Gallery */ : \"detector\" /* GallerizeMode.Detector */;\r\n        }\r\n    }\r\n    ngOnInit() {\r\n        this._zone.runOutsideAngular(() => {\r\n            this._galleryId = this.gallerize || this._galleryId;\r\n            const ref = this._gallery.ref(this._galleryId);\r\n            switch (this._mode) {\r\n                case \"detector\" /* GallerizeMode.Detector */:\r\n                    this.detectorMode(ref);\r\n                    break;\r\n                case \"gallery\" /* GallerizeMode.Gallery */:\r\n                    this.galleryMode(ref);\r\n            }\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n        switch (this._mode) {\r\n            case \"detector\" /* GallerizeMode.Detector */:\r\n                this._detector$.complete();\r\n                this._observer$.disconnect();\r\n                break;\r\n            case \"gallery\" /* GallerizeMode.Gallery */:\r\n                this._itemClick$.unsubscribe();\r\n                this._itemChange$.unsubscribe();\r\n        }\r\n    }\r\n    /** Gallery mode: means `gallerize` directive is used on `<gallery>` component\r\n     * Adds a click event to each gallery item so it opens in lightbox */\r\n    galleryMode(galleryRef) {\r\n        // Clone its items to the new gallery instance\r\n        this._itemClick$ = this._galleryCmp.galleryRef.itemClick.subscribe((i) => this._lightbox.open(i, this._galleryId));\r\n        this._itemChange$ = this._galleryCmp.galleryRef.itemsChanged.subscribe((state) => galleryRef.load(state.items));\r\n    }\r\n    /** Detector mode: means `gallerize` directive is used on a normal HTMLElement\r\n     *  Detects images and adds a click event to each image so it opens in the lightbox */\r\n    detectorMode(galleryRef) {\r\n        this._detector$ = new Subject();\r\n        // Query image elements\r\n        this._detector$.pipe(debounceTime(300), switchMap(() => {\r\n            /** get all img elements from content */\r\n            const imageElements = this._el.nativeElement.querySelectorAll(this.selector);\r\n            if (imageElements && imageElements.length) {\r\n                const images = [];\r\n                return from(imageElements).pipe(map((el, i) => {\r\n                    // Add click event to the image\r\n                    this._renderer.setStyle(el, 'cursor', 'pointer');\r\n                    this._renderer.setProperty(el, 'onclick', () => this._zone.run(() => this._lightbox.open(i, this._galleryId)));\r\n                    if (el instanceof HTMLImageElement) {\r\n                        // If element is type of img use the src property\r\n                        return {\r\n                            src: el.getAttribute('imageSrc') || el.src,\r\n                            thumb: el.getAttribute('thumbSrc') || el.src\r\n                        };\r\n                    }\r\n                    else {\r\n                        // Otherwise, use element background-image url\r\n                        const elStyle = el.currentStyle || this._document.defaultView.getComputedStyle(el, null);\r\n                        const background = elStyle.backgroundImage.slice(4, -1).replace(/\"/g, '');\r\n                        return {\r\n                            src: el.getAttribute('imageSrc') || background,\r\n                            thumb: el.getAttribute('thumbSrc') || background\r\n                        };\r\n                    }\r\n                }), tap((data) => images.push(new ImageItem(data))), finalize(() => galleryRef.load(images)));\r\n            }\r\n            else {\r\n                return EMPTY;\r\n            }\r\n        })).subscribe();\r\n        // Observe content changes\r\n        this._observer$ = new MutationObserver(() => this._detector$.next());\r\n        this._observer$.observe(this._el.nativeElement, { childList: true, subtree: true });\r\n    }\r\n}\r\nGallerizeDirective.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GallerizeDirective, deps: [{ token: i0.NgZone }, { token: i0.ElementRef }, { token: i1$1.Gallery }, { token: Lightbox }, { token: i0.Renderer2 }, { token: PLATFORM_ID }, { token: DOCUMENT }, { token: i1$1.GalleryComponent, host: true, optional: true, self: true }], target: i0.FactoryTarget.Directive });\r\nGallerizeDirective.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.0.0\", type: GallerizeDirective, selector: \"[gallerize]\", inputs: { gallerize: \"gallerize\", selector: \"selector\" }, ngImport: i0 });\r\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GallerizeDirective, decorators: [{\r\n            type: Directive,\r\n            args: [{\r\n                    selector: '[gallerize]'\r\n                }]\r\n        }], ctorParameters: function () {\r\n        return [{ type: i0.NgZone }, { type: i0.ElementRef }, { type: i1$1.Gallery }, { type: Lightbox }, { type: i0.Renderer2 }, { type: Object, decorators: [{\r\n                        type: Inject,\r\n                        args: [PLATFORM_ID]\r\n                    }] }, { type: undefined, decorators: [{\r\n                        type: Inject,\r\n                        args: [DOCUMENT]\r\n                    }] }, { type: i1$1.GalleryComponent, decorators: [{\r\n                        type: Host\r\n                    }, {\r\n                        type: Self\r\n                    }, {\r\n                        type: Optional\r\n                    }] }];\r\n    }, propDecorators: { gallerize: [{\r\n                type: Input\r\n            }], selector: [{\r\n                type: Input\r\n            }] } });\n\nclass LightboxDirective {\r\n    constructor(_lightbox, _el, _renderer) {\r\n        this._lightbox = _lightbox;\r\n        this._el = _el;\r\n        this._renderer = _renderer;\r\n        this.clickEvent = Subscription.EMPTY;\r\n        this.index = 0;\r\n        this.id = 'root';\r\n    }\r\n    ngOnInit() {\r\n        this._renderer.setStyle(this._el.nativeElement, 'cursor', 'pointer');\r\n        this.clickEvent = fromEvent(this._el.nativeElement, 'click').pipe(tap(() => this._lightbox.open(this.index, this.id))).subscribe();\r\n    }\r\n    ngOnDestroy() {\r\n        this.clickEvent.unsubscribe();\r\n    }\r\n}\r\nLightboxDirective.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: LightboxDirective, deps: [{ token: Lightbox }, { token: i0.ElementRef }, { token: i0.Renderer2 }], target: i0.FactoryTarget.Directive });\r\nLightboxDirective.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.0.0\", type: LightboxDirective, selector: \"[lightbox]\", inputs: { index: [\"lightbox\", \"index\"], id: [\"gallery\", \"id\"] }, ngImport: i0 });\r\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: LightboxDirective, decorators: [{\r\n            type: Directive,\r\n            args: [{\r\n                    selector: '[lightbox]'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: Lightbox }, { type: i0.ElementRef }, { type: i0.Renderer2 }]; }, propDecorators: { index: [{\r\n                type: Input,\r\n                args: ['lightbox']\r\n            }], id: [{\r\n                type: Input,\r\n                args: ['gallery']\r\n            }] } });\n\nclass LightboxModule {\r\n    static withConfig(config) {\r\n        return {\r\n            ngModule: LightboxModule,\r\n            providers: [\r\n                {\r\n                    provide: LIGHTBOX_CONFIG,\r\n                    useValue: config\r\n                }\r\n            ]\r\n        };\r\n    }\r\n}\r\nLightboxModule.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: LightboxModule, deps: [], target: i0.FactoryTarget.NgModule });\r\nLightboxModule.mod = i0.ngDeclareNgModule({ minVersion: \"14.0.0\", version: \"14.0.0\", ngImport: i0, type: LightboxModule, declarations: [LightboxComponent,\r\n        LightboxDirective,\r\n        GallerizeDirective], imports: [OverlayModule,\r\n        GalleryModule,\r\n        A11yModule], exports: [LightboxDirective,\r\n        GallerizeDirective] });\r\nLightboxModule.inj = i0.ngDeclareInjector({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: LightboxModule, providers: [\r\n        Lightbox\r\n    ], imports: [OverlayModule,\r\n        GalleryModule,\r\n        A11yModule] });\r\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: LightboxModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        OverlayModule,\r\n                        GalleryModule,\r\n                        A11yModule\r\n                    ],\r\n                    declarations: [\r\n                        LightboxComponent,\r\n                        LightboxDirective,\r\n                        GallerizeDirective\r\n                    ],\r\n                    exports: [\r\n                        LightboxDirective,\r\n                        GallerizeDirective\r\n                    ],\r\n                    providers: [\r\n                        Lightbox\r\n                    ]\r\n                }]\r\n        }] });\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { GallerizeDirective, LIGHTBOX_CONFIG, Lightbox, LightboxComponent, LightboxDirective, LightboxModule };\n","import * as i0 from '@angular/core';\nimport { InjectionToken, Injectable, Optional, Inject, EventEmitter, Directive, Input, Output, Component, ChangeDetectionStrategy, HostBinding, ViewChild, PLATFORM_ID, NgModule } from '@angular/core';\nimport { Subject, BehaviorSubject, of, EMPTY, Subscription, fromEvent, zip } from 'rxjs';\nimport { filter, switchMap, delay, tap, map, debounceTime } from 'rxjs/operators';\nimport * as i1$1 from '@angular/common';\nimport { DOCUMENT, isPlatformBrowser, CommonModule } from '@angular/common';\nimport * as i1 from '@angular/platform-browser';\nimport { trigger, transition, style, animate } from '@angular/animations';\n\nvar GalleryAction;\r\n(function (GalleryAction) {\r\n    GalleryAction[\"INITIALIZED\"] = \"initialized\";\r\n    GalleryAction[\"ITEMS_CHANGED\"] = \"itemsChanged\";\r\n    GalleryAction[\"INDEX_CHANGED\"] = \"indexChanged\";\r\n    GalleryAction[\"PLAY\"] = \"play\";\r\n    GalleryAction[\"STOP\"] = \"stop\";\r\n})(GalleryAction || (GalleryAction = {}));\r\nvar ImageSize;\r\n(function (ImageSize) {\r\n    ImageSize[\"Cover\"] = \"cover\";\r\n    ImageSize[\"Contain\"] = \"contain\";\r\n})(ImageSize || (ImageSize = {}));\r\nvar LoadingStrategy;\r\n(function (LoadingStrategy) {\r\n    LoadingStrategy[\"Preload\"] = \"preload\";\r\n    LoadingStrategy[\"Lazy\"] = \"lazy\";\r\n    LoadingStrategy[\"Default\"] = \"default\";\r\n})(LoadingStrategy || (LoadingStrategy = {}));\r\nvar ThumbnailsPosition;\r\n(function (ThumbnailsPosition) {\r\n    ThumbnailsPosition[\"Top\"] = \"top\";\r\n    ThumbnailsPosition[\"Left\"] = \"left\";\r\n    ThumbnailsPosition[\"Right\"] = \"right\";\r\n    ThumbnailsPosition[\"Bottom\"] = \"bottom\";\r\n})(ThumbnailsPosition || (ThumbnailsPosition = {}));\r\nvar ImageLoaderMode;\r\n(function (ImageLoaderMode) {\r\n    ImageLoaderMode[\"Determinate\"] = \"determinate\";\r\n    ImageLoaderMode[\"Indeterminate\"] = \"indeterminate\";\r\n})(ImageLoaderMode || (ImageLoaderMode = {}));\r\nvar DotsPosition;\r\n(function (DotsPosition) {\r\n    DotsPosition[\"Top\"] = \"top\";\r\n    DotsPosition[\"Bottom\"] = \"bottom\";\r\n})(DotsPosition || (DotsPosition = {}));\r\nvar CounterPosition;\r\n(function (CounterPosition) {\r\n    CounterPosition[\"Top\"] = \"top\";\r\n    CounterPosition[\"Bottom\"] = \"bottom\";\r\n})(CounterPosition || (CounterPosition = {}));\r\nvar ThumbnailsMode;\r\n(function (ThumbnailsMode) {\r\n    ThumbnailsMode[\"Free\"] = \"free\";\r\n    ThumbnailsMode[\"Strict\"] = \"strict\";\r\n})(ThumbnailsMode || (ThumbnailsMode = {}));\r\nvar SlidingDirection;\r\n(function (SlidingDirection) {\r\n    SlidingDirection[\"Horizontal\"] = \"horizontal\";\r\n    SlidingDirection[\"Vertical\"] = \"vertical\";\r\n})(SlidingDirection || (SlidingDirection = {}));\r\nvar GalleryItemType;\r\n(function (GalleryItemType) {\r\n    GalleryItemType[\"Image\"] = \"image\";\r\n    GalleryItemType[\"Video\"] = \"video\";\r\n    GalleryItemType[\"Youtube\"] = \"youtube\";\r\n    GalleryItemType[\"Iframe\"] = \"iframe\";\r\n})(GalleryItemType || (GalleryItemType = {}));\r\nvar ThumbnailsView;\r\n(function (ThumbnailsView) {\r\n    ThumbnailsView[\"Default\"] = \"default\";\r\n    ThumbnailsView[\"Contain\"] = \"contain\";\r\n})(ThumbnailsView || (ThumbnailsView = {}));\n\n/** Initial state */\r\nconst defaultState = {\r\n    action: GalleryAction.INITIALIZED,\r\n    isPlaying: false,\r\n    hasNext: false,\r\n    hasPrev: false,\r\n    currIndex: 0,\r\n    items: []\r\n};\r\nconst defaultConfig = {\r\n    nav: true,\r\n    loop: true,\r\n    zoomOut: 0,\r\n    dots: false,\r\n    thumb: true,\r\n    dotsSize: 30,\r\n    counter: true,\r\n    gestures: true,\r\n    autoPlay: false,\r\n    thumbWidth: 120,\r\n    thumbHeight: 90,\r\n    panSensitivity: 25,\r\n    disableThumb: false,\r\n    playerInterval: 3000,\r\n    imageSize: ImageSize.Contain,\r\n    thumbMode: ThumbnailsMode.Strict,\r\n    dotsPosition: DotsPosition.Bottom,\r\n    counterPosition: CounterPosition.Top,\r\n    thumbPosition: ThumbnailsPosition.Bottom,\r\n    loadingStrategy: LoadingStrategy.Default,\r\n    slidingDirection: SlidingDirection.Horizontal,\r\n    navIcon: `<?xml version=\"1.0\" encoding=\"UTF-8\"?><svg width=\"512px\" height=\"512px\" enable-background=\"new 0 0 240.823 240.823\" version=\"1.1\" viewBox=\"0 0 240.823 240.823\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m183.19 111.82l-108.3-108.26c-4.752-4.74-12.451-4.74-17.215 0-4.752 4.74-4.752 12.439 0 17.179l99.707 99.671-99.695 99.671c-4.752 4.74-4.752 12.439 0 17.191 4.752 4.74 12.463 4.74 17.215 0l108.3-108.26c4.68-4.691 4.68-12.511-0.012-17.19z\" fill=\"#fff\"/></svg>`,\r\n    loadingIcon: `<?xml version=\"1.0\" encoding=\"UTF-8\"?><svg stroke=\"#fff\" viewBox=\"0 0 44 44\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"none\" fill-rule=\"evenodd\" stroke-width=\"2\"><circle cx=\"22\" cy=\"22\" r=\"1\"><animate attributeName=\"r\" begin=\"0s\" calcMode=\"spline\" dur=\"1.8s\" keySplines=\"0.165, 0.84, 0.44, 1\" keyTimes=\"0; 1\" repeatCount=\"indefinite\" values=\"1; 20\"/><animate attributeName=\"stroke-opacity\" begin=\"0s\" calcMode=\"spline\" dur=\"1.8s\" keySplines=\"0.3, 0.61, 0.355, 1\" keyTimes=\"0; 1\" repeatCount=\"indefinite\" values=\"1; 0\"/></circle><circle cx=\"22\" cy=\"22\" r=\"1\"><animate attributeName=\"r\" begin=\"-0.9s\" calcMode=\"spline\" dur=\"1.8s\" keySplines=\"0.165, 0.84, 0.44, 1\" keyTimes=\"0; 1\" repeatCount=\"indefinite\" values=\"1; 20\"/><animate attributeName=\"stroke-opacity\" begin=\"-0.9s\" calcMode=\"spline\" dur=\"1.8s\" keySplines=\"0.3, 0.61, 0.355, 1\" keyTimes=\"0; 1\" repeatCount=\"indefinite\" values=\"1; 0\"/></circle></g></svg>`\r\n};\n\nclass ImageItem {\r\n    constructor(data) {\r\n        this.data = data;\r\n        this.type = GalleryItemType.Image;\r\n    }\r\n}\r\nclass VideoItem {\r\n    constructor(data) {\r\n        this.data = data;\r\n        this.type = GalleryItemType.Video;\r\n    }\r\n}\r\nclass IframeItem {\r\n    constructor(data) {\r\n        this.data = data;\r\n        this.type = GalleryItemType.Iframe;\r\n    }\r\n}\r\nclass YoutubeItem {\r\n    constructor(data) {\r\n        this.data = Object.assign(Object.assign({}, data), {\r\n            src: `https://youtube.com/embed/${data.src}`,\r\n            thumb: data.thumb ? data.thumb : `//img.youtube.com/vi/${data.src}/default.jpg`\r\n        });\r\n        this.type = GalleryItemType.Youtube;\r\n    }\r\n}\n\nconst filterActions = (actions) => {\r\n    return filter((state) => actions.indexOf(state.action) > -1);\r\n};\r\nclass GalleryRef {\r\n    constructor(config, deleteInstance) {\r\n        this.deleteInstance = deleteInstance;\r\n        /** Stream that emits on item click */\r\n        this.itemClick = new Subject();\r\n        /** Stream that emits on thumbnail click */\r\n        this.thumbClick = new Subject();\r\n        /** Stream that emits on an error occurs */\r\n        this.error = new Subject();\r\n        this._state = new BehaviorSubject(defaultState);\r\n        this._config = new BehaviorSubject(config);\r\n        this.state = this._state.asObservable();\r\n        this.config = this._config.asObservable();\r\n    }\r\n    get stateSnapshot() {\r\n        return this._state.value;\r\n    }\r\n    /** Stream that emits when gallery is initialized/reset */\r\n    get initialized() {\r\n        return this.state.pipe(filterActions([GalleryAction.INITIALIZED]));\r\n    }\r\n    /** Stream that emits when items is changed (items loaded, item added, item removed) */\r\n    get itemsChanged() {\r\n        return this.state.pipe(filterActions([GalleryAction.ITEMS_CHANGED]));\r\n    }\r\n    /** Stream that emits when current item is changed */\r\n    get indexChanged() {\r\n        return this.state.pipe(filterActions([GalleryAction.INDEX_CHANGED]));\r\n    }\r\n    /** Stream that emits when the player should start or stop */\r\n    get playingChanged() {\r\n        return this.state.pipe(filterActions([GalleryAction.PLAY, GalleryAction.STOP]));\r\n    }\r\n    /** Stream that emits when the player should start or stop */\r\n    get playerActions() {\r\n        return this.state.pipe(filterActions([GalleryAction.PLAY, GalleryAction.STOP, GalleryAction.INDEX_CHANGED]));\r\n    }\r\n    /**\r\n     * Activate player actions listener\r\n     */\r\n    activatePlayer() {\r\n        return this.playerActions.pipe(switchMap((e) => e.isPlaying ? of({}).pipe(delay(this._config.value.playerInterval), tap(() => this.next())) : EMPTY));\r\n    }\r\n    /**\r\n     * Set gallery state\r\n     */\r\n    setState(state) {\r\n        this._state.next(Object.assign(Object.assign({}, this.stateSnapshot), state));\r\n    }\r\n    /**\r\n     * Set gallery config\r\n     */\r\n    setConfig(config) {\r\n        this._config.next(Object.assign(Object.assign({}, this._config.value), config));\r\n    }\r\n    /**\r\n     * Add gallery item\r\n     */\r\n    add(item, active) {\r\n        const items = [...this.stateSnapshot.items, item];\r\n        this.setState({\r\n            action: GalleryAction.ITEMS_CHANGED,\r\n            items,\r\n            hasNext: items.length > 1,\r\n            currIndex: active ? items.length - 1 : this.stateSnapshot.currIndex\r\n        });\r\n    }\r\n    /**\r\n     * Add image item\r\n     */\r\n    addImage(data, active) {\r\n        this.add(new ImageItem(data), active);\r\n    }\r\n    /**\r\n     * Add video item\r\n     */\r\n    addVideo(data, active) {\r\n        this.add(new VideoItem(data), active);\r\n    }\r\n    /**\r\n     * Add iframe item\r\n     */\r\n    addIframe(data, active) {\r\n        this.add(new IframeItem(data), active);\r\n    }\r\n    /**\r\n     * Add youtube item\r\n     */\r\n    addYoutube(data, active) {\r\n        this.add(new YoutubeItem(data), active);\r\n    }\r\n    /**\r\n     * Remove gallery item\r\n     */\r\n    remove(i) {\r\n        const state = this.stateSnapshot;\r\n        const items = [\r\n            ...state.items.slice(0, i),\r\n            ...state.items.slice(i + 1, state.items.length)\r\n        ];\r\n        this.setState({\r\n            action: GalleryAction.ITEMS_CHANGED,\r\n            currIndex: i < 1 ? state.currIndex : i - 1,\r\n            items,\r\n            hasNext: items.length > 1,\r\n            hasPrev: i > 0\r\n        });\r\n    }\r\n    /**\r\n     * Load items and reset the state\r\n     */\r\n    load(items) {\r\n        if (items) {\r\n            this.setState({\r\n                action: GalleryAction.ITEMS_CHANGED,\r\n                items,\r\n                hasNext: items.length > 1,\r\n                hasPrev: false\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Set active item\r\n     */\r\n    set(i) {\r\n        if (i !== this.stateSnapshot.currIndex) {\r\n            this.setState({\r\n                action: GalleryAction.INDEX_CHANGED,\r\n                currIndex: i,\r\n                hasNext: i < this.stateSnapshot.items.length - 1,\r\n                hasPrev: i > 0\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Next item\r\n     */\r\n    next() {\r\n        if (this.stateSnapshot.hasNext) {\r\n            this.set(this.stateSnapshot.currIndex + 1);\r\n        }\r\n        else if (this._config.value.loop) {\r\n            this.set(0);\r\n        }\r\n    }\r\n    /**\r\n     * Prev item\r\n     */\r\n    prev() {\r\n        if (this.stateSnapshot.hasPrev) {\r\n            this.set(this.stateSnapshot.currIndex - 1);\r\n        }\r\n        else if (this._config.value.loop) {\r\n            this.set(this.stateSnapshot.items.length - 1);\r\n        }\r\n    }\r\n    /**\r\n     * Start gallery player\r\n     */\r\n    play(interval) {\r\n        if (interval) {\r\n            this.setConfig({ playerInterval: interval });\r\n        }\r\n        this.setState({ action: GalleryAction.PLAY, isPlaying: true });\r\n    }\r\n    /**\r\n     * Stop gallery player\r\n     */\r\n    stop() {\r\n        this.setState({ action: GalleryAction.STOP, isPlaying: false });\r\n    }\r\n    /**\r\n     * Reset gallery to initial state\r\n     */\r\n    reset() {\r\n        this.setState(defaultState);\r\n    }\r\n    /**\r\n     * Destroy gallery\r\n     */\r\n    destroy() {\r\n        this._state.complete();\r\n        this._config.complete();\r\n        this.itemClick.complete();\r\n        this.thumbClick.complete();\r\n        this.deleteInstance();\r\n    }\r\n}\n\nconst GALLERY_CONFIG = new InjectionToken('GALLERY_CONFIG');\n\nclass Gallery {\r\n    constructor(config) {\r\n        /** Store gallery instances */\r\n        this._instances = new Map();\r\n        this.config = config ? Object.assign(Object.assign({}, defaultConfig), config) : defaultConfig;\r\n    }\r\n    /**\r\n     * Get or create gallery by ID\r\n     * @param id\r\n     * @param config\r\n     */\r\n    ref(id = 'root', config) {\r\n        if (this._instances.has(id)) {\r\n            const galleryRef = this._instances.get(id);\r\n            if (config) {\r\n                galleryRef.setConfig(Object.assign(Object.assign({}, this.config), config));\r\n            }\r\n            return galleryRef;\r\n        }\r\n        else {\r\n            return this._instances.set(id, new GalleryRef(Object.assign(Object.assign({}, this.config), config), this.deleteInstance(id))).get(id);\r\n        }\r\n    }\r\n    /**\r\n     * Destroy all gallery instances\r\n     */\r\n    destroyAll() {\r\n        this._instances.forEach((ref) => ref.destroy());\r\n    }\r\n    /**\r\n     * Reset all gallery instances\r\n     */\r\n    resetAll() {\r\n        this._instances.forEach((ref) => ref.reset());\r\n    }\r\n    /**\r\n     * A destroyer function for each gallery instance\r\n     */\r\n    deleteInstance(id) {\r\n        return () => {\r\n            if (this._instances.has(id)) {\r\n                this._instances.delete(id);\r\n            }\r\n        };\r\n    }\r\n}\r\nGallery.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: Gallery, deps: [{ token: GALLERY_CONFIG, optional: true }], target: i0.FactoryTarget.Injectable });\r\nGallery.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: Gallery, providedIn: 'root' });\r\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: Gallery, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () {\r\n        return [{ type: undefined, decorators: [{\r\n                        type: Optional\r\n                    }, {\r\n                        type: Inject,\r\n                        args: [GALLERY_CONFIG]\r\n                    }] }];\r\n    } });\n\n/**\r\n * This directive uses tap event if HammerJS is loaded, otherwise it falls back to normal click event\r\n */\r\nclass TapClick {\r\n    constructor(_el) {\r\n        this._el = _el;\r\n        this.clickListener = Subscription.EMPTY;\r\n        this.tapClick = new EventEmitter();\r\n    }\r\n    ngOnInit() {\r\n        this.activateClickEvent();\r\n    }\r\n    activateClickEvent() {\r\n        if (typeof Hammer !== 'undefined') {\r\n            // Use Hammer.js tap event\r\n            this._hammer = new Hammer(this._el.nativeElement);\r\n            this._hammer.on('tap', () => {\r\n                if (!this.tapClickDisabled) {\r\n                    this.tapClick.emit(null);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            // Use normal click event\r\n            this.clickListener = fromEvent(this._el.nativeElement, 'click').pipe(filter(() => !this.tapClickDisabled), tap(() => this.tapClick.emit(null))).subscribe();\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        if (this._hammer) {\r\n            this._hammer.destroy();\r\n        }\r\n        this.clickListener.unsubscribe();\r\n    }\r\n}\r\nTapClick.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: TapClick, deps: [{ token: i0.ElementRef }], target: i0.FactoryTarget.Directive });\r\nTapClick.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.0.0\", type: TapClick, selector: \"[tapClick]\", inputs: { tapClickDisabled: \"tapClickDisabled\" }, outputs: { tapClick: \"tapClick\" }, ngImport: i0 });\r\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: TapClick, decorators: [{\r\n            type: Directive,\r\n            args: [{\r\n                    selector: '[tapClick]'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; }, propDecorators: { tapClickDisabled: [{\r\n                type: Input\r\n            }], tapClick: [{\r\n                type: Output\r\n            }] } });\n\nclass GalleryNavComponent {\r\n    constructor(_sanitizer) {\r\n        this._sanitizer = _sanitizer;\r\n        this.action = new EventEmitter();\r\n    }\r\n    ngOnInit() {\r\n        this.navIcon = this._sanitizer.bypassSecurityTrustHtml(this.config.navIcon);\r\n    }\r\n}\r\nGalleryNavComponent.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryNavComponent, deps: [{ token: i1.DomSanitizer }], target: i0.FactoryTarget.Component });\r\nGalleryNavComponent.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.0\", type: GalleryNavComponent, selector: \"gallery-nav\", inputs: { state: \"state\", config: \"config\" }, outputs: { action: \"action\" }, ngImport: i0, template: `\r\n    <i *ngIf=\"config.loop || state.hasPrev\"\r\n       class=\"g-nav-prev\"\r\n       aria-label=\"Previous\"\r\n       (tapClick)=\"action.emit('prev')\"\r\n       [innerHtml]=\"navIcon\"></i>\r\n\r\n    <i *ngIf=\"config.loop || state.hasNext\"\r\n       class=\"g-nav-next\"\r\n       aria-label=\"Next\"\r\n       (tapClick)=\"action.emit('next')\"\r\n       [innerHtml]=\"navIcon\"></i>\r\n  `, isInline: true, dependencies: [{ kind: \"directive\", type: i1$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: TapClick, selector: \"[tapClick]\", inputs: [\"tapClickDisabled\"], outputs: [\"tapClick\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryNavComponent, decorators: [{\r\n            type: Component,\r\n            args: [{\r\n                    selector: 'gallery-nav',\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    template: `\r\n    <i *ngIf=\"config.loop || state.hasPrev\"\r\n       class=\"g-nav-prev\"\r\n       aria-label=\"Previous\"\r\n       (tapClick)=\"action.emit('prev')\"\r\n       [innerHtml]=\"navIcon\"></i>\r\n\r\n    <i *ngIf=\"config.loop || state.hasNext\"\r\n       class=\"g-nav-next\"\r\n       aria-label=\"Next\"\r\n       (tapClick)=\"action.emit('next')\"\r\n       [innerHtml]=\"navIcon\"></i>\r\n  `\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i1.DomSanitizer }]; }, propDecorators: { state: [{\r\n                type: Input\r\n            }], config: [{\r\n                type: Input\r\n            }], action: [{\r\n                type: Output\r\n            }] } });\n\nclass GalleryDotsComponent {\r\n    constructor() {\r\n        this.action = new EventEmitter();\r\n    }\r\n}\r\nGalleryDotsComponent.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryDotsComponent, deps: [], target: i0.FactoryTarget.Component });\r\nGalleryDotsComponent.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.0\", type: GalleryDotsComponent, selector: \"gallery-dots\", inputs: { state: \"state\", config: \"config\" }, outputs: { action: \"action\" }, ngImport: i0, template: `\r\n    <div class=\"g-dot\"\r\n         *ngFor=\"let item of state.items; let i = index\"\r\n         [class.g-dot-active]=\"i === state.currIndex\"\r\n         [style.width.px]=\"config?.dotsSize\"\r\n         [style.height.px]=\"config?.dotsSize\"\r\n         (tapClick)=\"action.emit(i)\">\r\n      <div class=\"g-dot-inner\"></div>\r\n    </div>\r\n  `, isInline: true, dependencies: [{ kind: \"directive\", type: i1$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: TapClick, selector: \"[tapClick]\", inputs: [\"tapClickDisabled\"], outputs: [\"tapClick\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryDotsComponent, decorators: [{\r\n            type: Component,\r\n            args: [{\r\n                    selector: 'gallery-dots',\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    template: `\r\n    <div class=\"g-dot\"\r\n         *ngFor=\"let item of state.items; let i = index\"\r\n         [class.g-dot-active]=\"i === state.currIndex\"\r\n         [style.width.px]=\"config?.dotsSize\"\r\n         [style.height.px]=\"config?.dotsSize\"\r\n         (tapClick)=\"action.emit(i)\">\r\n      <div class=\"g-dot-inner\"></div>\r\n    </div>\r\n  `\r\n                }]\r\n        }], propDecorators: { state: [{\r\n                type: Input\r\n            }], config: [{\r\n                type: Input\r\n            }], action: [{\r\n                type: Output\r\n            }] } });\n\nclass LazyImage {\r\n    constructor(document) {\r\n        this.document = document;\r\n        this._imageLoader$ = new Subject();\r\n        this._loaderSub$ = Subscription.EMPTY;\r\n        this.loaded = new EventEmitter();\r\n        this.error = new EventEmitter();\r\n        this._loaderSub$ = this._imageLoader$.pipe(switchMap((imageSrc) => this.nativeLoader(imageSrc))).subscribe();\r\n    }\r\n    ngOnChanges(changes) {\r\n        if (changes['src'] && changes['src'].previousValue !== changes['src'].currentValue) {\r\n            this.loadImage(this.src);\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        this._loaderSub$.unsubscribe();\r\n        this._imageLoader$.complete();\r\n    }\r\n    loadImage(imagePath) {\r\n        this._imageLoader$.next(imagePath);\r\n    }\r\n    /**\r\n     * Native image loader, does not emit progress\r\n     * @param url\r\n     */\r\n    nativeLoader(url) {\r\n        const img = this.document.createElement('img');\r\n        // Stop previously loading\r\n        img.src = url;\r\n        // Image load success\r\n        const loadSuccess = fromEvent(img, 'load').pipe(tap(() => this.loaded.emit(url)));\r\n        // Image load failed\r\n        const loadError = fromEvent(img, 'error').pipe(tap(() => this.error.emit(new Error(`[lazyImage]: The image ${url} did not load`))));\r\n        return zip(loadSuccess, loadError);\r\n    }\r\n}\r\nLazyImage.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: LazyImage, deps: [{ token: DOCUMENT }], target: i0.FactoryTarget.Directive });\r\nLazyImage.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.0.0\", type: LazyImage, selector: \"[lazyImage]\", inputs: { src: [\"lazyImage\", \"src\"] }, outputs: { loaded: \"loaded\", error: \"error\" }, usesOnChanges: true, ngImport: i0 });\r\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: LazyImage, decorators: [{\r\n            type: Directive,\r\n            args: [{\r\n                    selector: '[lazyImage]'\r\n                }]\r\n        }], ctorParameters: function () {\r\n        return [{ type: undefined, decorators: [{\r\n                        type: Inject,\r\n                        args: [DOCUMENT]\r\n                    }] }];\r\n    }, propDecorators: { src: [{\r\n                type: Input,\r\n                args: ['lazyImage']\r\n            }], loaded: [{\r\n                type: Output\r\n            }], error: [{\r\n                type: Output\r\n            }] } });\n\nclass GalleryImageComponent {\r\n    constructor(_sanitizer) {\r\n        this._sanitizer = _sanitizer;\r\n        /** Stream that emits the state */\r\n        this._state = new BehaviorSubject('loading');\r\n        this.state = this._state.asObservable();\r\n        /** Progress value */\r\n        this.progress = 0;\r\n        /** Stream that emits when an error occurs */\r\n        this.error = new EventEmitter();\r\n    }\r\n    get imageLoadSuccess() {\r\n        return !!this.imageUrl;\r\n    }\r\n    get imageLoadFailed() {\r\n        return !!this.loadError;\r\n    }\r\n    ngOnInit() {\r\n        if (this.loadingIcon) {\r\n            this.loaderTemplate = this._sanitizer.bypassSecurityTrustHtml(this.loadingIcon);\r\n        }\r\n        if (this.loadingError) {\r\n            this.errorTemplate = this._sanitizer.bypassSecurityTrustHtml(this.loadingError);\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        this._state.complete();\r\n    }\r\n    onProgress({ loaded, total }) {\r\n        this.progress = loaded * 100 / total;\r\n    }\r\n    onLoaded(blobUrl) {\r\n        this.imageUrl = this._sanitizer.bypassSecurityTrustStyle(`url(\"${blobUrl}\")`);\r\n        this._state.next('success');\r\n    }\r\n    onError(err) {\r\n        this.loadError = err;\r\n        this._state.next('failed');\r\n        this.error.emit(err);\r\n    }\r\n}\r\nGalleryImageComponent.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryImageComponent, deps: [{ token: i1.DomSanitizer }], target: i0.FactoryTarget.Component });\r\nGalleryImageComponent.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.0\", type: GalleryImageComponent, selector: \"gallery-image\", inputs: { isThumbnail: \"isThumbnail\", src: \"src\", loadingIcon: \"loadingIcon\", loadingError: \"loadingError\" }, outputs: { error: \"error\" }, host: { properties: { \"class.g-image-loaded\": \"this.imageLoadSuccess\", \"class.g-image-error\": \"this.imageLoadFailed\" } }, ngImport: i0, template: `\r\n    <ng-container [lazyImage]=\"src\"\r\n                  (progress)=\"onProgress($event)\"\r\n                  (loaded)=\"onLoaded($event)\"\r\n                  (error)=\"onError($event)\"\r\n                  [ngSwitch]=\"state | async\">\r\n\r\n      <div *ngSwitchCase=\"'success'\"\r\n           @fadeIn\r\n           class=\"g-image-item\"\r\n           [style.backgroundImage]=\"imageUrl\">\r\n      </div>\r\n\r\n      <div *ngSwitchCase=\"'failed'\"\r\n           class=\"g-image-error-message\">\r\n        <div *ngIf=\"errorTemplate; else defaultError\"\r\n             [innerHTML]=\"errorTemplate\"></div>\r\n        <ng-template #defaultError>\r\n          <ng-container *ngIf=\"isThumbnail; else isLarge\">\r\n            <h4></h4>\r\n          </ng-container>\r\n          <ng-template #isLarge>\r\n            <h2></h2>\r\n            <p>Unable to load the image!</p>\r\n          </ng-template>\r\n        </ng-template>\r\n      </div>\r\n\r\n      <ng-container *ngSwitchCase=\"'loading'\">\r\n        <div *ngIf=\"loaderTemplate; else defaultLoader\"\r\n             class=\"g-loading\"\r\n             [innerHTML]=\"loaderTemplate\">\r\n        </div>\r\n        <ng-template #defaultLoader>\r\n          <div *ngIf=\"isThumbnail\" class=\"g-thumb-loading\"></div>\r\n        </ng-template>\r\n      </ng-container>\r\n    </ng-container>\r\n  `, isInline: true, dependencies: [{ kind: \"directive\", type: i1$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i1$1.NgSwitch, selector: \"[ngSwitch]\", inputs: [\"ngSwitch\"] }, { kind: \"directive\", type: i1$1.NgSwitchCase, selector: \"[ngSwitchCase]\", inputs: [\"ngSwitchCase\"] }, { kind: \"directive\", type: LazyImage, selector: \"[lazyImage]\", inputs: [\"lazyImage\"], outputs: [\"loaded\", \"error\"] }, { kind: \"pipe\", type: i1$1.AsyncPipe, name: \"async\" }], animations: [\r\n        trigger('fadeIn', [\r\n            transition(':enter', [\r\n                style({ opacity: 0 }),\r\n                animate('300ms ease-in', style({ opacity: 1 }))\r\n            ])\r\n        ])\r\n    ], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryImageComponent, decorators: [{\r\n            type: Component,\r\n            args: [{\r\n                    selector: 'gallery-image',\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    animations: [\r\n                        trigger('fadeIn', [\r\n                            transition(':enter', [\r\n                                style({ opacity: 0 }),\r\n                                animate('300ms ease-in', style({ opacity: 1 }))\r\n                            ])\r\n                        ])\r\n                    ],\r\n                    template: `\r\n    <ng-container [lazyImage]=\"src\"\r\n                  (progress)=\"onProgress($event)\"\r\n                  (loaded)=\"onLoaded($event)\"\r\n                  (error)=\"onError($event)\"\r\n                  [ngSwitch]=\"state | async\">\r\n\r\n      <div *ngSwitchCase=\"'success'\"\r\n           @fadeIn\r\n           class=\"g-image-item\"\r\n           [style.backgroundImage]=\"imageUrl\">\r\n      </div>\r\n\r\n      <div *ngSwitchCase=\"'failed'\"\r\n           class=\"g-image-error-message\">\r\n        <div *ngIf=\"errorTemplate; else defaultError\"\r\n             [innerHTML]=\"errorTemplate\"></div>\r\n        <ng-template #defaultError>\r\n          <ng-container *ngIf=\"isThumbnail; else isLarge\">\r\n            <h4></h4>\r\n          </ng-container>\r\n          <ng-template #isLarge>\r\n            <h2></h2>\r\n            <p>Unable to load the image!</p>\r\n          </ng-template>\r\n        </ng-template>\r\n      </div>\r\n\r\n      <ng-container *ngSwitchCase=\"'loading'\">\r\n        <div *ngIf=\"loaderTemplate; else defaultLoader\"\r\n             class=\"g-loading\"\r\n             [innerHTML]=\"loaderTemplate\">\r\n        </div>\r\n        <ng-template #defaultLoader>\r\n          <div *ngIf=\"isThumbnail\" class=\"g-thumb-loading\"></div>\r\n        </ng-template>\r\n      </ng-container>\r\n    </ng-container>\r\n  `\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i1.DomSanitizer }]; }, propDecorators: { isThumbnail: [{\r\n                type: Input\r\n            }], src: [{\r\n                type: Input\r\n            }], loadingIcon: [{\r\n                type: Input\r\n            }], loadingError: [{\r\n                type: Input\r\n            }], error: [{\r\n                type: Output\r\n            }], imageLoadSuccess: [{\r\n                type: HostBinding,\r\n                args: ['class.g-image-loaded']\r\n            }], imageLoadFailed: [{\r\n                type: HostBinding,\r\n                args: ['class.g-image-error']\r\n            }] } });\n\nclass GalleryVideoComponent {\r\n    constructor() {\r\n        /** Stream that emits when an error occurs */\r\n        this.error = new EventEmitter();\r\n    }\r\n    set pauseVideo(shouldPause) {\r\n        if (this.video.nativeElement) {\r\n            const video = this.video.nativeElement;\r\n            if (shouldPause && !video.paused) {\r\n                video.pause();\r\n            }\r\n        }\r\n    }\r\n    set playVideo(shouldPlay) {\r\n        if (this.video.nativeElement) {\r\n            const video = this.video.nativeElement;\r\n            if (shouldPlay) {\r\n                video.play();\r\n            }\r\n        }\r\n    }\r\n    ngOnInit() {\r\n        if (this.src instanceof Array) {\r\n            // If video has multiple sources\r\n            this.videoSources = [...this.src];\r\n        }\r\n        else {\r\n            this.videoSources = [{ url: this.src }];\r\n        }\r\n        this.controls = typeof this.controlsEnabled === 'boolean' ? this.controlsEnabled : true;\r\n    }\r\n}\r\nGalleryVideoComponent.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryVideoComponent, deps: [], target: i0.FactoryTarget.Component });\r\nGalleryVideoComponent.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.0\", type: GalleryVideoComponent, selector: \"gallery-video\", inputs: { src: \"src\", poster: \"poster\", controlsEnabled: [\"controls\", \"controlsEnabled\"], pauseVideo: [\"pause\", \"pauseVideo\"], playVideo: [\"play\", \"playVideo\"] }, outputs: { error: \"error\" }, viewQueries: [{ propertyName: \"video\", first: true, predicate: [\"video\"], descendants: true, static: true }], ngImport: i0, template: `\r\n    <video #video [controls]=\"controls\" [poster]=\"poster\" (error)=\"error.emit($event)\">\r\n      <source *ngFor=\"let src of videoSources\" [src]=\"src?.url\" [type]=\"src?.type\"/>\r\n    </video>\r\n  `, isInline: true, dependencies: [{ kind: \"directive\", type: i1$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryVideoComponent, decorators: [{\r\n            type: Component,\r\n            args: [{\r\n                    selector: 'gallery-video',\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    template: `\r\n    <video #video [controls]=\"controls\" [poster]=\"poster\" (error)=\"error.emit($event)\">\r\n      <source *ngFor=\"let src of videoSources\" [src]=\"src?.url\" [type]=\"src?.type\"/>\r\n    </video>\r\n  `\r\n                }]\r\n        }], propDecorators: { src: [{\r\n                type: Input\r\n            }], poster: [{\r\n                type: Input\r\n            }], controlsEnabled: [{\r\n                type: Input,\r\n                args: ['controls']\r\n            }], pauseVideo: [{\r\n                type: Input,\r\n                args: ['pause']\r\n            }], playVideo: [{\r\n                type: Input,\r\n                args: ['play']\r\n            }], error: [{\r\n                type: Output\r\n            }], video: [{\r\n                type: ViewChild,\r\n                args: ['video', { static: true }]\r\n            }] } });\n\nclass GalleryIframeComponent {\r\n    constructor(_sanitizer) {\r\n        this._sanitizer = _sanitizer;\r\n    }\r\n    set src(src) {\r\n        this.videoSrc = src;\r\n        this.iframeSrc = this._sanitizer.bypassSecurityTrustResourceUrl(src);\r\n    }\r\n    set pauseVideo(shouldPause) {\r\n        if (this.iframe.nativeElement) {\r\n            if (shouldPause) {\r\n                const iframe = this.iframe.nativeElement;\r\n                iframe.src = null;\r\n                if (!this.autoplay && this.videoSrc) {\r\n                    this.iframeSrc = this._sanitizer.bypassSecurityTrustResourceUrl(this.videoSrc);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nGalleryIframeComponent.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryIframeComponent, deps: [{ token: i1.DomSanitizer }], target: i0.FactoryTarget.Component });\r\nGalleryIframeComponent.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.0\", type: GalleryIframeComponent, selector: \"gallery-iframe\", inputs: { src: \"src\", pauseVideo: [\"pause\", \"pauseVideo\"], autoplay: \"autoplay\" }, viewQueries: [{ propertyName: \"iframe\", first: true, predicate: [\"iframe\"], descendants: true, static: true }], ngImport: i0, template: `\r\n    <iframe #iframe\r\n            frameborder=\"0\"\r\n            allowfullscreen\r\n            [attr.allow]=\"autoplay ? 'autoplay' : ''\"\r\n            [src]=\"iframeSrc\">\r\n    </iframe>\r\n  `, isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryIframeComponent, decorators: [{\r\n            type: Component,\r\n            args: [{\r\n                    selector: 'gallery-iframe',\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    template: `\r\n    <iframe #iframe\r\n            frameborder=\"0\"\r\n            allowfullscreen\r\n            [attr.allow]=\"autoplay ? 'autoplay' : ''\"\r\n            [src]=\"iframeSrc\">\r\n    </iframe>\r\n  `\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i1.DomSanitizer }]; }, propDecorators: { src: [{\r\n                type: Input,\r\n                args: ['src']\r\n            }], pauseVideo: [{\r\n                type: Input,\r\n                args: ['pause']\r\n            }], autoplay: [{\r\n                type: Input\r\n            }], iframe: [{\r\n                type: ViewChild,\r\n                args: ['iframe', { static: true }]\r\n            }] } });\n\nclass GalleryItemComponent {\r\n    constructor() {\r\n        this.Types = GalleryItemType;\r\n        /** Stream that emits when an error occurs */\r\n        this.error = new EventEmitter();\r\n    }\r\n    get isActive() {\r\n        return this.index === this.currIndex;\r\n    }\r\n    get isAutoPlay() {\r\n        if (this.isActive) {\r\n            if (this.type === GalleryItemType.Video || this.type === GalleryItemType.Youtube) {\r\n                return this.data.autoplay;\r\n            }\r\n        }\r\n    }\r\n    get youtubeSrc() {\r\n        let autoplay = 0;\r\n        if (this.isActive && this.type === GalleryItemType.Youtube && this.data.autoplay) {\r\n            autoplay = 1;\r\n        }\r\n        const url = new URL(this.data.src);\r\n        url.search = new URLSearchParams(Object.assign(Object.assign({ wmode: 'transparent' }, this.data.params), { autoplay })).toString();\r\n        return url.href;\r\n    }\r\n    get load() {\r\n        switch (this.config.loadingStrategy) {\r\n            case LoadingStrategy.Preload:\r\n                return true;\r\n            case LoadingStrategy.Lazy:\r\n                return this.currIndex === this.index;\r\n            default:\r\n                return this.currIndex === this.index || this.currIndex === this.index - 1 || this.currIndex === this.index + 1;\r\n        }\r\n    }\r\n}\r\nGalleryItemComponent.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryItemComponent, deps: [], target: i0.FactoryTarget.Component });\r\nGalleryItemComponent.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.0\", type: GalleryItemComponent, selector: \"gallery-item\", inputs: { config: \"config\", index: \"index\", currIndex: \"currIndex\", type: \"type\", data: \"data\" }, outputs: { error: \"error\" }, host: { properties: { \"class.g-active-item\": \"this.isActive\" } }, ngImport: i0, template: `\r\n    <ng-container *ngIf=\"load\" [ngSwitch]=\"type\">\r\n\r\n      <ng-container *ngSwitchCase=\"Types.Image\">\r\n\r\n        <gallery-image [src]=\"data.src\"\r\n                       [loadingIcon]=\"config.loadingIcon\"\r\n                       [loadingError]=\"config.loadingError\"\r\n                       (error)=\"error.emit($event)\"></gallery-image>\r\n\r\n        <div class=\"g-template g-item-template\">\r\n          <ng-container *ngTemplateOutlet=\"config.itemTemplate;\r\n          context: { index: this.index, currIndex: this.currIndex, type: this.type, data: this.data }\">\r\n          </ng-container>\r\n        </div>\r\n\r\n      </ng-container>\r\n\r\n      <gallery-video *ngSwitchCase=\"Types.Video\"\r\n                     [src]=\"data.src\"\r\n                     [poster]=\"data.poster\"\r\n                     [controls]=\"data.controls\"\r\n                     [play]=\"isAutoPlay\"\r\n                     [pause]=\"currIndex !== index\"\r\n                     (error)=\"error.emit($event)\"></gallery-video>\r\n\r\n      <gallery-iframe *ngSwitchCase=\"Types.Youtube\"\r\n                      [src]=\"youtubeSrc\"\r\n                      [autoplay]=\"isAutoPlay\"\r\n                      [pause]=\"currIndex !== index\"></gallery-iframe>\r\n\r\n      <gallery-iframe *ngSwitchCase=\"Types.Iframe\"\r\n                      [src]=\"data.src\"></gallery-iframe>\r\n\r\n      <ng-container *ngSwitchDefault>\r\n\r\n        <div class=\"g-template g-item-template\">\r\n          <ng-container *ngTemplateOutlet=\"config.itemTemplate;\r\n          context: { index: this.index, currIndex: this.currIndex, type: this.type, data: this.data }\">\r\n          </ng-container>\r\n        </div>\r\n\r\n      </ng-container>\r\n\r\n    </ng-container>\r\n  `, isInline: true, dependencies: [{ kind: \"directive\", type: i1$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i1$1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }, { kind: \"directive\", type: i1$1.NgSwitch, selector: \"[ngSwitch]\", inputs: [\"ngSwitch\"] }, { kind: \"directive\", type: i1$1.NgSwitchCase, selector: \"[ngSwitchCase]\", inputs: [\"ngSwitchCase\"] }, { kind: \"directive\", type: i1$1.NgSwitchDefault, selector: \"[ngSwitchDefault]\" }, { kind: \"component\", type: GalleryImageComponent, selector: \"gallery-image\", inputs: [\"isThumbnail\", \"src\", \"loadingIcon\", \"loadingError\"], outputs: [\"error\"] }, { kind: \"component\", type: GalleryVideoComponent, selector: \"gallery-video\", inputs: [\"src\", \"poster\", \"controls\", \"pause\", \"play\"], outputs: [\"error\"] }, { kind: \"component\", type: GalleryIframeComponent, selector: \"gallery-iframe\", inputs: [\"src\", \"pause\", \"autoplay\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryItemComponent, decorators: [{\r\n            type: Component,\r\n            args: [{\r\n                    selector: 'gallery-item',\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    template: `\r\n    <ng-container *ngIf=\"load\" [ngSwitch]=\"type\">\r\n\r\n      <ng-container *ngSwitchCase=\"Types.Image\">\r\n\r\n        <gallery-image [src]=\"data.src\"\r\n                       [loadingIcon]=\"config.loadingIcon\"\r\n                       [loadingError]=\"config.loadingError\"\r\n                       (error)=\"error.emit($event)\"></gallery-image>\r\n\r\n        <div class=\"g-template g-item-template\">\r\n          <ng-container *ngTemplateOutlet=\"config.itemTemplate;\r\n          context: { index: this.index, currIndex: this.currIndex, type: this.type, data: this.data }\">\r\n          </ng-container>\r\n        </div>\r\n\r\n      </ng-container>\r\n\r\n      <gallery-video *ngSwitchCase=\"Types.Video\"\r\n                     [src]=\"data.src\"\r\n                     [poster]=\"data.poster\"\r\n                     [controls]=\"data.controls\"\r\n                     [play]=\"isAutoPlay\"\r\n                     [pause]=\"currIndex !== index\"\r\n                     (error)=\"error.emit($event)\"></gallery-video>\r\n\r\n      <gallery-iframe *ngSwitchCase=\"Types.Youtube\"\r\n                      [src]=\"youtubeSrc\"\r\n                      [autoplay]=\"isAutoPlay\"\r\n                      [pause]=\"currIndex !== index\"></gallery-iframe>\r\n\r\n      <gallery-iframe *ngSwitchCase=\"Types.Iframe\"\r\n                      [src]=\"data.src\"></gallery-iframe>\r\n\r\n      <ng-container *ngSwitchDefault>\r\n\r\n        <div class=\"g-template g-item-template\">\r\n          <ng-container *ngTemplateOutlet=\"config.itemTemplate;\r\n          context: { index: this.index, currIndex: this.currIndex, type: this.type, data: this.data }\">\r\n          </ng-container>\r\n        </div>\r\n\r\n      </ng-container>\r\n\r\n    </ng-container>\r\n  `\r\n                }]\r\n        }], propDecorators: { config: [{\r\n                type: Input\r\n            }], index: [{\r\n                type: Input\r\n            }], currIndex: [{\r\n                type: Input\r\n            }], type: [{\r\n                type: Input\r\n            }], data: [{\r\n                type: Input\r\n            }], error: [{\r\n                type: Output\r\n            }], isActive: [{\r\n                type: HostBinding,\r\n                args: ['class.g-active-item']\r\n            }] } });\n\nclass GallerySliderComponent {\r\n    constructor(_el, _zone, platform) {\r\n        this._el = _el;\r\n        this._zone = _zone;\r\n        this.platform = platform;\r\n        /** Sliding worker */\r\n        this._slidingWorker$ = new BehaviorSubject({ value: 0, active: false });\r\n        /** Stream that emits when the active item should change */\r\n        this.action = new EventEmitter();\r\n        /** Stream that emits when item is clicked */\r\n        this.itemClick = new EventEmitter();\r\n        /** Stream that emits when an error occurs */\r\n        this.error = new EventEmitter();\r\n        // Activate sliding worker\r\n        this.sliderState$ = this._slidingWorker$.pipe(map((state) => ({\r\n            style: this.getSliderStyles(state),\r\n            active: state.active\r\n        })));\r\n    }\r\n    /** Item zoom */\r\n    get zoom() {\r\n        return { transform: `perspective(50px) translate3d(0, 0, ${-this.config.zoomOut}px)` };\r\n    }\r\n    ngOnChanges() {\r\n        // Refresh the slider\r\n        this.updateSlider({ value: 0, active: false });\r\n    }\r\n    ngOnInit() {\r\n        if (this.config.gestures && typeof Hammer !== 'undefined') {\r\n            const direction = this.config.slidingDirection === SlidingDirection.Horizontal\r\n                ? Hammer.DIRECTION_HORIZONTAL\r\n                : Hammer.DIRECTION_VERTICAL;\r\n            // Activate gestures\r\n            this._hammer = new Hammer(this._el.nativeElement);\r\n            this._hammer.get('pan').set({ direction });\r\n            this._zone.runOutsideAngular(() => {\r\n                // Move the slider\r\n                this._hammer.on('pan', (e) => {\r\n                    switch (this.config.slidingDirection) {\r\n                        case SlidingDirection.Horizontal:\r\n                            this.updateSlider({ value: e.deltaX, active: true });\r\n                            if (e.isFinal) {\r\n                                this.updateSlider({ value: 0, active: false });\r\n                                this.horizontalPan(e);\r\n                            }\r\n                            break;\r\n                        case SlidingDirection.Vertical:\r\n                            this.updateSlider({ value: e.deltaY, active: true });\r\n                            if (e.isFinal) {\r\n                                this.updateSlider({ value: 0, active: false });\r\n                                this.verticalPan(e);\r\n                            }\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        // Rearrange slider on window resize\r\n        if (isPlatformBrowser(this.platform)) {\r\n            this._resizeSub$ = fromEvent(window, 'resize').pipe(debounceTime(200), tap(() => this.updateSlider(this._slidingWorker$.value))).subscribe();\r\n        }\r\n        setTimeout(() => this.updateSlider({ value: 0, active: false }));\r\n    }\r\n    ngOnDestroy() {\r\n        if (this._hammer) {\r\n            this._hammer.destroy();\r\n        }\r\n        if (this._resizeSub$) {\r\n            this._resizeSub$.unsubscribe();\r\n        }\r\n        this._slidingWorker$.complete();\r\n    }\r\n    /**\r\n     * Convert sliding state to styles\r\n     */\r\n    getSliderStyles(state) {\r\n        switch (this.config.slidingDirection) {\r\n            case SlidingDirection.Horizontal:\r\n                return {\r\n                    transform: `translate3d(${-(this.state.currIndex * this._el.nativeElement.offsetWidth) + state.value}px, 0, 0)`,\r\n                    width: `calc(100% * ${this.state.items.length})`,\r\n                    height: '100%'\r\n                };\r\n            case SlidingDirection.Vertical:\r\n                return {\r\n                    transform: `translate3d(0, ${-(this.state.currIndex * this._el.nativeElement.offsetHeight) + state.value}px, 0)`,\r\n                    width: '100%',\r\n                    height: `calc(100% * ${this.state.items.length})`,\r\n                };\r\n        }\r\n    }\r\n    verticalPan(e) {\r\n        if (!(e.direction & Hammer.DIRECTION_UP && e.offsetDirection & Hammer.DIRECTION_VERTICAL)) {\r\n            return;\r\n        }\r\n        if (e.velocityY > 0.3) {\r\n            this.prev();\r\n        }\r\n        else if (e.velocityY < -0.3) {\r\n            this.next();\r\n        }\r\n        else {\r\n            if (e.deltaY / 2 <= -this._el.nativeElement.offsetHeight * this.state.items.length / this.config.panSensitivity) {\r\n                this.next();\r\n            }\r\n            else if (e.deltaY / 2 >= this._el.nativeElement.offsetHeight * this.state.items.length / this.config.panSensitivity) {\r\n                this.prev();\r\n            }\r\n            else {\r\n                this.action.emit(this.state.currIndex);\r\n            }\r\n        }\r\n    }\r\n    horizontalPan(e) {\r\n        if (!(e.direction & Hammer.DIRECTION_HORIZONTAL && e.offsetDirection & Hammer.DIRECTION_HORIZONTAL)) {\r\n            return;\r\n        }\r\n        if (e.velocityX > 0.3) {\r\n            this.prev();\r\n        }\r\n        else if (e.velocityX < -0.3) {\r\n            this.next();\r\n        }\r\n        else {\r\n            if (e.deltaX / 2 <= -this._el.nativeElement.offsetWidth * this.state.items.length / this.config.panSensitivity) {\r\n                this.next();\r\n            }\r\n            else if (e.deltaX / 2 >= this._el.nativeElement.offsetWidth * this.state.items.length / this.config.panSensitivity) {\r\n                this.prev();\r\n            }\r\n            else {\r\n                this.action.emit(this.state.currIndex);\r\n            }\r\n        }\r\n    }\r\n    next() {\r\n        this.action.emit('next');\r\n    }\r\n    prev() {\r\n        this.action.emit('prev');\r\n    }\r\n    updateSlider(state) {\r\n        const newState = Object.assign(Object.assign({}, this._slidingWorker$.value), state);\r\n        this._slidingWorker$.next(newState);\r\n    }\r\n}\r\nGallerySliderComponent.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GallerySliderComponent, deps: [{ token: i0.ElementRef }, { token: i0.NgZone }, { token: PLATFORM_ID }], target: i0.FactoryTarget.Component });\r\nGallerySliderComponent.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.0\", type: GallerySliderComponent, selector: \"gallery-slider\", inputs: { state: \"state\", config: \"config\" }, outputs: { action: \"action\", itemClick: \"itemClick\", error: \"error\" }, usesOnChanges: true, ngImport: i0, template: `\r\n    <div *ngIf=\"sliderState$ | async; let sliderState\"\r\n         class=\"g-items-container\"\r\n         [ngStyle]=\"zoom\">\r\n\r\n      <div class=\"g-slider\"\r\n           [class.g-no-transition]=\"sliderState.active\"\r\n           [ngStyle]=\"sliderState.style\">\r\n\r\n        <gallery-item *ngFor=\"let item of state.items; let i = index\"\r\n                      [type]=\"item.type\"\r\n                      [config]=\"config\"\r\n                      [data]=\"item.data\"\r\n                      [currIndex]=\"state.currIndex\"\r\n                      [index]=\"i\"\r\n                      (tapClick)=\"itemClick.emit(i)\"\r\n                      (error)=\"error.emit({itemIndex: i, error: $event})\">\r\n        </gallery-item>\r\n\r\n      </div>\r\n    </div>\r\n    <ng-content></ng-content>\r\n  `, isInline: true, dependencies: [{ kind: \"directive\", type: i1$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i1$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i1$1.NgStyle, selector: \"[ngStyle]\", inputs: [\"ngStyle\"] }, { kind: \"component\", type: GalleryItemComponent, selector: \"gallery-item\", inputs: [\"config\", \"index\", \"currIndex\", \"type\", \"data\"], outputs: [\"error\"] }, { kind: \"directive\", type: TapClick, selector: \"[tapClick]\", inputs: [\"tapClickDisabled\"], outputs: [\"tapClick\"] }, { kind: \"pipe\", type: i1$1.AsyncPipe, name: \"async\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GallerySliderComponent, decorators: [{\r\n            type: Component,\r\n            args: [{\r\n                    selector: 'gallery-slider',\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    template: `\r\n    <div *ngIf=\"sliderState$ | async; let sliderState\"\r\n         class=\"g-items-container\"\r\n         [ngStyle]=\"zoom\">\r\n\r\n      <div class=\"g-slider\"\r\n           [class.g-no-transition]=\"sliderState.active\"\r\n           [ngStyle]=\"sliderState.style\">\r\n\r\n        <gallery-item *ngFor=\"let item of state.items; let i = index\"\r\n                      [type]=\"item.type\"\r\n                      [config]=\"config\"\r\n                      [data]=\"item.data\"\r\n                      [currIndex]=\"state.currIndex\"\r\n                      [index]=\"i\"\r\n                      (tapClick)=\"itemClick.emit(i)\"\r\n                      (error)=\"error.emit({itemIndex: i, error: $event})\">\r\n        </gallery-item>\r\n\r\n      </div>\r\n    </div>\r\n    <ng-content></ng-content>\r\n  `\r\n                }]\r\n        }], ctorParameters: function () {\r\n        return [{ type: i0.ElementRef }, { type: i0.NgZone }, { type: Object, decorators: [{\r\n                        type: Inject,\r\n                        args: [PLATFORM_ID]\r\n                    }] }];\r\n    }, propDecorators: { state: [{\r\n                type: Input\r\n            }], config: [{\r\n                type: Input\r\n            }], action: [{\r\n                type: Output\r\n            }], itemClick: [{\r\n                type: Output\r\n            }], error: [{\r\n                type: Output\r\n            }] } });\n\nclass GalleryCounterComponent {\r\n}\r\nGalleryCounterComponent.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryCounterComponent, deps: [], target: i0.FactoryTarget.Component });\r\nGalleryCounterComponent.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.0\", type: GalleryCounterComponent, selector: \"gallery-counter\", inputs: { state: \"state\" }, ngImport: i0, template: `\r\n    <div class=\"g-counter\">{{(state.currIndex + 1) + '/' + state.items.length}}</div>\r\n  `, isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryCounterComponent, decorators: [{\r\n            type: Component,\r\n            args: [{\r\n                    selector: 'gallery-counter',\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    template: `\r\n    <div class=\"g-counter\">{{(state.currIndex + 1) + '/' + state.items.length}}</div>\r\n  `\r\n                }]\r\n        }], propDecorators: { state: [{\r\n                type: Input\r\n            }] } });\n\nclass GalleryThumbComponent {\r\n    constructor() {\r\n        this.error = new EventEmitter();\r\n    }\r\n    get isActive() {\r\n        return this.index === this.currIndex;\r\n    }\r\n}\r\nGalleryThumbComponent.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryThumbComponent, deps: [], target: i0.FactoryTarget.Component });\r\nGalleryThumbComponent.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.0\", type: GalleryThumbComponent, selector: \"gallery-thumb\", inputs: { config: \"config\", index: \"index\", currIndex: \"currIndex\", type: \"type\", data: \"data\" }, outputs: { error: \"error\" }, host: { properties: { \"class.g-active-thumb\": \"this.isActive\" } }, ngImport: i0, template: `\r\n    <gallery-image [src]=\"data.thumb\" \r\n                   mode=\"indeterminate\"\r\n                   [isThumbnail]=\"true\" \r\n                   [loadingIcon]=\"config.thumbLoadingIcon\"\r\n                   [loadingError]=\"config.thumbLoadingError \"\r\n                   (error)=\"error.emit($event)\"></gallery-image>\r\n\r\n    <div *ngIf=\"config.thumbTemplate\" class=\"g-template g-thumb-template\">\r\n      <ng-container\r\n        *ngTemplateOutlet=\"config.thumbTemplate; context: { index: this.index, type: this.type, data: this.data }\">\r\n      </ng-container>\r\n    </div>\r\n  `, isInline: true, dependencies: [{ kind: \"directive\", type: i1$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i1$1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }, { kind: \"component\", type: GalleryImageComponent, selector: \"gallery-image\", inputs: [\"isThumbnail\", \"src\", \"loadingIcon\", \"loadingError\"], outputs: [\"error\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryThumbComponent, decorators: [{\r\n            type: Component,\r\n            args: [{\r\n                    selector: 'gallery-thumb',\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    template: `\r\n    <gallery-image [src]=\"data.thumb\" \r\n                   mode=\"indeterminate\"\r\n                   [isThumbnail]=\"true\" \r\n                   [loadingIcon]=\"config.thumbLoadingIcon\"\r\n                   [loadingError]=\"config.thumbLoadingError \"\r\n                   (error)=\"error.emit($event)\"></gallery-image>\r\n\r\n    <div *ngIf=\"config.thumbTemplate\" class=\"g-template g-thumb-template\">\r\n      <ng-container\r\n        *ngTemplateOutlet=\"config.thumbTemplate; context: { index: this.index, type: this.type, data: this.data }\">\r\n      </ng-container>\r\n    </div>\r\n  `\r\n                }]\r\n        }], propDecorators: { config: [{\r\n                type: Input\r\n            }], index: [{\r\n                type: Input\r\n            }], currIndex: [{\r\n                type: Input\r\n            }], type: [{\r\n                type: Input\r\n            }], data: [{\r\n                type: Input\r\n            }], error: [{\r\n                type: Output\r\n            }], isActive: [{\r\n                type: HostBinding,\r\n                args: ['class.g-active-thumb']\r\n            }] } });\n\nclass GalleryThumbsComponent {\r\n    constructor(_el, _zone) {\r\n        this._el = _el;\r\n        this._zone = _zone;\r\n        /** Sliding worker */\r\n        this._slidingWorker$ = new BehaviorSubject({ value: 0, active: false });\r\n        /** Current slider position in free sliding mode */\r\n        this._freeModeCurrentOffset = 0;\r\n        /** Thumbnails view enum */\r\n        this.thumbnailsView = ThumbnailsView;\r\n        /** Stream that emits when the active item should change */\r\n        this.action = new EventEmitter();\r\n        /** Stream that emits when thumb is clicked */\r\n        this.thumbClick = new EventEmitter();\r\n        /** Stream that emits when an error occurs */\r\n        this.error = new EventEmitter();\r\n        // Activate sliding worker\r\n        this.sliderState$ = this._slidingWorker$.pipe(map((state) => ({\r\n            style: this.getSliderStyles(state),\r\n            active: state.active\r\n        })));\r\n    }\r\n    ngOnChanges() {\r\n        // Refresh the slider\r\n        this.updateSlider({ value: 0, active: false });\r\n        this._freeModeCurrentOffset = 0;\r\n    }\r\n    ngOnInit() {\r\n        if (this.config.gestures && !this.config.disableThumb && typeof Hammer !== 'undefined') {\r\n            let direction;\r\n            switch (this.config.thumbPosition) {\r\n                case ThumbnailsPosition.Right:\r\n                case ThumbnailsPosition.Left:\r\n                    direction = Hammer.DIRECTION_VERTICAL;\r\n                    break;\r\n                case ThumbnailsPosition.Top:\r\n                case ThumbnailsPosition.Bottom:\r\n                    direction = Hammer.DIRECTION_HORIZONTAL;\r\n                    break;\r\n            }\r\n            // Activate gestures\r\n            this._hammer = new Hammer(this._el.nativeElement);\r\n            this._hammer.get('pan').set({ direction });\r\n            this._zone.runOutsideAngular(() => {\r\n                // Move the slider\r\n                switch (this.config.thumbMode) {\r\n                    case ThumbnailsMode.Strict:\r\n                        this._hammer.on('pan', (e) => this.strictMode(e));\r\n                        break;\r\n                    case ThumbnailsMode.Free:\r\n                        this._hammer.on('pan', (e) => this.freeMode(e));\r\n                }\r\n            });\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        if (this._hammer) {\r\n            this._hammer.destroy();\r\n        }\r\n    }\r\n    /**\r\n     * Sliding strict mode\r\n     */\r\n    strictMode(e) {\r\n        switch (this.config.thumbPosition) {\r\n            case ThumbnailsPosition.Right:\r\n            case ThumbnailsPosition.Left:\r\n                this.updateSlider({ value: e.deltaY, active: true });\r\n                if (e.isFinal) {\r\n                    this.updateSlider({ value: 0, active: false });\r\n                    this.verticalPan(e);\r\n                }\r\n                break;\r\n            case ThumbnailsPosition.Top:\r\n            case ThumbnailsPosition.Bottom:\r\n                this.updateSlider({ value: e.deltaX, active: true });\r\n                if (e.isFinal) {\r\n                    this.updateSlider({ value: 0, active: false });\r\n                    this.horizontalPan(e);\r\n                }\r\n        }\r\n    }\r\n    /**\r\n     * Sliding free mode\r\n     */\r\n    freeMode(e) {\r\n        switch (this.config.thumbPosition) {\r\n            case ThumbnailsPosition.Right:\r\n            case ThumbnailsPosition.Left:\r\n                this.updateSlider({ value: this._freeModeCurrentOffset + e.deltaY, active: true });\r\n                if (e.isFinal) {\r\n                    if (this.minFreeScrollExceeded(e.deltaY, this.config.thumbWidth, this.config.thumbHeight)) {\r\n                        this._freeModeCurrentOffset = -(this.state.items.length - 1 - this.state.currIndex) * this.config.thumbHeight;\r\n                    }\r\n                    else if (this.maxFreeScrollExceeded(e.deltaY, this.config.thumbHeight, this.config.thumbWidth)) {\r\n                        this._freeModeCurrentOffset = this.state.currIndex * this.config.thumbHeight;\r\n                    }\r\n                    else {\r\n                        this._freeModeCurrentOffset += e.deltaY;\r\n                    }\r\n                    this.updateSlider({ value: this._freeModeCurrentOffset, active: false });\r\n                }\r\n                break;\r\n            case ThumbnailsPosition.Top:\r\n            case ThumbnailsPosition.Bottom:\r\n                this.updateSlider({ value: this._freeModeCurrentOffset + e.deltaX, active: true });\r\n                if (e.isFinal) {\r\n                    if (this.minFreeScrollExceeded(e.deltaX, this.config.thumbHeight, this.config.thumbWidth)) {\r\n                        this._freeModeCurrentOffset = -(this.state.items.length - 1 - this.state.currIndex) * this.config.thumbWidth;\r\n                    }\r\n                    else if (this.maxFreeScrollExceeded(e.deltaX, this.config.thumbWidth, this.config.thumbHeight)) {\r\n                        this._freeModeCurrentOffset = this.state.currIndex * this.config.thumbWidth;\r\n                    }\r\n                    else {\r\n                        this._freeModeCurrentOffset += e.deltaX;\r\n                    }\r\n                    this.updateSlider({ value: this._freeModeCurrentOffset, active: false });\r\n                }\r\n        }\r\n    }\r\n    /**\r\n     * Check if the minimum free scroll is exceeded (used in Bottom, Left directions)\r\n     */\r\n    minFreeScrollExceeded(delta, width, height) {\r\n        return -(this._freeModeCurrentOffset + delta - width / 2) > (this.state.items.length - this.state.currIndex) * height;\r\n    }\r\n    /**\r\n     * Check if the maximum free scroll is exceeded (used in Top, Right directions)\r\n     */\r\n    maxFreeScrollExceeded(delta, width, height) {\r\n        return this._freeModeCurrentOffset + delta > (this.state.currIndex * width) + (height / 2);\r\n    }\r\n    /**\r\n     * Convert sliding state to styles\r\n     */\r\n    getSliderStyles(state) {\r\n        const currIndex = this.state.currIndex;\r\n        const itemsLength = this.state.items.length;\r\n        const { thumbWidth, thumbHeight } = this.config;\r\n        let value;\r\n        switch (this.config.thumbPosition) {\r\n            case ThumbnailsPosition.Top:\r\n            case ThumbnailsPosition.Bottom:\r\n                this.width = '100%';\r\n                this.height = this.config.thumbHeight + 'px';\r\n                switch (this.config.thumbView) {\r\n                    case 'contain':\r\n                        const containerWidth = this._el.nativeElement.clientWidth;\r\n                        const minHorizontalShift = itemsLength * thumbWidth - containerWidth;\r\n                        // If slider size is larger than thumbnails size\r\n                        if (containerWidth > (itemsLength * thumbWidth)) {\r\n                            this.thumbnailsLessThanSlider = true;\r\n                        }\r\n                        else {\r\n                            // If slider size is smaller than thumbnails size\r\n                            this.thumbnailsLessThanSlider = false;\r\n                            if ((currIndex * thumbWidth + thumbWidth / 2) > containerWidth / 2) {\r\n                                value = -(Math.min((currIndex * thumbWidth + thumbWidth / 2) - (containerWidth / 2), minHorizontalShift));\r\n                            }\r\n                            else {\r\n                                value = 0;\r\n                            }\r\n                        }\r\n                        break;\r\n                    default:\r\n                        value = -(currIndex * thumbWidth) - (thumbWidth / 2 - state.value);\r\n                }\r\n                return {\r\n                    transform: `translate3d(${value}px, 0, 0)`,\r\n                    width: itemsLength * thumbWidth + 'px',\r\n                    height: '100%'\r\n                };\r\n            case ThumbnailsPosition.Left:\r\n            case ThumbnailsPosition.Right:\r\n                this.width = this.config.thumbWidth + 'px';\r\n                this.height = '100%';\r\n                switch (this.config.thumbView) {\r\n                    case 'contain':\r\n                        const containerHeight = this._el.nativeElement.clientHeight;\r\n                        const minVerticalShift = itemsLength * thumbHeight - containerHeight;\r\n                        // If slider size is larger than thumbnails size\r\n                        if (containerHeight > (itemsLength * thumbHeight)) {\r\n                            this.thumbnailsLessThanSlider = true;\r\n                        }\r\n                        else {\r\n                            // If slider size is smaller than thumbnails size\r\n                            this.thumbnailsLessThanSlider = false;\r\n                            if ((currIndex * thumbHeight + thumbHeight / 2) > containerHeight / 2) {\r\n                                value = -(Math.min((currIndex * thumbHeight + thumbHeight / 2) - (containerHeight / 2), minVerticalShift));\r\n                            }\r\n                            else {\r\n                                value = 0;\r\n                            }\r\n                        }\r\n                        break;\r\n                    default:\r\n                        value = -(currIndex * thumbHeight) - (thumbHeight / 2 - state.value);\r\n                }\r\n                return {\r\n                    transform: `translate3d(0, ${value}px, 0)`,\r\n                    width: '100%',\r\n                    height: itemsLength * thumbHeight + 'px'\r\n                };\r\n        }\r\n    }\r\n    verticalPan(e) {\r\n        if (!(e.direction & Hammer.DIRECTION_UP && e.offsetDirection & Hammer.DIRECTION_VERTICAL)) {\r\n            return;\r\n        }\r\n        if (e.velocityY > 0.3) {\r\n            this.prev();\r\n        }\r\n        else if (e.velocityY < -0.3) {\r\n            this.next();\r\n        }\r\n        else {\r\n            if (e.deltaY / 2 <= -this.config.thumbHeight * this.state.items.length / this.config.panSensitivity) {\r\n                this.next();\r\n            }\r\n            else if (e.deltaY / 2 >= this.config.thumbHeight * this.state.items.length / this.config.panSensitivity) {\r\n                this.prev();\r\n            }\r\n            else {\r\n                this.action.emit(this.state.currIndex);\r\n            }\r\n        }\r\n    }\r\n    horizontalPan(e) {\r\n        if (!(e.direction & Hammer.DIRECTION_HORIZONTAL && e.offsetDirection & Hammer.DIRECTION_HORIZONTAL)) {\r\n            return;\r\n        }\r\n        if (e.velocityX > 0.3) {\r\n            this.prev();\r\n        }\r\n        else if (e.velocityX < -0.3) {\r\n            this.next();\r\n        }\r\n        else {\r\n            if (e.deltaX / 2 <= -this.config.thumbWidth * this.state.items.length / this.config.panSensitivity) {\r\n                this.next();\r\n            }\r\n            else if (e.deltaX / 2 >= this.config.thumbWidth * this.state.items.length / this.config.panSensitivity) {\r\n                this.prev();\r\n            }\r\n            else {\r\n                this.action.emit(this.state.currIndex);\r\n            }\r\n        }\r\n    }\r\n    next() {\r\n        this.action.emit('next');\r\n    }\r\n    prev() {\r\n        this.action.emit('prev');\r\n    }\r\n    updateSlider(state) {\r\n        const newState = Object.assign(Object.assign({}, this._slidingWorker$.value), state);\r\n        this._slidingWorker$.next(newState);\r\n    }\r\n}\r\nGalleryThumbsComponent.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryThumbsComponent, deps: [{ token: i0.ElementRef }, { token: i0.NgZone }], target: i0.FactoryTarget.Component });\r\nGalleryThumbsComponent.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.0\", type: GalleryThumbsComponent, selector: \"gallery-thumbs\", inputs: { state: \"state\", config: \"config\" }, outputs: { action: \"action\", thumbClick: \"thumbClick\", error: \"error\" }, host: { properties: { \"style.height\": \"this.height\", \"style.width\": \"this.width\" } }, usesOnChanges: true, ngImport: i0, template: `\r\n    <div *ngIf=\"sliderState$ | async; let sliderState\"\r\n         class=\"g-thumbs-container\">\r\n      <div class=\"g-slider\"\r\n           [class.g-contain]=\"config.thumbView === thumbnailsView.Contain\"\r\n           [class.g-contain-small-content]=\"thumbnailsLessThanSlider\"\r\n           [class.g-no-transition]=\"sliderState.active\"\r\n           [ngStyle]=\"sliderState.style\">\r\n\r\n        <gallery-thumb *ngFor=\"let item of state.items;let i = index\"\r\n                       [type]=\"item.type\"\r\n                       [config]=\"config\"\r\n                       [data]=\"item.data\"\r\n                       [currIndex]=\"state.currIndex\"\r\n                       [index]=\"i\"\r\n                       [tapClickDisabled]=\"config.disableThumb\"\r\n                       (tapClick)=\"thumbClick.emit(i)\"\r\n                       (error)=\"error.emit({itemIndex: i, error: $event})\"></gallery-thumb>\r\n      </div>\r\n    </div>\r\n  `, isInline: true, dependencies: [{ kind: \"directive\", type: i1$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i1$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i1$1.NgStyle, selector: \"[ngStyle]\", inputs: [\"ngStyle\"] }, { kind: \"component\", type: GalleryThumbComponent, selector: \"gallery-thumb\", inputs: [\"config\", \"index\", \"currIndex\", \"type\", \"data\"], outputs: [\"error\"] }, { kind: \"directive\", type: TapClick, selector: \"[tapClick]\", inputs: [\"tapClickDisabled\"], outputs: [\"tapClick\"] }, { kind: \"pipe\", type: i1$1.AsyncPipe, name: \"async\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryThumbsComponent, decorators: [{\r\n            type: Component,\r\n            args: [{\r\n                    selector: 'gallery-thumbs',\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    template: `\r\n    <div *ngIf=\"sliderState$ | async; let sliderState\"\r\n         class=\"g-thumbs-container\">\r\n      <div class=\"g-slider\"\r\n           [class.g-contain]=\"config.thumbView === thumbnailsView.Contain\"\r\n           [class.g-contain-small-content]=\"thumbnailsLessThanSlider\"\r\n           [class.g-no-transition]=\"sliderState.active\"\r\n           [ngStyle]=\"sliderState.style\">\r\n\r\n        <gallery-thumb *ngFor=\"let item of state.items;let i = index\"\r\n                       [type]=\"item.type\"\r\n                       [config]=\"config\"\r\n                       [data]=\"item.data\"\r\n                       [currIndex]=\"state.currIndex\"\r\n                       [index]=\"i\"\r\n                       [tapClickDisabled]=\"config.disableThumb\"\r\n                       (tapClick)=\"thumbClick.emit(i)\"\r\n                       (error)=\"error.emit({itemIndex: i, error: $event})\"></gallery-thumb>\r\n      </div>\r\n    </div>\r\n  `\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.NgZone }]; }, propDecorators: { state: [{\r\n                type: Input\r\n            }], config: [{\r\n                type: Input\r\n            }], action: [{\r\n                type: Output\r\n            }], thumbClick: [{\r\n                type: Output\r\n            }], error: [{\r\n                type: Output\r\n            }], height: [{\r\n                type: HostBinding,\r\n                args: ['style.height']\r\n            }], width: [{\r\n                type: HostBinding,\r\n                args: ['style.width']\r\n            }] } });\n\nclass GalleryCoreComponent {\r\n    constructor() {\r\n        this.action = new EventEmitter();\r\n        this.itemClick = new EventEmitter();\r\n        this.thumbClick = new EventEmitter();\r\n        this.error = new EventEmitter();\r\n    }\r\n    /** Set thumbnails position */\r\n    get thumbPosition() {\r\n        return this.config.thumbPosition;\r\n    }\r\n    /** Set sliding direction */\r\n    get slidingDirection() {\r\n        return this.config.slidingDirection;\r\n    }\r\n    /** Disable thumbnails clicks */\r\n    get disableThumb() {\r\n        return this.config.disableThumb;\r\n    }\r\n    /** Set gallery image size */\r\n    get imageSize() {\r\n        return this.config.imageSize;\r\n    }\r\n    /** Set gallery dots position */\r\n    get dotsPosition() {\r\n        return this.config.dotsPosition;\r\n    }\r\n    /** Set gallery counter position */\r\n    get counterPosition() {\r\n        return this.config.counterPosition;\r\n    }\r\n}\r\nGalleryCoreComponent.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryCoreComponent, deps: [], target: i0.FactoryTarget.Component });\r\nGalleryCoreComponent.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.0\", type: GalleryCoreComponent, selector: \"gallery-core\", inputs: { state: \"state\", config: \"config\" }, outputs: { action: \"action\", itemClick: \"itemClick\", thumbClick: \"thumbClick\", error: \"error\" }, host: { properties: { \"attr.thumbPosition\": \"this.thumbPosition\", \"attr.slidingDirection\": \"this.slidingDirection\", \"attr.disableThumb\": \"this.disableThumb\", \"attr.imageSize\": \"this.imageSize\", \"attr.dotsPosition\": \"this.dotsPosition\", \"attr.counterPosition\": \"this.counterPosition\" } }, ngImport: i0, template: `\r\n    <gallery-thumbs *ngIf=\"config.thumb\"\r\n                    [state]=\"state\"\r\n                    [config]=\"config\"\r\n                    (action)=\"action.emit($event)\"\r\n                    (thumbClick)=\"thumbClick.emit($event)\">\r\n    </gallery-thumbs>\r\n    <div class=\"g-box\">\r\n      <gallery-slider [state]=\"state\"\r\n                      [config]=\"config\"\r\n                      (action)=\"action.emit($event)\"\r\n                      (itemClick)=\"itemClick.emit($event)\"\r\n                      (error)=\"error.emit($event)\">\r\n\r\n        <gallery-nav *ngIf=\"config.nav && state.items.length > 1\"\r\n                     [state]=\"state\"\r\n                     [config]=\"config\"\r\n                     (action)=\"action.emit($event)\">\r\n        </gallery-nav>\r\n\r\n      </gallery-slider>\r\n\r\n      <gallery-dots *ngIf=\"config.dots\"\r\n                    [state]=\"state\"\r\n                    [config]=\"config\"\r\n                    (action)=\"action.emit($event)\">\r\n      </gallery-dots>\r\n\r\n      <gallery-counter *ngIf=\"config.counter\"\r\n                       [state]=\"state\">\r\n      </gallery-counter>\r\n    </div>\r\n  `, isInline: true, dependencies: [{ kind: \"directive\", type: i1$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"component\", type: GalleryNavComponent, selector: \"gallery-nav\", inputs: [\"state\", \"config\"], outputs: [\"action\"] }, { kind: \"component\", type: GalleryDotsComponent, selector: \"gallery-dots\", inputs: [\"state\", \"config\"], outputs: [\"action\"] }, { kind: \"component\", type: GallerySliderComponent, selector: \"gallery-slider\", inputs: [\"state\", \"config\"], outputs: [\"action\", \"itemClick\", \"error\"] }, { kind: \"component\", type: GalleryCounterComponent, selector: \"gallery-counter\", inputs: [\"state\"] }, { kind: \"component\", type: GalleryThumbsComponent, selector: \"gallery-thumbs\", inputs: [\"state\", \"config\"], outputs: [\"action\", \"thumbClick\", \"error\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryCoreComponent, decorators: [{\r\n            type: Component,\r\n            args: [{\r\n                    selector: 'gallery-core',\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    template: `\r\n    <gallery-thumbs *ngIf=\"config.thumb\"\r\n                    [state]=\"state\"\r\n                    [config]=\"config\"\r\n                    (action)=\"action.emit($event)\"\r\n                    (thumbClick)=\"thumbClick.emit($event)\">\r\n    </gallery-thumbs>\r\n    <div class=\"g-box\">\r\n      <gallery-slider [state]=\"state\"\r\n                      [config]=\"config\"\r\n                      (action)=\"action.emit($event)\"\r\n                      (itemClick)=\"itemClick.emit($event)\"\r\n                      (error)=\"error.emit($event)\">\r\n\r\n        <gallery-nav *ngIf=\"config.nav && state.items.length > 1\"\r\n                     [state]=\"state\"\r\n                     [config]=\"config\"\r\n                     (action)=\"action.emit($event)\">\r\n        </gallery-nav>\r\n\r\n      </gallery-slider>\r\n\r\n      <gallery-dots *ngIf=\"config.dots\"\r\n                    [state]=\"state\"\r\n                    [config]=\"config\"\r\n                    (action)=\"action.emit($event)\">\r\n      </gallery-dots>\r\n\r\n      <gallery-counter *ngIf=\"config.counter\"\r\n                       [state]=\"state\">\r\n      </gallery-counter>\r\n    </div>\r\n  `\r\n                }]\r\n        }], propDecorators: { state: [{\r\n                type: Input\r\n            }], config: [{\r\n                type: Input\r\n            }], action: [{\r\n                type: Output\r\n            }], itemClick: [{\r\n                type: Output\r\n            }], thumbClick: [{\r\n                type: Output\r\n            }], error: [{\r\n                type: Output\r\n            }], thumbPosition: [{\r\n                type: HostBinding,\r\n                args: ['attr.thumbPosition']\r\n            }], slidingDirection: [{\r\n                type: HostBinding,\r\n                args: ['attr.slidingDirection']\r\n            }], disableThumb: [{\r\n                type: HostBinding,\r\n                args: ['attr.disableThumb']\r\n            }], imageSize: [{\r\n                type: HostBinding,\r\n                args: ['attr.imageSize']\r\n            }], dotsPosition: [{\r\n                type: HostBinding,\r\n                args: ['attr.dotsPosition']\r\n            }], counterPosition: [{\r\n                type: HostBinding,\r\n                args: ['attr.counterPosition']\r\n            }] } });\n\nclass GalleryComponent {\r\n    constructor(_gallery) {\r\n        this._gallery = _gallery;\r\n        this.nav = this._gallery.config.nav;\r\n        this.dots = this._gallery.config.dots;\r\n        this.loop = this._gallery.config.loop;\r\n        this.thumb = this._gallery.config.thumb;\r\n        this.zoomOut = this._gallery.config.zoomOut;\r\n        this.counter = this._gallery.config.counter;\r\n        this.dotsSize = this._gallery.config.dotsSize;\r\n        this.autoPlay = this._gallery.config.autoPlay;\r\n        this.gestures = this._gallery.config.gestures;\r\n        this.thumbWidth = this._gallery.config.thumbWidth;\r\n        this.thumbHeight = this._gallery.config.thumbHeight;\r\n        this.disableThumb = this._gallery.config.disableThumb;\r\n        this.panSensitivity = this._gallery.config.panSensitivity;\r\n        this.playerInterval = this._gallery.config.playerInterval;\r\n        this.itemTemplate = this._gallery.config.itemTemplate;\r\n        this.thumbTemplate = this._gallery.config.thumbTemplate;\r\n        this.thumbMode = this._gallery.config.thumbMode;\r\n        this.imageSize = this._gallery.config.imageSize;\r\n        this.dotsPosition = this._gallery.config.dotsPosition;\r\n        this.counterPosition = this._gallery.config.counterPosition;\r\n        this.slidingDirection = this._gallery.config.slidingDirection;\r\n        this.loadingStrategy = this._gallery.config.loadingStrategy;\r\n        this.thumbPosition = this._gallery.config.thumbPosition;\r\n        this.thumbView = this._gallery.config.thumbView;\r\n        // Inputs used by the lightbox\r\n        /** Destroy gallery ref on component destroy event */\r\n        this.destroyRef = true;\r\n        /** Skip initializing the config with components inputs (Lightbox mode) */\r\n        this.skipInitConfig = false;\r\n        this.itemClick = new EventEmitter();\r\n        this.thumbClick = new EventEmitter();\r\n        this.playingChange = new EventEmitter();\r\n        this.indexChange = new EventEmitter();\r\n        this.itemsChange = new EventEmitter();\r\n        this.error = new EventEmitter();\r\n        this._itemClick$ = Subscription.EMPTY;\r\n        this._thumbClick$ = Subscription.EMPTY;\r\n        this._itemChange$ = Subscription.EMPTY;\r\n        this._indexChange$ = Subscription.EMPTY;\r\n        this._playingChange$ = Subscription.EMPTY;\r\n        this._playerListener$ = Subscription.EMPTY;\r\n    }\r\n    getConfig() {\r\n        return {\r\n            nav: this.nav,\r\n            dots: this.dots,\r\n            loop: this.loop,\r\n            thumb: this.thumb,\r\n            zoomOut: this.zoomOut,\r\n            counter: this.counter,\r\n            autoPlay: this.autoPlay,\r\n            gestures: this.gestures,\r\n            dotsSize: this.dotsSize,\r\n            imageSize: this.imageSize,\r\n            thumbMode: this.thumbMode,\r\n            thumbView: this.thumbView,\r\n            thumbWidth: this.thumbWidth,\r\n            thumbHeight: this.thumbHeight,\r\n            disableThumb: this.disableThumb,\r\n            dotsPosition: this.dotsPosition,\r\n            itemTemplate: this.itemTemplate,\r\n            thumbTemplate: this.thumbTemplate,\r\n            thumbPosition: this.thumbPosition,\r\n            panSensitivity: this.panSensitivity,\r\n            playerInterval: this.playerInterval,\r\n            counterPosition: this.counterPosition,\r\n            loadingStrategy: this.loadingStrategy,\r\n            slidingDirection: this.slidingDirection\r\n        };\r\n    }\r\n    onAction(i) {\r\n        switch (i) {\r\n            case 'next':\r\n                this.galleryRef.next();\r\n                break;\r\n            case 'prev':\r\n                this.galleryRef.prev();\r\n                break;\r\n            default:\r\n                this.galleryRef.set(i);\r\n        }\r\n    }\r\n    ngOnChanges(changes) {\r\n        if (this.galleryRef) {\r\n            this.galleryRef.setConfig(this.getConfig());\r\n            if (changes.items && changes.items.currentValue !== changes.items.previousValue) {\r\n                this.load(this.items);\r\n            }\r\n        }\r\n    }\r\n    ngOnInit() {\r\n        // Get gallery instance by id\r\n        if (this.skipInitConfig) {\r\n            this.galleryRef = this._gallery.ref(this.id);\r\n        }\r\n        else {\r\n            this.galleryRef = this._gallery.ref(this.id, this.getConfig());\r\n        }\r\n        // Load gallery items\r\n        this.load(this.items);\r\n        // Activate player listener\r\n        this._playerListener$ = this.galleryRef.activatePlayer().subscribe();\r\n        // Subscribes to events on demand\r\n        if (this.indexChange.observers.length) {\r\n            this._indexChange$ = this.galleryRef.indexChanged.subscribe((state) => this.indexChange.emit(state));\r\n        }\r\n        if (this.itemsChange.observers.length) {\r\n            this._itemChange$ = this.galleryRef.itemsChanged.subscribe((state) => this.itemsChange.emit(state));\r\n        }\r\n        if (this.playingChange.observers.length) {\r\n            this._playingChange$ = this.galleryRef.playingChanged.subscribe((state) => this.playingChange.emit(state));\r\n        }\r\n        // Start playing if auto-play is set to true\r\n        if (this.autoPlay) {\r\n            this.play();\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        this._itemClick$.unsubscribe();\r\n        this._thumbClick$.unsubscribe();\r\n        this._itemChange$.unsubscribe();\r\n        this._indexChange$.unsubscribe();\r\n        this._playingChange$.unsubscribe();\r\n        this._playerListener$.unsubscribe();\r\n        if (this.destroyRef) {\r\n            this.galleryRef.destroy();\r\n        }\r\n    }\r\n    onItemClick(i) {\r\n        this.itemClick.emit(i);\r\n        this.galleryRef.itemClick.next(i);\r\n    }\r\n    onThumbClick(i) {\r\n        this.galleryRef.set(i);\r\n        this.thumbClick.emit(i);\r\n        this.galleryRef.thumbClick.next(i);\r\n    }\r\n    onError(err) {\r\n        this.error.emit(err);\r\n        this.galleryRef.error.next(err);\r\n    }\r\n    load(items) {\r\n        this.galleryRef.load(items);\r\n    }\r\n    add(item, active) {\r\n        this.galleryRef.add(item, active);\r\n    }\r\n    addImage(data, active) {\r\n        this.add(new ImageItem(data), active);\r\n    }\r\n    addVideo(data, active) {\r\n        this.add(new VideoItem(data), active);\r\n    }\r\n    addIframe(data, active) {\r\n        this.add(new IframeItem(data), active);\r\n    }\r\n    addYoutube(data, active) {\r\n        this.add(new YoutubeItem(data), active);\r\n    }\r\n    remove(i) {\r\n        this.galleryRef.remove(i);\r\n    }\r\n    next() {\r\n        this.galleryRef.next();\r\n    }\r\n    prev() {\r\n        this.galleryRef.prev();\r\n    }\r\n    set(i) {\r\n        this.galleryRef.set(i);\r\n    }\r\n    reset() {\r\n        this.galleryRef.reset();\r\n    }\r\n    play(interval) {\r\n        this.galleryRef.play(interval);\r\n    }\r\n    stop() {\r\n        this.galleryRef.stop();\r\n    }\r\n}\r\nGalleryComponent.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryComponent, deps: [{ token: Gallery }], target: i0.FactoryTarget.Component });\r\nGalleryComponent.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.0\", type: GalleryComponent, selector: \"gallery\", inputs: { id: \"id\", items: \"items\", nav: \"nav\", dots: \"dots\", loop: \"loop\", thumb: \"thumb\", zoomOut: \"zoomOut\", counter: \"counter\", dotsSize: \"dotsSize\", autoPlay: \"autoPlay\", gestures: \"gestures\", thumbWidth: \"thumbWidth\", thumbHeight: \"thumbHeight\", disableThumb: \"disableThumb\", panSensitivity: \"panSensitivity\", playerInterval: \"playerInterval\", itemTemplate: \"itemTemplate\", thumbTemplate: \"thumbTemplate\", thumbMode: \"thumbMode\", imageSize: \"imageSize\", dotsPosition: \"dotsPosition\", counterPosition: \"counterPosition\", slidingDirection: \"slidingDirection\", loadingStrategy: \"loadingStrategy\", thumbPosition: \"thumbPosition\", thumbView: \"thumbView\", destroyRef: \"destroyRef\", skipInitConfig: \"skipInitConfig\" }, outputs: { itemClick: \"itemClick\", thumbClick: \"thumbClick\", playingChange: \"playingChange\", indexChange: \"indexChange\", itemsChange: \"itemsChange\", error: \"error\" }, usesOnChanges: true, ngImport: i0, template: `\r\n    <gallery-core [state]=\"galleryRef.state | async\"\r\n                  [config]=\"galleryRef.config | async\"\r\n                  (action)=\"onAction($event)\"\r\n                  (itemClick)=\"onItemClick($event)\"\r\n                  (thumbClick)=\"onThumbClick($event)\"\r\n                  (error)=\"onError($event)\"></gallery-core>\r\n    <ng-content></ng-content>\r\n  `, isInline: true, styles: [\"::ng-deep gallery-core[dotsPosition=top] gallery-dots{top:0}::ng-deep gallery-core[dotsPosition=bottom] gallery-dots{bottom:0}::ng-deep gallery-dots{margin:7px;position:absolute;left:50%;transform:translate(-50%)}::ng-deep .g-dot{cursor:pointer;z-index:20}::ng-deep .g-dot:hover .g-dot-inner{opacity:1}::ng-deep .g-dot-active .g-dot-inner{opacity:1;transform:scale(1.5)!important}::ng-deep .g-dot-inner{background-color:#fff;opacity:.6;width:30%;height:30%;border-radius:50%;box-shadow:0 0 1px #000;transition:all ease .2s}::ng-deep gallery-dots,::ng-deep .g-dot,::ng-deep .g-dot-inner{display:flex;justify-content:center;align-items:center}::ng-deep .g-nav-next,::ng-deep .g-nav-prev{position:absolute;top:50%;width:30px;height:40px;cursor:pointer;z-index:999}::ng-deep .g-nav-next{right:.5em;transform:translateY(-50%) perspective(1px)}::ng-deep .g-nav-prev{left:.5em;transform:translateY(-50%) perspective(1px) scale(-1)}@media only screen and (max-width: 480px){::ng-deep .g-nav-next{right:.2em}::ng-deep .g-nav-prev{left:.2em}}::ng-deep .g-items-container{height:100%}::ng-deep .g-slider{position:absolute;transition:transform .4s cubic-bezier(.5,0,.5,1)}::ng-deep gallery-core[slidingDirection=horizontal] .g-slider{flex-direction:row}::ng-deep gallery-core[slidingDirection=vertical] .g-slider{flex-direction:column}::ng-deep gallery-thumbs{display:block;z-index:1;overflow:initial}::ng-deep .g-thumbs-container{position:relative;z-index:206;width:100%;height:100%;left:0;top:0;display:flex;overflow:initial}::ng-deep gallery-core[disableThumb=true] gallery-thumb{cursor:default}::ng-deep gallery-core[thumbPosition=top] gallery-thumbs .g-slider,::ng-deep gallery-core[thumbPosition=bottom] gallery-thumbs .g-slider{flex-direction:row;top:0;left:50%}::ng-deep gallery-core[thumbPosition=top] gallery-thumbs .g-slider.g-contain,::ng-deep gallery-core[thumbPosition=bottom] gallery-thumbs .g-slider.g-contain{left:0}::ng-deep gallery-core[thumbPosition=top] gallery-thumbs .g-slider.g-contain.g-contain-small-content,::ng-deep gallery-core[thumbPosition=bottom] gallery-thumbs .g-slider.g-contain.g-contain-small-content{left:50%;transform:translate3d(-50%,0,0)!important}::ng-deep gallery-core[thumbPosition=top] gallery-thumb,::ng-deep gallery-core[thumbPosition=bottom] gallery-thumb{padding:1px 0 1px 1px}::ng-deep gallery-core[thumbPosition=left] gallery-thumbs .g-slider,::ng-deep gallery-core[thumbPosition=right] gallery-thumbs .g-slider{flex-direction:column;top:50%;left:0}::ng-deep gallery-core[thumbPosition=left] gallery-thumbs .g-slider.g-contain,::ng-deep gallery-core[thumbPosition=right] gallery-thumbs .g-slider.g-contain{top:0}::ng-deep gallery-core[thumbPosition=left] gallery-thumbs .g-slider.g-contain.g-contain-small-content,::ng-deep gallery-core[thumbPosition=right] gallery-thumbs .g-slider.g-contain.g-contain-small-content{top:50%;transform:translate3d(0,-50%,0)!important}::ng-deep gallery-core[thumbPosition=left] gallery-thumb,::ng-deep gallery-core[thumbPosition=right] gallery-thumb{padding:0 1px 1px}::ng-deep gallery-core[thumbPosition=top]{flex-direction:column}::ng-deep gallery-core[thumbPosition=left]{flex-direction:row}::ng-deep gallery-core[thumbPosition=right]{flex-direction:row-reverse}::ng-deep gallery-core[thumbPosition=bottom]{flex-direction:column-reverse}::ng-deep gallery-thumb.g-active-thumb .g-thumb-loading{background-color:#464646}::ng-deep .g-thumb-loading{position:relative;overflow:hidden;height:100%;background-color:#262626}::ng-deep .g-thumb-loading:before{content:\\\"\\\";position:absolute;top:0;right:0;bottom:0;left:50%;z-index:1;width:500%;margin-left:-250%;-webkit-animation:phAnimation .8s linear infinite;animation:phAnimation .8s linear infinite;background:linear-gradient(to right,rgba(255,255,255,0) 46%,rgba(255,255,255,.35) 50%,rgba(255,255,255,0) 54%) 50% 50%}@-webkit-keyframes phAnimation{0%{transform:translate3d(-30%,0,0)}to{transform:translate3d(30%,0,0)}}@keyframes phAnimation{0%{transform:translate3d(-30%,0,0)}to{transform:translate3d(30%,0,0)}}::ng-deep gallery-core[counterPosition=top] .g-counter{top:0;border-bottom-left-radius:4px;border-bottom-right-radius:4px}::ng-deep gallery-core[counterPosition=bottom] .g-counter{bottom:0;border-top-left-radius:4px;border-top-right-radius:4px}::ng-deep .g-counter{z-index:50;position:absolute;left:50%;transform:translate(-50%) perspective(1px);font-size:12px;padding:4px 10px;color:#fff;background-color:#00000080}::ng-deep gallery[gallerize] gallery-item{cursor:pointer}::ng-deep gallery-item,::ng-deep gallery-thumb{position:relative;height:100%;width:100%;display:block;overflow:hidden}::ng-deep gallery-item h2,::ng-deep gallery-item h4,::ng-deep gallery-thumb h2,::ng-deep gallery-thumb h4{color:coral;margin:0}::ng-deep gallery-item h2,::ng-deep gallery-thumb h2{font-size:3.5em;margin-bottom:.3em}::ng-deep gallery-item h4,::ng-deep gallery-thumb h4{font-size:1.6em}::ng-deep gallery-item{z-index:10}::ng-deep gallery-item video,::ng-deep gallery-item iframe{position:absolute;width:100%;height:100%}::ng-deep gallery-thumb{opacity:.5;cursor:pointer;transition:opacity .3s cubic-bezier(.5,0,.5,1)}::ng-deep gallery-thumb.g-active-thumb{opacity:1}::ng-deep .g-image-item{background-position:center center;background-repeat:no-repeat;background-size:cover;width:100%;height:100%}::ng-deep .g-template,::ng-deep .g-image-error-message{position:absolute;z-index:10;left:0;top:0;right:0;bottom:0;color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column}::ng-deep .g-loading{position:absolute;transform:translate3d(-50%,-50%,0);left:50%;top:50%;width:80px;height:80px}::ng-deep gallery-core[imageSize=contain] gallery-slider .g-image-item{background-size:contain}::ng-deep gallery-image{display:flex;justify-content:center;align-items:center;height:100%}::ng-deep gallery{position:relative;z-index:1;overflow:hidden;display:block;height:500px;background-color:#000}::ng-deep gallery *{box-sizing:border-box}::ng-deep gallery,::ng-deep gallery-core{position:relative;overflow:hidden}::ng-deep gallery-core,::ng-deep .g-box,::ng-deep .g-slider{display:flex;height:100%;width:100%}::ng-deep gallery[fluid]{transform:translate(-50vw);width:100vw;left:50%}::ng-deep gallery[fluid][fluid=false]{transform:none;width:initial;left:initial}::ng-deep .g-no-transition{transition:initial!important}::ng-deep .g-box,::ng-deep gallery-slider{overflow:hidden;position:relative;display:flex;flex-direction:column;flex:1;order:1;height:100%}::ng-deep gallery-nav svg,::ng-deep .g-btn-close svg{width:100%;height:100%;filter:drop-shadow(0px 0px 1px black);transition:opacity linear .2s;opacity:.6}::ng-deep gallery-nav svg:hover,::ng-deep .g-btn-close svg:hover{opacity:1}\\n\"], dependencies: [{ kind: \"component\", type: GalleryCoreComponent, selector: \"gallery-core\", inputs: [\"state\", \"config\"], outputs: [\"action\", \"itemClick\", \"thumbClick\", \"error\"] }, { kind: \"pipe\", type: i1$1.AsyncPipe, name: \"async\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'gallery', changeDetection: ChangeDetectionStrategy.OnPush, template: `\r\n    <gallery-core [state]=\"galleryRef.state | async\"\r\n                  [config]=\"galleryRef.config | async\"\r\n                  (action)=\"onAction($event)\"\r\n                  (itemClick)=\"onItemClick($event)\"\r\n                  (thumbClick)=\"onThumbClick($event)\"\r\n                  (error)=\"onError($event)\"></gallery-core>\r\n    <ng-content></ng-content>\r\n  `, styles: [\"::ng-deep gallery-core[dotsPosition=top] gallery-dots{top:0}::ng-deep gallery-core[dotsPosition=bottom] gallery-dots{bottom:0}::ng-deep gallery-dots{margin:7px;position:absolute;left:50%;transform:translate(-50%)}::ng-deep .g-dot{cursor:pointer;z-index:20}::ng-deep .g-dot:hover .g-dot-inner{opacity:1}::ng-deep .g-dot-active .g-dot-inner{opacity:1;transform:scale(1.5)!important}::ng-deep .g-dot-inner{background-color:#fff;opacity:.6;width:30%;height:30%;border-radius:50%;box-shadow:0 0 1px #000;transition:all ease .2s}::ng-deep gallery-dots,::ng-deep .g-dot,::ng-deep .g-dot-inner{display:flex;justify-content:center;align-items:center}::ng-deep .g-nav-next,::ng-deep .g-nav-prev{position:absolute;top:50%;width:30px;height:40px;cursor:pointer;z-index:999}::ng-deep .g-nav-next{right:.5em;transform:translateY(-50%) perspective(1px)}::ng-deep .g-nav-prev{left:.5em;transform:translateY(-50%) perspective(1px) scale(-1)}@media only screen and (max-width: 480px){::ng-deep .g-nav-next{right:.2em}::ng-deep .g-nav-prev{left:.2em}}::ng-deep .g-items-container{height:100%}::ng-deep .g-slider{position:absolute;transition:transform .4s cubic-bezier(.5,0,.5,1)}::ng-deep gallery-core[slidingDirection=horizontal] .g-slider{flex-direction:row}::ng-deep gallery-core[slidingDirection=vertical] .g-slider{flex-direction:column}::ng-deep gallery-thumbs{display:block;z-index:1;overflow:initial}::ng-deep .g-thumbs-container{position:relative;z-index:206;width:100%;height:100%;left:0;top:0;display:flex;overflow:initial}::ng-deep gallery-core[disableThumb=true] gallery-thumb{cursor:default}::ng-deep gallery-core[thumbPosition=top] gallery-thumbs .g-slider,::ng-deep gallery-core[thumbPosition=bottom] gallery-thumbs .g-slider{flex-direction:row;top:0;left:50%}::ng-deep gallery-core[thumbPosition=top] gallery-thumbs .g-slider.g-contain,::ng-deep gallery-core[thumbPosition=bottom] gallery-thumbs .g-slider.g-contain{left:0}::ng-deep gallery-core[thumbPosition=top] gallery-thumbs .g-slider.g-contain.g-contain-small-content,::ng-deep gallery-core[thumbPosition=bottom] gallery-thumbs .g-slider.g-contain.g-contain-small-content{left:50%;transform:translate3d(-50%,0,0)!important}::ng-deep gallery-core[thumbPosition=top] gallery-thumb,::ng-deep gallery-core[thumbPosition=bottom] gallery-thumb{padding:1px 0 1px 1px}::ng-deep gallery-core[thumbPosition=left] gallery-thumbs .g-slider,::ng-deep gallery-core[thumbPosition=right] gallery-thumbs .g-slider{flex-direction:column;top:50%;left:0}::ng-deep gallery-core[thumbPosition=left] gallery-thumbs .g-slider.g-contain,::ng-deep gallery-core[thumbPosition=right] gallery-thumbs .g-slider.g-contain{top:0}::ng-deep gallery-core[thumbPosition=left] gallery-thumbs .g-slider.g-contain.g-contain-small-content,::ng-deep gallery-core[thumbPosition=right] gallery-thumbs .g-slider.g-contain.g-contain-small-content{top:50%;transform:translate3d(0,-50%,0)!important}::ng-deep gallery-core[thumbPosition=left] gallery-thumb,::ng-deep gallery-core[thumbPosition=right] gallery-thumb{padding:0 1px 1px}::ng-deep gallery-core[thumbPosition=top]{flex-direction:column}::ng-deep gallery-core[thumbPosition=left]{flex-direction:row}::ng-deep gallery-core[thumbPosition=right]{flex-direction:row-reverse}::ng-deep gallery-core[thumbPosition=bottom]{flex-direction:column-reverse}::ng-deep gallery-thumb.g-active-thumb .g-thumb-loading{background-color:#464646}::ng-deep .g-thumb-loading{position:relative;overflow:hidden;height:100%;background-color:#262626}::ng-deep .g-thumb-loading:before{content:\\\"\\\";position:absolute;top:0;right:0;bottom:0;left:50%;z-index:1;width:500%;margin-left:-250%;-webkit-animation:phAnimation .8s linear infinite;animation:phAnimation .8s linear infinite;background:linear-gradient(to right,rgba(255,255,255,0) 46%,rgba(255,255,255,.35) 50%,rgba(255,255,255,0) 54%) 50% 50%}@-webkit-keyframes phAnimation{0%{transform:translate3d(-30%,0,0)}to{transform:translate3d(30%,0,0)}}@keyframes phAnimation{0%{transform:translate3d(-30%,0,0)}to{transform:translate3d(30%,0,0)}}::ng-deep gallery-core[counterPosition=top] .g-counter{top:0;border-bottom-left-radius:4px;border-bottom-right-radius:4px}::ng-deep gallery-core[counterPosition=bottom] .g-counter{bottom:0;border-top-left-radius:4px;border-top-right-radius:4px}::ng-deep .g-counter{z-index:50;position:absolute;left:50%;transform:translate(-50%) perspective(1px);font-size:12px;padding:4px 10px;color:#fff;background-color:#00000080}::ng-deep gallery[gallerize] gallery-item{cursor:pointer}::ng-deep gallery-item,::ng-deep gallery-thumb{position:relative;height:100%;width:100%;display:block;overflow:hidden}::ng-deep gallery-item h2,::ng-deep gallery-item h4,::ng-deep gallery-thumb h2,::ng-deep gallery-thumb h4{color:coral;margin:0}::ng-deep gallery-item h2,::ng-deep gallery-thumb h2{font-size:3.5em;margin-bottom:.3em}::ng-deep gallery-item h4,::ng-deep gallery-thumb h4{font-size:1.6em}::ng-deep gallery-item{z-index:10}::ng-deep gallery-item video,::ng-deep gallery-item iframe{position:absolute;width:100%;height:100%}::ng-deep gallery-thumb{opacity:.5;cursor:pointer;transition:opacity .3s cubic-bezier(.5,0,.5,1)}::ng-deep gallery-thumb.g-active-thumb{opacity:1}::ng-deep .g-image-item{background-position:center center;background-repeat:no-repeat;background-size:cover;width:100%;height:100%}::ng-deep .g-template,::ng-deep .g-image-error-message{position:absolute;z-index:10;left:0;top:0;right:0;bottom:0;color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column}::ng-deep .g-loading{position:absolute;transform:translate3d(-50%,-50%,0);left:50%;top:50%;width:80px;height:80px}::ng-deep gallery-core[imageSize=contain] gallery-slider .g-image-item{background-size:contain}::ng-deep gallery-image{display:flex;justify-content:center;align-items:center;height:100%}::ng-deep gallery{position:relative;z-index:1;overflow:hidden;display:block;height:500px;background-color:#000}::ng-deep gallery *{box-sizing:border-box}::ng-deep gallery,::ng-deep gallery-core{position:relative;overflow:hidden}::ng-deep gallery-core,::ng-deep .g-box,::ng-deep .g-slider{display:flex;height:100%;width:100%}::ng-deep gallery[fluid]{transform:translate(-50vw);width:100vw;left:50%}::ng-deep gallery[fluid][fluid=false]{transform:none;width:initial;left:initial}::ng-deep .g-no-transition{transition:initial!important}::ng-deep .g-box,::ng-deep gallery-slider{overflow:hidden;position:relative;display:flex;flex-direction:column;flex:1;order:1;height:100%}::ng-deep gallery-nav svg,::ng-deep .g-btn-close svg{width:100%;height:100%;filter:drop-shadow(0px 0px 1px black);transition:opacity linear .2s;opacity:.6}::ng-deep gallery-nav svg:hover,::ng-deep .g-btn-close svg:hover{opacity:1}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: Gallery }]; }, propDecorators: { id: [{\r\n                type: Input\r\n            }], items: [{\r\n                type: Input\r\n            }], nav: [{\r\n                type: Input\r\n            }], dots: [{\r\n                type: Input\r\n            }], loop: [{\r\n                type: Input\r\n            }], thumb: [{\r\n                type: Input\r\n            }], zoomOut: [{\r\n                type: Input\r\n            }], counter: [{\r\n                type: Input\r\n            }], dotsSize: [{\r\n                type: Input\r\n            }], autoPlay: [{\r\n                type: Input\r\n            }], gestures: [{\r\n                type: Input\r\n            }], thumbWidth: [{\r\n                type: Input\r\n            }], thumbHeight: [{\r\n                type: Input\r\n            }], disableThumb: [{\r\n                type: Input\r\n            }], panSensitivity: [{\r\n                type: Input\r\n            }], playerInterval: [{\r\n                type: Input\r\n            }], itemTemplate: [{\r\n                type: Input\r\n            }], thumbTemplate: [{\r\n                type: Input\r\n            }], thumbMode: [{\r\n                type: Input\r\n            }], imageSize: [{\r\n                type: Input\r\n            }], dotsPosition: [{\r\n                type: Input\r\n            }], counterPosition: [{\r\n                type: Input\r\n            }], slidingDirection: [{\r\n                type: Input\r\n            }], loadingStrategy: [{\r\n                type: Input\r\n            }], thumbPosition: [{\r\n                type: Input\r\n            }], thumbView: [{\r\n                type: Input\r\n            }], destroyRef: [{\r\n                type: Input\r\n            }], skipInitConfig: [{\r\n                type: Input\r\n            }], itemClick: [{\r\n                type: Output\r\n            }], thumbClick: [{\r\n                type: Output\r\n            }], playingChange: [{\r\n                type: Output\r\n            }], indexChange: [{\r\n                type: Output\r\n            }], itemsChange: [{\r\n                type: Output\r\n            }], error: [{\r\n                type: Output\r\n            }] } });\n\nclass GalleryModule {\r\n    static withConfig(config) {\r\n        return {\r\n            ngModule: GalleryModule,\r\n            providers: [\r\n                {\r\n                    provide: GALLERY_CONFIG,\r\n                    useValue: config\r\n                }\r\n            ]\r\n        };\r\n    }\r\n}\r\nGalleryModule.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryModule, deps: [], target: i0.FactoryTarget.NgModule });\r\nGalleryModule.mod = i0.ngDeclareNgModule({ minVersion: \"14.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryModule, declarations: [GalleryComponent,\r\n        GalleryNavComponent,\r\n        GalleryDotsComponent,\r\n        GalleryCoreComponent,\r\n        GallerySliderComponent,\r\n        GalleryCounterComponent,\r\n        GalleryThumbsComponent,\r\n        GalleryThumbComponent,\r\n        GalleryItemComponent,\r\n        GalleryImageComponent,\r\n        GalleryVideoComponent,\r\n        GalleryIframeComponent,\r\n        LazyImage,\r\n        TapClick], imports: [CommonModule], exports: [GalleryComponent,\r\n        LazyImage,\r\n        TapClick] });\r\nGalleryModule.inj = i0.ngDeclareInjector({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryModule, imports: [CommonModule] });\r\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.0\", ngImport: i0, type: GalleryModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        CommonModule\r\n                    ],\r\n                    declarations: [\r\n                        GalleryComponent,\r\n                        GalleryNavComponent,\r\n                        GalleryDotsComponent,\r\n                        GalleryCoreComponent,\r\n                        GallerySliderComponent,\r\n                        GalleryCounterComponent,\r\n                        GalleryThumbsComponent,\r\n                        GalleryThumbComponent,\r\n                        GalleryItemComponent,\r\n                        GalleryImageComponent,\r\n                        GalleryVideoComponent,\r\n                        GalleryIframeComponent,\r\n                        LazyImage,\r\n                        TapClick\r\n                    ],\r\n                    exports: [\r\n                        GalleryComponent,\r\n                        LazyImage,\r\n                        TapClick\r\n                    ]\r\n                }]\r\n        }] });\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { CounterPosition, DotsPosition, GALLERY_CONFIG, Gallery, GalleryAction, GalleryComponent, GalleryIframeComponent, GalleryImageComponent, GalleryItemType, GalleryModule, GalleryRef, GalleryVideoComponent, IframeItem, ImageItem, ImageLoaderMode, ImageSize, LazyImage, LoadingStrategy, SlidingDirection, TapClick, ThumbnailsMode, ThumbnailsPosition, ThumbnailsView, VideoItem, YoutubeItem };\n"],"names":["DOCUMENT","i0","inject","APP_ID","Injectable","Inject","QueryList","Directive","Input","InjectionToken","Optional","EventEmitter","Output","NgModule","i1","_getFocusedElementPierceShadowDom","normalizePassiveListenerOptions","_getEventTarget","_getShadowRoot","Subject","Subscription","BehaviorSubject","of","hasModifierKey","A","Z","ZERO","NINE","END","HOME","LEFT_ARROW","RIGHT_ARROW","UP_ARROW","DOWN_ARROW","TAB","ALT","CONTROL","MAC_META","META","SHIFT","tap","debounceTime","filter","map","take","skip","distinctUntilChanged","takeUntil","coerceBooleanProperty","coerceElement","i1$1","ObserversModule","BreakpointObserver","ID_DELIMITER","addAriaReferencedId","el","attr","id","ids","getAriaReferenceIds","some","existingId","trim","push","setAttribute","join","removeAriaReferencedId","filteredIds","val","length","removeAttribute","getAttribute","match","MESSAGES_CONTAINER_ID","CDK_DESCRIBEDBY_ID_PREFIX","CDK_DESCRIBEDBY_HOST_ATTRIBUTE","nextId","AriaDescriber","constructor","_document","_platform","_messageRegistry","Map","_messagesContainer","_id","describe","hostElement","message","role","_canBeDescribed","key","getKey","setMessageId","set","messageElement","referenceCount","has","_createMessageElement","_isElementDescribedByMessage","_addMessageReference","removeDescription","_a","_isElementNode","_removeMessageReference","registeredMessage","get","_deleteMessageElement","childNodes","remove","ngOnDestroy","describedElements","querySelectorAll","i","_removeCdkDescribedByReferenceIds","clear","createElement","textContent","_createMessagesContainer","appendChild","_b","delete","containerClassName","serverContainers","messagesContainer","style","visibility","classList","add","isBrowser","body","element","originalReferenceIds","indexOf","referenceIds","messageId","trimmedMessage","ariaLabel","nodeType","ELEMENT_NODE","fac","Platform","prov","type","args","providedIn","undefined","decorators","serviceId","ListKeyManager","_items","_activeItemIndex","_activeItem","_wrap","_letterKeyStream","_typeaheadSubscription","EMPTY","_vertical","_allowedModifierKeys","_homeAndEnd","_skipPredicateFn","item","disabled","_pressedLetters","tabOut","change","changes","subscribe","newItems","itemArray","toArray","newIndex","skipPredicate","predicate","withWrap","shouldWrap","withVerticalOrientation","enabled","withHorizontalOrientation","direction","_horizontal","withAllowedModifierKeys","keys","withTypeAhead","debounceInterval","ngDevMode","getLabel","Error","unsubscribe","pipe","letter","inputString","items","_getItemsArray","index","toUpperCase","setActiveItem","withHomeAndEnd","previousActiveItem","updateActiveItem","next","onKeydown","event","keyCode","modifiers","isModifierAllowed","every","modifier","setNextItemActive","setPreviousItemActive","setFirstItemActive","setLastItemActive","toLocaleUpperCase","String","fromCharCode","preventDefault","activeItemIndex","activeItem","isTyping","_setActiveItemByIndex","_setActiveItemByDelta","delta","_setActiveInWrapMode","_setActiveInDefaultMode","fallbackDelta","ActiveDescendantKeyManager","setInactiveStyles","setActiveStyles","FocusKeyManager","arguments","_origin","setFocusOrigin","origin","focus","IsFocusableConfig","ignoreVisibility","InteractivityChecker","isDisabled","hasAttribute","isVisible","hasGeometry","getComputedStyle","isTabbable","frameElement","getFrameElement","getWindow","getTabIndexValue","nodeName","toLowerCase","tabIndexValue","WEBKIT","IOS","isPotentiallyTabbableIOS","FIREFOX","tabIndex","isFocusable","config","isPotentiallyFocusable","window","offsetWidth","offsetHeight","getClientRects","isNativeFormElement","isHiddenInput","isInputElement","isAnchorWithHref","isAnchorElement","hasValidTabIndex","isNaN","parseInt","inputType","node","ownerDocument","defaultView","FocusTrap","_element","_checker","_ngZone","deferAnchors","_hasAttached","startAnchorListener","focusLastTabbableElement","endAnchorListener","focusFirstTabbableElement","_enabled","attachAnchors","value","_startAnchor","_endAnchor","_toggleAnchorTabIndex","destroy","startAnchor","endAnchor","removeEventListener","runOutsideAngular","_createAnchor","addEventListener","parentNode","insertBefore","nextSibling","focusInitialElementWhenReady","options","Promise","resolve","_executeOnStable","focusInitialElement","focusFirstTabbableElementWhenReady","focusLastTabbableElementWhenReady","_getRegionBoundary","bound","markers","console","warn","_getFirstTabbableElement","_getLastTabbableElement","redirectToElement","querySelector","focusableChild","hasAttached","root","children","tabbableChild","anchor","isEnabled","toggleAnchors","fn","isStable","onStable","FocusTrapFactory","create","deferCaptureElements","NgZone","CdkTrapFocus","_elementRef","_focusTrapFactory","_previouslyFocusedElement","focusTrap","nativeElement","autoCapture","_autoCapture","ngAfterContentInit","_captureFocus","ngDoCheck","ngOnChanges","autoCaptureChange","firstChange","ElementRef","dir","selector","exportAs","ConfigurableFocusTrap","_focusTrapManager","_inertStrategy","defer","register","deregister","_enable","preventFocus","_disable","allowFocus","FOCUS_TRAP_INERT_STRATEGY","EventListenerFocusTrapInertStrategy","_listener","e","_trapFocus","target","focusTrapRoot","contains","closest","call","setTimeout","activeElement","FocusTrapManager","_focusTrapStack","ft","stack","splice","ConfigurableFocusTrapFactory","configObject","isFakeMousedownFromScreenReader","buttons","offsetX","offsetY","isFakeTouchstartFromScreenReader","touch","touches","changedTouches","identifier","radiusX","radiusY","INPUT_MODALITY_DETECTOR_OPTIONS","INPUT_MODALITY_DETECTOR_DEFAULT_OPTIONS","ignoreKeys","TOUCH_BUFFER_MS","modalityEventListenerOptions","passive","capture","InputModalityDetector","ngZone","document","_mostRecentTarget","_modality","_lastTouchMs","_onKeydown","_options","_onMousedown","Date","now","_onTouchstart","Object","assign","modalityDetected","modalityChanged","mostRecentModality","complete","Document","LIVE_ANNOUNCER_ELEMENT_TOKEN","factory","LIVE_ANNOUNCER_ELEMENT_TOKEN_FACTORY","LIVE_ANNOUNCER_DEFAULT_OPTIONS","LiveAnnouncer","elementToken","_defaultOptions","_liveElement","_createLiveElement","announce","defaultOptions","politeness","duration","clearTimeout","_previousTimeout","_currentPromise","_currentResolve","elementClass","previousElements","getElementsByClassName","liveEl","CdkAriaLive","_liveAnnouncer","_contentObserver","_politeness","_subscription","observe","elementText","_previousAnnouncedText","ContentObserver","FOCUS_MONITOR_DEFAULT_OPTIONS","captureEventListenerOptions","FocusMonitor","_inputModalityDetector","_windowFocused","_originFromTouchInteraction","_elementInfo","_monitoredElementCount","_rootNodeFocusListenerCount","_windowFocusListener","_windowFocusTimeoutId","_stopInputModalityDetector","_rootNodeFocusAndBlurListener","parentElement","_onFocus","_onBlur","_detectionMode","detectionMode","monitor","checkChildren","rootNode","_getDocument","cachedInfo","subject","info","_registerGlobalListeners","stopMonitoring","elementInfo","_setClasses","_removeGlobalListeners","focusVia","focusedElement","_getClosestElementsInfo","forEach","currentElement","_originChanged","_setOrigin","_info","_getWindow","doc","_getFocusOrigin","focusEventTarget","_shouldBeAttributedToTouch","_lastFocusOrigin","_isLastInteractionFromInputLabel","toggle","isFromInteraction","_originTimeoutId","ms","relatedTarget","Node","_emitOrigin","observers","run","rootNodeFocusListeners","modality","results","mostRecentTarget","labels","CdkMonitorFocus","_focusMonitor","cdkFocusChange","ngAfterViewInit","_monitorSubscription","emit","BLACK_ON_WHITE_CSS_CLASS","WHITE_ON_BLACK_CSS_CLASS","HIGH_CONTRAST_MODE_ACTIVE_CSS_CLASS","HighContrastModeDetector","_breakpointSubscription","_hasCheckedHighContrastMode","_applyBodyHighContrastModeCssClasses","getHighContrastMode","testElement","backgroundColor","position","documentWindow","computedStyle","computedColor","replace","bodyClasses","mode","A11yModule","highContrastModeDetector","mod","inj","imports","declarations","exports","coerceNumberProperty","Observable","MutationObserverFactory","callback","MutationObserver","_mutationObserverFactory","_observedElements","_","_cleanupObserver","elementOrRef","observer","stream","_observeElement","subscription","_unobserveElement","mutations","characterData","childList","subtree","count","disconnect","CdkObserveContent","_disabled","_currentSubscription","_unsubscribe","_subscribe","debounce","_debounce","providers","Component","ChangeDetectionStrategy","PLATFORM_ID","Host","Self","isPlatformBrowser","trigger","state","transition","animate","i2","ImageItem","GalleryModule","ComponentPortal","ESCAPE","from","fromEvent","i2$1","OverlayModule","switchMap","finalize","LIGHTBOX_CONFIG","lightboxAnimation","opacity","transform","LightboxComponent","sanitizer","_savePreviouslyFocusedElement","onAnimationDone","toState","overlayRef","dispose","_restoreFocus","_focusTrap","_elementFocusedBeforeDialogWasOpened","then","toFocus","DomSanitizer","cmp","GalleryComponent","changeDetection","OnPush","animations","template","host","styles","defaultConfig","backdropClass","panelClass","hasBackdrop","keyboardShortcuts","startAnimationTime","exitAnimationTime","closeIcon","Lightbox","_gallery","_overlay","opened","closed","_config","setConfig","open","overlayConfig","positionStrategy","global","centerHorizontally","centerVertically","scrollStrategy","scrollStrategies","block","disposeOnNavigation","galleryRef","ref","_overlayRef","attachments","detachments","galleryPortal","lightboxRef","attach","instance","ariaLabelledBy","ariaDescribedBy","backdropClick","close","keydownEvents","prev","detach","Gallery","Overlay","GallerizeDirective","_zone","_el","_lightbox","_renderer","platform","_galleryCmp","_galleryId","_mode","ngOnInit","gallerize","detectorMode","galleryMode","_detector$","_observer$","_itemClick$","_itemChange$","itemClick","itemsChanged","load","imageElements","images","setStyle","setProperty","HTMLImageElement","src","thumb","elStyle","currentStyle","background","backgroundImage","slice","data","Renderer2","LightboxDirective","clickEvent","LightboxModule","withConfig","ngModule","provide","useValue","HostBinding","ViewChild","zip","delay","CommonModule","GalleryAction","ImageSize","LoadingStrategy","ThumbnailsPosition","ImageLoaderMode","DotsPosition","CounterPosition","ThumbnailsMode","SlidingDirection","GalleryItemType","ThumbnailsView","defaultState","action","INITIALIZED","isPlaying","hasNext","hasPrev","currIndex","nav","loop","zoomOut","dots","dotsSize","counter","gestures","autoPlay","thumbWidth","thumbHeight","panSensitivity","disableThumb","playerInterval","imageSize","Contain","thumbMode","Strict","dotsPosition","Bottom","counterPosition","Top","thumbPosition","loadingStrategy","Default","slidingDirection","Horizontal","navIcon","loadingIcon","Image","VideoItem","Video","IframeItem","Iframe","YoutubeItem","Youtube","filterActions","actions","GalleryRef","deleteInstance","thumbClick","error","_state","asObservable","stateSnapshot","initialized","ITEMS_CHANGED","indexChanged","INDEX_CHANGED","playingChanged","PLAY","STOP","playerActions","activatePlayer","setState","active","addImage","addVideo","addIframe","addYoutube","play","interval","stop","reset","GALLERY_CONFIG","_instances","destroyAll","resetAll","TapClick","clickListener","tapClick","activateClickEvent","Hammer","_hammer","on","tapClickDisabled","GalleryNavComponent","_sanitizer","bypassSecurityTrustHtml","NgIf","GalleryDotsComponent","NgForOf","LazyImage","_imageLoader$","_loaderSub$","loaded","imageSrc","nativeLoader","previousValue","currentValue","loadImage","imagePath","url","img","loadSuccess","loadError","GalleryImageComponent","progress","imageLoadSuccess","imageUrl","imageLoadFailed","loaderTemplate","loadingError","errorTemplate","onProgress","total","onLoaded","blobUrl","bypassSecurityTrustStyle","onError","err","NgSwitch","NgSwitchCase","AsyncPipe","isThumbnail","GalleryVideoComponent","pauseVideo","shouldPause","video","paused","pause","playVideo","shouldPlay","Array","videoSources","controls","controlsEnabled","poster","static","GalleryIframeComponent","videoSrc","iframeSrc","bypassSecurityTrustResourceUrl","iframe","autoplay","GalleryItemComponent","Types","isActive","isAutoPlay","youtubeSrc","URL","search","URLSearchParams","wmode","params","toString","href","Preload","Lazy","NgTemplateOutlet","NgSwitchDefault","GallerySliderComponent","_slidingWorker$","sliderState$","getSliderStyles","zoom","updateSlider","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","deltaX","isFinal","horizontalPan","Vertical","deltaY","verticalPan","_resizeSub$","width","height","DIRECTION_UP","offsetDirection","velocityY","velocityX","newState","NgStyle","GalleryCounterComponent","GalleryThumbComponent","GalleryThumbsComponent","_freeModeCurrentOffset","thumbnailsView","Right","Left","strictMode","Free","freeMode","minFreeScrollExceeded","maxFreeScrollExceeded","itemsLength","thumbView","containerWidth","clientWidth","minHorizontalShift","thumbnailsLessThanSlider","Math","min","containerHeight","clientHeight","minVerticalShift","GalleryCoreComponent","itemTemplate","thumbTemplate","destroyRef","skipInitConfig","playingChange","indexChange","itemsChange","_thumbClick$","_indexChange$","_playingChange$","_playerListener$","getConfig","onAction","onItemClick","onThumbClick"],"sourceRoot":"webpack:///"}