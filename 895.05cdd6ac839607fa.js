"use strict";(self.webpackChunkendless=self.webpackChunkendless||[]).push([[895],{78895:(F,d,r)=>{r.r(d),r.d(d,{ChatModule:()=>w});var u=r(69808),o=r(93075),f=r(46146),e=r(5e3),h=r(75433);const m=function(i,a){return{online:i,offline:a}};function _(i,a){if(1&i){const n=e.EpF();e.TgZ(0,"li",94)(1,"a",95),e.NdJ("click",function(){e.CHM(n);const l=e.oxw().$implicit,s=e.oxw();return e.KtG(s.userChat(l.id))}),e._UZ(2,"img",8)(3,"div",96),e.TgZ(4,"div",9)(5,"div",28),e._uU(6),e.qZA(),e.TgZ(7,"div",11),e._uU(8),e.qZA()()()()}if(2&i){const n=e.oxw().$implicit;e.xp6(2),e.Q6J("src",null==n?null:n.profile,e.LSH),e.xp6(1),e.Q6J("ngClass",e.WLB(4,m,n.online,!n.online)),e.xp6(3),e.Oqu(null==n?null:n.name),e.xp6(2),e.Oqu(null==n?null:n.status)}}function Z(i,a){if(1&i&&(e.ynx(0),e.YNc(1,_,9,7,"li",93),e.BQk()),2&i){const n=a.$implicit;e.xp6(1),e.Q6J("ngIf",1!=n.authenticate)}}function v(i,a){1&i&&(e.ynx(0),e.TgZ(1,"div",97)(2,"div"),e._UZ(3,"img",98),e.TgZ(4,"p"),e._uU(5,"Sorry, We didn't find any results matching this search"),e.qZA()()(),e.BQk())}function C(i,a){1&i&&(e.TgZ(0,"span",99),e._uU(1,"Typing..."),e.qZA())}function T(i,a){if(1&i&&(e.TgZ(0,"div",103),e._UZ(1,"img",104),e.TgZ(2,"div",105)(3,"span",106),e._uU(4),e.qZA()(),e._uU(5),e.qZA()),2&i){const n=e.oxw().$implicit,t=e.oxw();e.xp6(1),e.Q6J("src",null==t.chatUser?null:t.chatUser.profile,e.LSH),e.xp6(3),e.Oqu(null==n?null:n.time),e.xp6(1),e.hij(" ",null==n?null:n.text," ")}}function U(i,a){if(1&i&&(e.TgZ(0,"div",107),e._UZ(1,"img",108),e.TgZ(2,"div",109)(3,"span",106),e._uU(4),e.qZA()(),e._uU(5),e.qZA()),2&i){const n=e.oxw().$implicit,t=e.oxw();e.xp6(1),e.Q6J("src",null==t.profile?null:t.profile.profile,e.LSH),e.xp6(3),e.Oqu(null==n?null:n.time),e.xp6(1),e.hij(" ",null==n?null:n.text," ")}}const b=function(i){return{clearfix:i}};function A(i,a){if(1&i&&(e.TgZ(0,"li",100),e.YNc(1,T,6,3,"div",101),e.YNc(2,U,6,3,"ng-template",null,102,e.W1O),e.qZA()),2&i){const n=a.$implicit,t=e.MAs(3),l=e.oxw();e.Q6J("ngClass",e.VKq(3,b,n.sender==l.profile.id)),e.xp6(1),e.Q6J("ngIf",n.sender!=l.profile.id)("ngIfElse",t)}}function q(i,a){1&i&&(e.ynx(0),e.TgZ(1,"div",110)(2,"div",111),e._UZ(3,"img",112),e.qZA()(),e.BQk())}function x(i,a){1&i&&e._UZ(0,"i",115)}function y(i,a){1&i&&e._UZ(0,"i",116)}function J(i,a){if(1&i&&(e.TgZ(0,"li",94),e._UZ(1,"img",8),e.TgZ(2,"div",9)(3,"div",28),e._uU(4),e.qZA(),e.TgZ(5,"div",11),e.YNc(6,x,1,0,"i",113),e.YNc(7,y,1,0,"i",114),e._uU(8),e.qZA()()()),2&i){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("src",null==n?null:n.profile,e.LSH),e.xp6(3),e.Oqu(null==n?null:n.name),e.xp6(2),e.Q6J("ngIf","outgoing"==(null==n||null==n.call?null:n.call.status)),e.xp6(1),e.Q6J("ngIf","incoming"==(null==n||null==n.call?null:n.call.status)),e.xp6(1),e.hij("\xa0\xa0",null==n?null:n.call.date_time," ")}}function k(i,a){if(1&i&&(e.ynx(0),e.YNc(1,J,9,5,"li",93),e.BQk()),2&i){const n=a.$implicit;e.xp6(1),e.Q6J("ngIf",1!=n.authenticate)}}const M=function(){return{standalone:!0}},p=function(i){return{active:i}},g=function(i){return{"show active":i}},Q=[{path:"",children:[{path:"",component:(()=>{class i{constructor(n){this.chatService=n,this.openTab="call",this.users=[],this.searchUsers=[],this.error=!1,this.notFound=!1,this.chatService.getUsers().subscribe(t=>{this.searchUsers=t,this.users=t})}ngOnInit(){this.userChat(this.id),this.getProfile()}tabbed(n){this.openTab=n}getProfile(){this.chatService.getCurrentUser().subscribe(n=>this.profile=n)}userChat(n=1){this.chatService.chatToUser(n).subscribe(t=>this.chatUser=t),this.chatService.getChatHistory(n).subscribe(t=>this.chats=t)}sendMessage(n){if(!n.value.message)return this.error=!0,!1;this.error=!1,this.chatService.sendMessage({sender:this.profile.id,receiver:this.chatUser.id,receiver_name:this.chatUser.name,message:n.value.message}),this.chatText="",this.chatUser.seen="online",this.chatUser.online=!0}searchTerm(n){if(!n)return this.searchUsers=this.users;n=n.toLowerCase();let t=[];this.users.filter(l=>{l.name.toLowerCase().includes(n)&&t.push(l)}),this.searchUsers=t}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(h.a))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-chat"]],decls:156,vars:38,consts:[[1,"container-fluid"],[1,"row"],[1,"col","call-chat-sidebar","col-sm-12"],[1,"card"],[1,"card-body","chat-body"],[1,"chat-box"],[1,"chat-left-aside"],[1,"media"],["alt","",1,"rounded-circle","user-image",3,"src"],[1,"about"],[1,"name","f-w-600"],[1,"status"],["id","people-list",1,"people-list"],[1,"search"],[1,"theme-form"],[1,"form-group"],["type","text","placeholder","search",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keyup"],[1,"fa","fa-search"],[1,"list"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col","call-chat-body"],[1,"card-body","p-0"],[1,"row","chat-box"],[1,"col","pe-0","chat-right-aside"],[1,"chat"],[1,"chat-header","clearfix"],["alt","",1,"rounded-circle",3,"src"],[1,"name"],["class","font-primary f-12",4,"ngIf"],[1,"status","digits"],[1,"list-inline","float-start","float-sm-end","chat-menu-icons"],[1,"list-inline-item"],["href","javascript:void(0)"],[1,"icon-search"],[1,"icon-clip"],[1,"icon-headphone-alt"],[1,"icon-video-camera"],[1,"list-inline-item","toogle-bar"],[1,"icon-menu"],[1,"chat-history","chat-msg-box","custom-scrollbar"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngSubmit"],["chatForm","ngForm"],[1,"chat-message","clearfix"],[1,"col-xl-12","d-flex"],[1,"smiley-box","bg-primary"],[1,"picker"],["src","assets/images/smiley.png","alt",""],[1,"input-group","text-box"],["id","message-to-send","ngModel","","type","text","name","message","placeholder","Type a message......",1,"form-control","input-txt-bx",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col","ps-0","chat-menu"],["id","info-tab","role","tablist",1,"nav","nav-tabs","nav-material","nav-primary"],[1,"nav-item"],["href","javascript:void(0)","id","info-home-tab",1,"nav-link",3,"ngClass","click"],[1,"material-border"],["href","javascript:void(0)","id","profile-info-tab",1,"nav-link",3,"ngClass","click"],["href","javascript:void(0)","id","contact-info-tab",1,"nav-link",3,"ngClass","click"],["id","info-tabContent",1,"tab-content"],["id","info-home","role","tabpanel","aria-labelledby","info-home-tab",1,"tab-pane","fade",3,"ngClass"],[1,"people-list"],[1,"list","digits"],["id","info-profile","role","tabpanel","aria-labelledby","profile-info-tab",1,"tab-pane","fade",3,"ngClass"],["type","text","placeholder","Write Status...",1,"form-control"],[1,"fa","fa-pencil"],[1,"font-dark"],[1,"icofont","icofont-emo-heart-eyes","font-danger","f-20"],[1,"icofont","icofont-emo-heart-eyes","font-danger","f-20","m-l-5"],[1,"icofont","icofont-emo-rolling-eyes","font-success","f-20"],["id","info-contact","role","tabpanel","aria-labelledby","contact-info-tab",1,"tab-pane","fade",3,"ngClass"],[1,"user-profile"],[1,"image"],[1,"avatar","text-center"],["alt","",3,"src"],[1,"icon-wrapper"],[1,"icofont","icofont-pencil-alt-5"],[1,"user-content","text-center"],[1,"text-uppercase"],[1,"social-media"],[1,"list-inline"],[1,"fa","fa-facebook"],[1,"fa","fa-google-plus"],[1,"fa","fa-twitter"],[1,"fa","fa-instagram"],[1,"fa","fa-rss"],[1,"follow","text-center"],[1,"col","border-right"],[1,"follow-num"],[1,"col"],[1,"text-center","digits"],[1,"mb-0"],["class","clearfix",4,"ngIf"],[1,"clearfix"],["href","javascript:void(0)",3,"click"],[1,"status-circle",3,"ngClass"],[1,"search-not-found","chat-search","text-center"],["src","assets/images/search-not-found.png","alt","",1,"second-search"],[1,"font-primary","f-12"],[3,"ngClass"],["class","message my-message mb-0",4,"ngIf","ngIfElse"],["myChat",""],[1,"message","my-message","mb-0"],["alt","",1,"rounded-circle","float-start","chat-user-img","img-30",3,"src"],[1,"message-data","text-end"],[1,"message-data-time"],[1,"message","other-message","pull-right"],["alt","",1,"rounded-circle","float-end","chat-user-img","img-30",3,"src"],[1,"message-data"],[1,"image-not-found"],[1,"d-block","start-conversion"],["src","assets/images/start-conversion.jpg"],["class","fa fa-share font-success",4,"ngIf"],["class","fa fa-reply font-danger",4,"ngIf"],[1,"fa","fa-share","font-success"],[1,"fa","fa-reply","font-danger"]],template:function(n,t){if(1&n){const l=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),e._UZ(8,"img",8),e.TgZ(9,"div",9)(10,"div",10),e._uU(11),e.qZA(),e.TgZ(12,"div",11),e._uU(13),e.qZA()()(),e.TgZ(14,"div",12)(15,"div",13)(16,"form",14)(17,"div",15)(18,"input",16),e.NdJ("ngModelChange",function(c){return t.searchText=c})("keyup",function(){return t.searchTerm(t.searchText)}),e.qZA(),e._UZ(19,"i",17),e.qZA()()(),e.TgZ(20,"ul",18),e.YNc(21,Z,2,1,"ng-container",19),e.YNc(22,v,6,0,"ng-container",20),e.qZA()()()()()()(),e.TgZ(23,"div",21)(24,"div",3)(25,"div",22)(26,"div",23)(27,"div",24)(28,"div",25)(29,"div",26),e._UZ(30,"img",27),e.TgZ(31,"div",9)(32,"div",28),e._uU(33),e.YNc(34,C,2,0,"span",29),e.qZA(),e.TgZ(35,"div",30),e._uU(36),e.qZA()(),e.TgZ(37,"ul",31)(38,"li",32)(39,"a",33),e._UZ(40,"i",34),e.qZA()(),e.TgZ(41,"li",32)(42,"a",33),e._UZ(43,"i",35),e.qZA()(),e.TgZ(44,"li",32)(45,"a",33),e._UZ(46,"i",36),e.qZA()(),e.TgZ(47,"li",32)(48,"a",33),e._UZ(49,"i",37),e.qZA()(),e.TgZ(50,"li",38)(51,"a",33),e._UZ(52,"i",39),e.qZA()()()(),e.TgZ(53,"div",40)(54,"ul"),e.YNc(55,A,4,5,"li",41),e.YNc(56,q,4,0,"ng-container",20),e.qZA()(),e.TgZ(57,"form",42,43),e.NdJ("ngSubmit",function(){e.CHM(l);const c=e.MAs(58);return e.KtG(t.sendMessage(c))}),e.TgZ(59,"div",44)(60,"div",1)(61,"div",45)(62,"div",46)(63,"div",47),e._UZ(64,"img",48),e.qZA()(),e.TgZ(65,"div",49)(66,"input",50),e.NdJ("ngModelChange",function(c){return t.chatText=c}),e.qZA(),e.TgZ(67,"div",51)(68,"button",52),e.NdJ("click",function(){e.CHM(l);const c=e.MAs(58);return e.KtG(t.sendMessage(c))}),e._uU(69,"SEND"),e.qZA()()()()()()()()(),e.TgZ(70,"div",53)(71,"ul",54)(72,"li",55)(73,"a",56),e.NdJ("click",function(){return t.tabbed("call")}),e._uU(74,"CALL"),e.qZA(),e._UZ(75,"div",57),e.qZA(),e.TgZ(76,"li",55)(77,"a",58),e.NdJ("click",function(){return t.tabbed("status")}),e._uU(78,"STATUS"),e.qZA(),e._UZ(79,"div",57),e.qZA(),e.TgZ(80,"li",55)(81,"a",59),e.NdJ("click",function(){return t.tabbed("profile")}),e._uU(82,"PROFILE"),e.qZA(),e._UZ(83,"div",57),e.qZA()(),e.TgZ(84,"div",60)(85,"div",61)(86,"div",62)(87,"ul",63),e.YNc(88,k,2,1,"ng-container",19),e.qZA()()(),e.TgZ(89,"div",64)(90,"div",62)(91,"div",13)(92,"form",14)(93,"div",15),e._UZ(94,"input",65)(95,"i",66),e.qZA()()()(),e.TgZ(96,"div",11)(97,"p",67),e._uU(98,"Active"),e.qZA(),e._UZ(99,"hr"),e.TgZ(100,"p"),e._uU(101," Established fact that a reader will be distracted \xa0"),e._UZ(102,"i",68)(103,"i",69),e.qZA(),e._UZ(104,"hr"),e.TgZ(105,"p"),e._uU(106,"Dolore magna aliqua \xa0"),e._UZ(107,"i",70),e.qZA()()(),e.TgZ(108,"div",71)(109,"div",72)(110,"div",73)(111,"div",74),e._UZ(112,"img",75),e.qZA(),e.TgZ(113,"div",76),e._UZ(114,"i",77),e.qZA()(),e.TgZ(115,"div",78)(116,"h5",79),e._uU(117),e.qZA(),e.TgZ(118,"div",80)(119,"ul",81)(120,"li",32)(121,"a",33),e._UZ(122,"i",82),e.qZA()(),e.TgZ(123,"li",32)(124,"a",33),e._UZ(125,"i",83),e.qZA()(),e.TgZ(126,"li",32)(127,"a",33),e._UZ(128,"i",84),e.qZA()(),e.TgZ(129,"li",32)(130,"a",33),e._UZ(131,"i",85),e.qZA()(),e.TgZ(132,"li",32)(133,"a",33),e._UZ(134,"i",86),e.qZA()()()(),e._UZ(135,"hr"),e.TgZ(136,"div",87)(137,"div",1)(138,"div",88)(139,"span"),e._uU(140,"Following"),e.qZA(),e.TgZ(141,"div",89),e._uU(142,"236k"),e.qZA()(),e.TgZ(143,"div",90)(144,"span"),e._uU(145,"Follower"),e.qZA(),e.TgZ(146,"div",89),e._uU(147,"3691k"),e.qZA()()()(),e._UZ(148,"hr"),e.TgZ(149,"div",91)(150,"p",92),e._uU(151,"Mark.jecno23@gmail.com"),e.qZA(),e.TgZ(152,"p",92),e._uU(153,"+91 365 - 658 - 1236"),e.qZA(),e.TgZ(154,"p",92),e._uU(155,"Fax: 123-4560"),e.qZA()()()()()()()()()()()()()}2&n&&(e.xp6(8),e.Q6J("src",null==t.profile?null:t.profile.profile,e.LSH),e.xp6(3),e.Oqu(null==t.profile?null:t.profile.name),e.xp6(2),e.Oqu(null==t.profile?null:t.profile.status),e.xp6(5),e.Q6J("ngModel",t.searchText)("ngModelOptions",e.DdM(25,M)),e.xp6(3),e.Q6J("ngForOf",t.searchUsers),e.xp6(1),e.Q6J("ngIf",!t.searchUsers.length),e.xp6(8),e.Q6J("src",null==t.chatUser?null:t.chatUser.profile,e.LSH),e.xp6(3),e.hij("",null==t.chatUser?null:t.chatUser.name,"\xa0\xa0"),e.xp6(1),e.Q6J("ngIf",null==t.chatUser?null:t.chatUser.typing),e.xp6(2),e.Oqu(null==t.chatUser?null:t.chatUser.seen),e.xp6(19),e.Q6J("ngForOf",null==t.chats?null:t.chats.message),e.xp6(1),e.Q6J("ngIf",!(null!=t.chats&&t.chats.message.length)),e.xp6(10),e.ekj("border-danger",t.error),e.Q6J("ngModel",t.chatText),e.xp6(7),e.Q6J("ngClass",e.VKq(26,p,"call"==t.openTab)),e.xp6(4),e.Q6J("ngClass",e.VKq(28,p,"status"==t.openTab)),e.xp6(4),e.Q6J("ngClass",e.VKq(30,p,"profile"==t.openTab)),e.xp6(4),e.Q6J("ngClass",e.VKq(32,g,"call"==t.openTab)),e.xp6(3),e.Q6J("ngForOf",t.users),e.xp6(1),e.Q6J("ngClass",e.VKq(34,g,"status"==t.openTab)),e.xp6(19),e.Q6J("ngClass",e.VKq(36,g,"profile"==t.openTab)),e.xp6(4),e.Q6J("src",null==t.profile?null:t.profile.profile,e.LSH),e.xp6(5),e.Oqu(null==t.profile?null:t.profile.name))},dependencies:[u.mk,u.sg,u.O5,o._Y,o.Fj,o.JJ,o.JL,o.On,o.F]}),i})(),data:{title:"Chat",breadcrumb:""}}]}];let S=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[f.Bz.forChild(Q),f.Bz]}),i})(),w=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.ez,o.u5,o.UX,S]}),i})()}}]);