"use strict";(self.webpackChunkendless=self.webpackChunkendless||[]).push([[266],{20732:(L,C,p)=>{p.d(C,{Ci:()=>b,Dm:()=>O,Ew:()=>h,GW:()=>w,Go:()=>r,Rt:()=>G,Yt:()=>y,_0:()=>S,c8:()=>v,cy:()=>a,p7:()=>e,rY:()=>o});var g=p(19727),d=0,u=80,c=500,b={type:"Line",data:{labels:["1","2","3","4","5","6","7","8","9","10","11","12"],series:[[12,9,7,8,5,4,6,2,3,3,4,6],[4,5,3,7,3,5,5,3,4,4,5,5],[5,3,4,5,6,3,3,4,5,6,3,4],[3,4,5,6,7,6,4,5,6,7,6,3]]},options:{low:0,showArea:!1,fullWidth:!0,height:450},events:{draw:t=>{if(d++,"line"===t.type)t.element.animate({opacity:{begin:d*u+1e3,dur:c,from:0,to:1}});else if("label"===t.type&&"x"===t.axis)t.element.animate({y:{begin:d*u,dur:c,from:t.y+100,to:t.y,easing:"easeOutQuart"}});else if("label"===t.type&&"y"===t.axis)t.element.animate({x:{begin:d*u,dur:c,from:t.x-100,to:t.x,easing:"easeOutQuart"}});else if("point"===t.type)t.element.animate({x1:{begin:d*u,dur:c,from:t.x-10,to:t.x,easing:"easeOutQuart"},x2:{begin:d*u,dur:c,from:t.x-10,to:t.x,easing:"easeOutQuart"},opacity:{begin:d*u,dur:c,from:0,to:1,easing:"easeOutQuart"}});else if("grid"===t.type){var i={begin:d*u,dur:c,from:t[t.axis.units.pos+"2"]-100,to:t[t.axis.units.pos+"2"],easing:"easeOutQuart"},l={};l[t.axis.units.pos+"1"]={begin:d*u,dur:c,from:t[t.axis.units.pos+"1"]-30,to:t[t.axis.units.pos+"1"],easing:"easeOutQuart"},l[t.axis.units.pos+"2"]=i,l.opacity={begin:d*u,dur:c,from:0,to:1,easing:"easeOutQuart"},t.element.animate(l)}}}},v={type:"Line",data:{labels:["Mon","Tue","Wed","Thu","Fri","Sat"],series:[[1,5,2,5,4,3],[2,3,4,8,1,2],[5,4,3,2,1,.5]]},options:{low:0,showArea:!0,showPoint:!1,fullWidth:!0,height:450},events:{draw:t=>{("line"===t.type||"area"===t.type)&&t.element.animate({d:{begin:2e3*t.index,dur:2e3,from:t.path.clone().scale(1,0).translate(0,t.chartRect.height()).stringify(),to:t.path.clone().stringify(),easing:g.Svg.Easing.easeOutQuint}})}}},w={type:"Pie",data:{series:[10,20,50,20,5,50,15],labels:[1,2,3,4,5,6,7]},options:{donut:!0,showLabel:!1,height:450},events:{draw:t=>{if("slice"===t.type){var n=t.element._node.getTotalLength();t.element.attr({"stroke-dasharray":n+"px "+n+"px"});var i={"stroke-dashoffset":{id:"anim"+t.index,dur:1e3,from:-n+"px",to:"0px",easing:g.Svg.Easing.easeOutQuint,fill:"freeze"}};t.element.attr({"stroke-dashoffset":-n+"px"}),t.element.animate(i,!1)}}}},O={type:"Line",data:{labels:[1,2,3,4,5,6,7,8],series:[[1,2,3,1,-2,0,1,0],[-2,-1,-2,-1,-2.5,-1,-2,-1],[0,0,0,1,2,2.5,2,1],[2.5,2,1,.5,1,.5,-1,-2.5]]},options:{high:3,low:-3,showArea:!0,showLine:!1,showPoint:!1,fullWidth:!0,axisX:{showLabel:!1,showGrid:!1},height:450}},y={type:"Line",data:{labels:[1,2,3,4,5,6,7,8],series:[[5,9,7,8,5,3,5,4]]},options:{low:0,showArea:!0,height:450}},G={type:"Bar",data:{labels:["W1","W2","W3","W4","W5","W6","W7","W8","W9","W10"],series:[[1,2,4,8,6,-2,-1,-4,-6,-2]]},options:{high:10,low:-10,axisX:{labelInterpolationFnc:function(t,n){return n%2==0?t:null}},height:450}},S={type:"Bar",data:{labels:["Mon","Tue","wen","Thus","Fri","Sat","Sun"],series:[[3,3,0,2,0,3,0],[2,null,1.5,null,3.5,2,3]]},options:{stackBars:!0,scaleMinSpace:90,height:450}},r={type:"Bar",data:{labels:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],series:[[5,4,3,7,5,10,3],[3,2,9,5,4,6,4]]},options:{seriesBarDistance:10,reverseData:!0,horizontalBars:!0,axisY:{offset:70},height:450}},h={type:"Bar",data:{labels:["2010-11","2011-12","2012-13","2013-13","2014-15","2015-16","2016-17","2017-18"],series:[[.9,.4,1.5,4.9,3,3.8,3.8,1.9],[6.4,5.7,7,4.95,3,3.8,3.8,1.9],[4.3,2.3,3.6,4.5,5,2.8,3.3,4.3],[3.8,4.1,2.8,1.8,2.2,1.9,6.7,2.9]]},options:{height:450,seriesBarDistance:15,horizontalBars:!1,axisY:{offset:20}}},e={type:"Line",data:{labels:["Monday","Tuesday","Wednesday","Thursday","Friday"],series:[[12,9,7,8,5],[2,1,3.5,7,3],[1,3,4,5,6]]},options:{height:450,fullWidth:!0,chartPadding:{right:40}}},o={type:"Line",data:{labels:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],series:[[5,5,10,8,7,5,4,null,null,null,10,10,7,8,6,9],[10,15,null,12,null,10,12,15,null,null,12,null,14,null,null,null],[null,null,null,null,3,4,1,3,4,6,7,9,5,null,null,null]]},options:{height:450,fullWidth:!0,chartPadding:{right:10},low:0}},a={type:"Line",data:{labels:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],series:[[5,5,10,8,7,5,4,null,null,null,10,10,7,8,6,9],[10,15,null,12,null,10,12,15,null,null,12,null,14,null,null,null],[null,null,null,null,3,4,1,3,4,6,7,9,5,null,null,null]]},options:{height:450,fullWidth:!0,chartPadding:{right:10},lineSmooth:g.Interpolation.cardinal({fillHoles:!0}),low:0}}},51077:(L,C,p)=>{p.d(C,{P4:()=>v,Ye:()=>y});var g=p(70655),s=p(5e3);let d=(()=>{class r{constructor(e){this.opt=e,this.dataTableChanged=new s.vpe,e&&this._setDataTable(e.dataTable,e.firstRowIsData)}send(){void 0!==this.query&&this.query.send(e=>{this.setDataTable(e.getDataTable()),this.opt.queryCallback&&this.opt.queryCallback(e)})}init(e){e&&(this.opt=e),void 0!==this.tid&&(window.clearInterval(this.tid),this.tid=void 0),this.opt.dataSourceUrl?(this.query=new google.visualization.Query(this.opt.dataSourceUrl),this.opt.query&&this.query.setQuery(this.opt.query),void 0!==this.opt.timeout&&this.query.setTimeout(this.opt.timeout),this.opt.refreshInterval&&(this.tid=window.setInterval(()=>{this.send()},1e3*this.opt.refreshInterval)),this.send()):this.setDataTable(this.opt.dataTable)}getDataTable(){return this.dataTable}setDataTable(e,o){void 0===o&&(o=this.opt.firstRowIsData),this._setDataTable(e,o),this.dataTableChanged.emit(this.dataTable)}_setDataTable(e,o){Array.isArray(e)&&(e=google.visualization.arrayToDataTable(e,o)),this.dataTable=e,this.reformat()}reformat(){const e=this.dataTable;if(void 0!==e&&void 0!==this.opt.formatters)for(const o of this.opt.formatters){let a;if("PatternFormat"===o.type){const i=o.options;a=new google.visualization.PatternFormat(i.pattern),a.format(e,o.columns,i.dstColumnIndex);continue}const t=google.visualization[o.type],n=o.options;if(a=new t(n),"ColorFormat"===o.type&&n){const i=n;if(i.ranges)for(const l of i.ranges)void 0!==l.fromBgColor&&void 0!==l.toBgColor?a.addGradientRange(l.from,l.to,l.color,l.fromBgColor,l.toBgColor):a.addRange(l.from,l.to,l.color,l.bgcolor)}for(const i of o.columns)a.format(e,i)}}}return r.\u0275fac=function(e){s.$Z()},r.\u0275dir=s.lG2({type:r,outputs:{dataTableChanged:"dataTableChanged"}}),r})(),u=(()=>{class r{constructor(e){this.el=e}setPosition(e,o){this.el.nativeElement.style.left=e+r.PIXELS,this.el.nativeElement.style.top=o+r.PIXELS}getDOMElement(){return this.el}}return r.PIXELS="px",r})(),c=(()=>{class r{constructor(e,o){this.googleChartsSettings=o,this.loadedPackages=[],this.loaded=!1,this.googleChartsSettings=Object.assign(Object.assign({},{googleChartsVersion:"50",language:e}),this.googleChartsSettings),this.googleScriptLoadingNotifier=new s.vpe,this.googleChartLoadingNotifier=new s.vpe,this.googleScriptIsLoading=!1,this.googleChartIsLoading=!1,this.loadGoogleChartsScriptPromise=new Promise((t,n)=>{if("undefined"!=typeof google&&google.charts)t();else if(this.googleScriptIsLoading)this.googleScriptLoadingNotifier.subscribe(i=>{i?t():n()});else{this.googleScriptIsLoading=!0;const i=document.createElement("script");i.type="text/javascript",i.src="https://www.gstatic.com/charts/loader.js",i.async=!0,i.defer=!0,i.onload=()=>{this.googleScriptIsLoading=!1,this.googleScriptLoadingNotifier.emit(!0),t()},i.onerror=()=>{this.googleScriptIsLoading=!1,this.googleScriptLoadingNotifier.emit(!1),n()},document.getElementsByTagName("head")[0].appendChild(i)}})}load(e){return(0,g.mG)(this,void 0,void 0,function*(){yield this.loadGoogleChartsScriptPromise,yield new Promise(o=>{this.googleChartIsLoading?this.googleChartLoadingNotifier.subscribe(()=>{this.doLoad(o,e)}):this.doLoad(o,e)})})}doLoad(e,o){if(!(o=Object.assign(Object.assign({},this.googleChartsSettings),o)).packages&&this.loaded)return void e();if(o.packages){let t=o.packages.filter(n=>this.loadedPackages.indexOf(n)<0);if(0==t.length&&this.loaded)return void e();o.packages=t}const a=o;a.callback=()=>{this.googleChartIsLoading=!1,void 0!==a.packages&&(this.loadedPackages=this.loadedPackages.concat(a.packages)),this.loaded=!0,this.googleChartLoadingNotifier.emit(),e()},this.googleChartIsLoading=!0,google.charts.load(o.googleChartsVersion,a)}}return r.\u0275fac=function(e){return new(e||r)(s.LFG(s.soG),s.LFG("googleChartsSettings",8))},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),v=(()=>{class r{constructor(e,o){this.el=e,this.loaderService=o,this.selectListener=()=>{const a={message:"select",row:null,column:null,selectedRowValues:[],selectedRowFormattedValues:[],columnLabel:""},t=this.wrapper.visualization.getSelection(),n=t[t.length-1];if(!n)return a.message="deselect",a;const i=n;if(null!=n.row){a.row=i.row;const l=[],m=[],T=this.wrapper.getDataTable(),E=T.getNumberOfColumns();for(let f=0;f<E;f++)l.push(T.getValue(i.row,f)),m.push(T.getFormattedValue(i.row,f));a.selectedRowValues=l,a.selectedRowFormattedValues=m}return null!=i.column&&(a.column=i.column,a.columnLabel=this.getColumnLabelAtPosition(i)),n.name&&(a.columnLabel=n.name),a},this.chartSelect=new s.vpe,this.chartSelectOneTime=new s.vpe,this.chartReady=new s.vpe,this.chartReadyOneTime=new s.vpe,this.chartError=new s.vpe,this.chartErrorOneTime=new s.vpe,this.mouseOver=new s.vpe,this.mouseOverOneTime=new s.vpe,this.mouseOut=new s.vpe,this.mouseOutOneTime=new s.vpe,this.regionClick=new s.vpe,this.regionClickOneTime=new s.vpe}ngOnInit(){this.HTMLel=this.el.nativeElement.querySelector("div"),Object.isExtensible(this.data)&&(this.data.component=this),this.options=this.data.options,this.init().then(()=>{this.draw()})}init(){return(0,g.mG)(this,void 0,void 0,function*(){yield this.loaderService.load(),this.recreateWrapper()})}recreateWrapper(){if(void 0===this.wrapper||this.wrapper.getChartType()!==this.data.chartType){this.dataTable=new d(this.data),this.dataTable.dataTableChanged.subscribe(o=>{this._draw()});let e=this.data;if(this.data.firstRowIsData&&(e=Object.assign(e,this.data),e.dataTable=this.dataTable.getDataTable()),this.wrapper=new google.visualization.ChartWrapper(e),this.registerChartWrapperEvents(),void 0===e.dataTable&&void 0===e.dataSourceUrl)try{this.wrapper.draw(this.HTMLel)}catch(o){}}}_draw(){return(0,g.mG)(this,void 0,void 0,function*(){const e=this.dataTable.getDataTable();void 0!==e&&(this.convertOptions(),this.recreateWrapper(),this.wrapper.setOptions(this.options),this.wrapper.setDataTable(e),this.wrapper.draw(this.HTMLel))})}getDataTable(){return this.dataTable}draw(e){void 0===e&&(e=this.data),this.options=e.options,this.dataTable.init(e)}getSelectorBySeriesType(e){return{bars:"bar#%s#%r",haxis:"hAxis#0#label",line:"point#%s#%r",legend:"legendentry#%s",area:"point#%s#%r"}[e]}getSeriesByColumn(e){let o=0;const a=this.wrapper.getDataTable();for(let t=e-1;t>=0;t--){const n=a.getColumnRole(t),i=a.getColumnType(t);("data"===n||"number"===i)&&o++}return o}getBoundingBoxForItem(e){let o={top:0,left:0,width:0,height:0};if(this.cli){const a=e.column,t=this.getSeriesByColumn(a),n=e.row;let i=this.options.seriesType;if(this.options.series&&this.options.series[t]&&this.options.series[t].type&&(i=this.options.series[t].type),i){let l=this.getSelectorBySeriesType(i);if(l){l=l.replace("%s",t+"").replace("%c",a+"").replace("%r",n+"");const m=this.cli.getBoundingBox(l);m&&(o=m)}}}return o}getValueAtPosition(e){return null==e.row?null:this.wrapper.getDataTable().getValue(e.row,e.column)}getColumnTypeAtPosition(e){return this.wrapper.getDataTable().getColumnType(e.column)||""}getColumnLabelAtPosition(e){return this.wrapper.getDataTable().getColumnLabel(e.column)||""}getHTMLTooltip(){const e=new s.SBq(this.el.nativeElement.querySelector(".google-visualization-tooltip"));return new u(e)}parseMouseEvent(e){const o=this.wrapper.getChartType();let a=e.column;null==a&&(a="Timeline"===o?3===this.wrapper.getDataTable().getNumberOfColumns()?0:1:0);const n={row:e.row,column:a};return{position:e,boundingBox:this.getBoundingBoxForItem(n),value:this.getValueAtPosition(n),columnType:this.getColumnTypeAtPosition(n),columnLabel:this.getColumnLabelAtPosition(n)}}registerChartEvents(){const e=this.wrapper.getChart();this.cli=e.getChartLayoutInterface?e.getChartLayoutInterface():null,this.mouseOver.observers.length>0&&google.visualization.events.addListener(e,"onmouseover",o=>{const a=this.parseMouseEvent(o);a.tooltip=this.getHTMLTooltip(),this.mouseOver.emit(a)}),this.mouseOverOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(e,"onmouseover",o=>{const a=this.parseMouseEvent(o);a.tooltip=this.getHTMLTooltip(),this.mouseOverOneTime.emit(a)}),this.mouseOut.observers.length>0&&google.visualization.events.addListener(e,"onmouseout",o=>{const a=this.parseMouseEvent(o);this.mouseOut.emit(a)}),this.mouseOutOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(e,"onmouseout",o=>{const a=this.parseMouseEvent(o);this.mouseOutOneTime.emit(a)}),"GeoChart"===this.data.chartType&&(this.regionClick.observers.length>0&&google.visualization.events.addListener(e,"regionClick",o=>{this.regionClick.emit(o)}),this.regionClickOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(e,"regionClick",o=>{this.regionClick.emit(o)}))}registerChartWrapperEvents(){google.visualization.events.addListener(this.wrapper,"ready",()=>{this.chartReady.emit({message:"Chart ready"})}),google.visualization.events.addOneTimeListener(this.wrapper,"ready",()=>{this.chartReadyOneTime.emit({message:"Chart ready (one time)"}),this.registerChartEvents()}),google.visualization.events.addListener(this.wrapper,"error",e=>{this.chartError.emit(e)}),google.visualization.events.addOneTimeListener(this.wrapper,"error",e=>{this.chartErrorOneTime.emit(e)}),this.addListener(this.wrapper,"select",this.selectListener,this.chartSelect),this.addOneTimeListener(this.wrapper,"select",this.selectListener,this.chartSelectOneTime)}addListener(e,o,a,t){google.visualization.events.addListener(e,o,()=>{t.emit(a())})}addOneTimeListener(e,o,a,t){google.visualization.events.addOneTimeListener(e,o,()=>{t.emit(a())})}convertOptions(){try{this.options=google.charts[this.data.chartType].convertOptions(this.options)}catch(e){return}}}return r.\u0275fac=function(e){return new(e||r)(s.Y36(s.SBq),s.Y36(c))},r.\u0275cmp=s.Xpm({type:r,selectors:[["google-chart"]],inputs:{data:"data"},outputs:{chartReady:"chartReady",chartReadyOneTime:"chartReadyOneTime",chartError:"chartError",chartErrorOneTime:"chartErrorOneTime",chartSelect:"chartSelect",chartSelectOneTime:"chartSelectOneTime",mouseOver:"mouseOver",mouseOverOneTime:"mouseOverOneTime",mouseOut:"mouseOut",mouseOutOneTime:"mouseOutOneTime",regionClick:"regionClick",regionClickOneTime:"regionClickOneTime"},decls:1,vars:0,template:function(e,o){1&e&&s._UZ(0,"div")},encapsulation:2}),r})(),y=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({providers:[c]}),r})()}}]);